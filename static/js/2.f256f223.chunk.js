(window.webpackJsonpinversus=window.webpackJsonpinversus||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return h}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return m}),n.d(t,"__spreadArrays",function(){return y}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return b}),n.d(t,"__asyncValues",function(){return w}),n.d(t,"__makeTemplateObject",function(){return E}),n.d(t,"__importStar",function(){return S}),n.d(t,"__importDefault",function(){return T});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=n(74),a=n(75),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=[],f=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){l=l.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(l.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),l=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var h="6.6.2",p=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"===typeof r&&null!==r||(r={name:r});var a=r;void 0===a.name&&(a.name=c);var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var f=new e(n,a,i);return t[s]=f,l(f,"create"),f},app:a,apps:null,SDK_VERSION:h,INTERNAL:{registerService:function(t,c,l,f,h){if(void 0===h&&(h=!1),n[t])return p.debug("There were multiple attempts to register service "+t+"."),i[t];function d(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=c,f&&(r[t]=f,s().forEach(function(e){f("create",e)})),void 0!==l&&o.deepExtend(d,l),i[t]=d,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,h?e:[])},d},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:f}};function a(e){if(e=e||c,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map(function(e){return t[e]})}function l(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=f(0,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function f(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=e,i}(f);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),y=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var v=m;t.default=v,t.firebase=v},function(e,t,n){e.exports=n(55)()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(73)},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return w});var r=n(20),i=n(17),o=n(0),a=n.n(o),s=n(14),u=(n(3),n(4)),c=n(18),l=n(10),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},d=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=d);var y=m(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=d!==m&&t||n,a.a.createElement("a",l)});var v=m(function(e,t){var n=e.component,i=void 0===n?y:n,o=e.replace,s=e.to,f=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,function(e){e||Object(l.a)(!1);var n=e.history,r=p(h(s,e.location),e.location),c=r?n.createHref(r):"",y=Object(u.a)({},v,{href:c,navigate:function(){var t=h(s,e.location);(o?n.replace:n.push)(t)}});return d!==m?y.ref=t||f:y.innerRef=f,a.a.createElement(i,y)})}),g=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=g);var w=b(function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,d=e.className,m=e.exact,y=e.isActive,w=e.location,E=e.strict,S=e.style,T=e.to,C=e.innerRef,I=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,function(e){e||Object(l.a)(!1);var n=w||e.location,o=p(h(T,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1"),_=k?Object(r.e)(n.pathname,{path:k,exact:m,strict:E}):null,A=!!(y?y(_,n):_),N=A?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(d,s):d,O=A?Object(u.a)({},S,{},f):S,D=Object(u.a)({"aria-current":A&&i||null,className:N,style:O,to:o},I);return g!==b?D.ref=t||C:D.innerRef=C,a.a.createElement(v,D)})})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var o=n(23);function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(o.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=n(4);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&i(e),s=t&&i(t),u=a||s;if(e&&i(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var l=r[r.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=r.length;h>=0;h--){var p=r[h];"."===p?o(r,h):".."===p?(o(r,h),f++):f&&(o(r,h),f--)}if(!u)for(;f--;f)r.unshift("..");!u||""===r[0]||r[0]&&i(r[0])||r.unshift("");var d=r.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r="undefined"===typeof t?"undefined":s(t);if(r!==("undefined"===typeof n?"undefined":s(n)))return!1;if("object"===r){var i=t.valueOf(),o=n.valueOf();if(i!==t||o!==n)return e(i,o);var a=Object.keys(t),u=Object.keys(n);return a.length===u.length&&a.every(function(r){return e(t[r],n[r])})}return!1},c=n(10);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return T}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return O}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return d});var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,y=o.keyLength,T=void 0===y?6:y,C=e.basename?p(l(e.basename)):"";function I(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return C&&(o=h(o,C)),m(o,r,n)}function k(){return Math.random().toString(36).substr(2,T)}var _=v();function A(e){Object(r.a)(j,e),j.length=t.length,_.notifyListeners(j.location,j.action)}function N(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||x(I(e.state))}function O(){x(I(S()))}var D=!1;function x(e){if(D)D=!1,A();else{_.confirmTransitionTo(e,"POP",f,function(t){t?A({action:"POP",location:e}):function(e){var t=j.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,L(i))}(e)})}}var P=I(S()),R=[P.key];function M(e){return C+d(e)}function L(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(w,N),i&&window.addEventListener(E,O)):0===F&&(window.removeEventListener(w,N),i&&window.removeEventListener(E,O))}var V=!1;var j={length:t.length,action:"POP",location:P,createHref:M,push:function(e,r){var i=m(e,r,k(),j.location);_.confirmTransitionTo(i,"PUSH",f,function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=R.indexOf(j.location.key),c=R.slice(0,-1===u?0:u+1);c.push(i.key),R=c,A({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(e,r){var i=m(e,r,k(),j.location);_.confirmTransitionTo(i,"REPLACE",f,function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=R.indexOf(j.location.key);-1!==u&&(R[u]=i.key),A({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=_.appendListener(e);return U(1),function(){U(-1),t()}}};return j}var C="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function A(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?p(l(e.basename)):"",f=I[s],w=f.encodePath,E=f.decodePath;function S(){var e=E(k());return u&&(e=h(e,u)),m(e)}var T=v();function A(e){Object(r.a)(j,e),j.length=t.length,T.notifyListeners(j.location,j.action)}var N=!1,O=null;function D(){var e=k(),t=w(e);if(e!==t)_(t);else{var n=S(),r=j.location;if(!N&&y(r,n))return;if(O===d(n))return;O=null,function(e){if(N)N=!1,A();else{T.confirmTransitionTo(e,"POP",o,function(t){t?A({action:"POP",location:e}):function(e){var t=j.location,n=M.lastIndexOf(d(t));-1===n&&(n=0);var r=M.lastIndexOf(d(e));-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)})}}(n)}}var x=k(),P=w(x);x!==P&&_(P);var R=S(),M=[d(R)];function L(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(C,D):0===F&&window.removeEventListener(C,D)}var V=!1;var j={length:t.length,action:"POP",location:R,createHref:function(e){return"#"+w(u+d(e))},push:function(e,t){var n=m(e,void 0,void 0,j.location);T.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=d(n),r=w(u+t);if(k()!==r){O=t,function(e){window.location.hash=e}(r);var i=M.lastIndexOf(d(j.location)),o=M.slice(0,-1===i?0:i+1);o.push(t),M=o,A({action:"PUSH",location:n})}else A()}})},replace:function(e,t){var n=m(e,void 0,void 0,j.location);T.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=d(n),r=w(u+t);k()!==r&&(O=t,_(r));var i=M.indexOf(d(j.location));-1!==i&&(M[i]=t),A({action:"REPLACE",location:n})}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return j}function N(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=v();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var p=N(s,0,o.length-1),y=o.map(function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())}),g=d;function b(e){var t=N(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?f({action:"POP",location:r,index:t}):f()})}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:g,push:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(24),i=n(3),o=n.n(i),a=n(0),s=n.n(a);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var d=!1;try{d=!0}catch(b){}function m(e){return null===e?null:"object"===u(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function y(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?c({},e,t):{}}function v(e){var t=e.icon,n=e.mask,i=e.symbol,o=e.className,a=e.title,s=m(t),u=y("classes",[].concat(h(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,o=e.inverse,a=e.border,s=e.listItem,u=e.flip,l=e.size,f=e.rotation,h=e.pull,p=(c(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":a,"fa-li":s,"fa-flip-horizontal":"horizontal"===u||"both"===u,"fa-flip-vertical":"vertical"===u||"both"===u},"fa-".concat(l),"undefined"!==typeof l&&null!==l),c(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f),c(t,"fa-pull-".concat(h),"undefined"!==typeof h&&null!==h),c(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map(function(e){return p[e]?e:null}).filter(function(e){return e})}(e)),h(o.split(" ")))),f=y("transform","string"===typeof e.transform?r.c.transform(e.transform):e.transform),p=y("mask",m(n)),b=Object(r.a)(s,l({},u,f,p,{symbol:i,title:a}));if(!b)return function(){var e;!d&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",s),null;var w=b.abstract,E={};return Object.keys(e).forEach(function(t){v.defaultProps.hasOwnProperty(t)||(E[t]=e[t])}),g(w[0],E)}v.displayName="FontAwesomeIcon",v.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object]),swapOpacity:o.a.bool},v.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var g=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map(function(n){return e(t,n)}),o=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),i=p(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[p(t)]=r}return e},{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=f(r,["style"]);return o.attrs.style=l({},o.attrs.style,s),t.apply(void 0,[n.tag,l({},o.attrs,u)].concat(h(i)))}.bind(null,s.a.createElement)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(63),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";var r=n(17),i=n(0),o=n.n(i),a=n(3),s=n.n(a),u=n(14),c=n(33),l=n.n(c),f=n(40),h=n.n(f),p=1073741823;var d=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+h()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):p,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?p:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?p:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},m=n(10),y=n(4),v=n(34),g=n.n(v),b=(n(37),n(18)),w=n(41),E=n.n(w);n.d(t,"a",function(){return A}),n.d(t,"b",function(){return T}),n.d(t,"c",function(){return R}),n.d(t,"d",function(){return S}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return M});var S=function(e){var t=d();return t.displayName=e,t}("Router"),T=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(S.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var C={},I=1e4,k=0;function _(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=C[n]||(C[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return k<I&&(r[e]=o,k++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}var A=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(S.Consumer,null,function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?_(n.pathname,e.props):t.match,i=Object(y.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(S.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)})},t}(o.a.Component);function N(e){return"/"===e.charAt(0)?e:"/"+e}function O(e,t){if(!e)return t;var n=N(e);return 0!==t.pathname.indexOf(n)?t:Object(y.a)({},t,{pathname:t.pathname.substr(n.length)})}function D(e){return"string"===typeof e?e:Object(u.e)(e)}function x(e){return function(){Object(m.a)(!1)}}function P(){}o.a.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(S.Consumer,null,function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?_(i.pathname,Object(y.a)({},e.props,{path:a})):t.match}}),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null})},t}(o.a.Component);function M(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(b.a)(t,["wrappedComponentRef"]);return o.a.createElement(S.Consumer,null,function(t){return t||Object(m.a)(!1),o.a.createElement(e,Object(y.a)({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,E()(n,e)}o.a.useContext},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return Pe}),n.d(t,"b",function(){return Oe}),n.d(t,"c",function(){return xe});var c=function(){},l={},f={},h={mark:c,measure:c};try{"undefined"!==typeof window&&(l=window),"undefined"!==typeof document&&(f=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(h=performance)}catch(Re){}var p=(l.navigator||{}).userAgent,d=void 0===p?"":p,m=l,y=f,v=h,g=(m.document,!!y.documentElement&&!!y.head&&"function"===typeof y.addEventListener&&"function"===typeof y.createElement),b=(~d.indexOf("MSIE")||d.indexOf("Trident/"),"fa"),w="svg-inline--fa",E="data-fa-i2svg",S=(function(){try{}catch(Re){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),T=S.concat([11,12,13,14,15,16,17,18,19,20]),C={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},I=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",C.GROUP,C.SWAP_OPACITY,C.PRIMARY,C.SECONDARY].concat(S.map(function(e){return"".concat(e,"x")})).concat(T.map(function(e){return"w-".concat(e)})),m.FontAwesomeConfig||{});if(y&&"function"===typeof y.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=u(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=y.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(I[r]=i)})}var k=s({},{familyPrefix:b,replacementClass:w,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},I);k.autoReplaceSvg||(k.observeMutations=!1);var _=s({},k);m.FontAwesomeConfig=_;var A=m||{};A.___FONT_AWESOME___||(A.___FONT_AWESOME___={}),A.___FONT_AWESOME___.styles||(A.___FONT_AWESOME___.styles={}),A.___FONT_AWESOME___.hooks||(A.___FONT_AWESOME___.hooks={}),A.___FONT_AWESOME___.shims||(A.___FONT_AWESOME___.shims=[]);var N=A.___FONT_AWESOME___,O=[];g&&((y.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(y.readyState)||y.addEventListener("DOMContentLoaded",function e(){y.removeEventListener("DOMContentLoaded",e),1,O.map(function(e){return e()})}));var D,x="pending",P="settled",R="fulfilled",M="rejected",L=function(){},F="undefined"!==typeof e&&"undefined"!==typeof e.process&&"function"===typeof e.process.emit,U="undefined"===typeof r?setTimeout:r,V=[];function j(){for(var e=0;e<V.length;e++)V[e][0](V[e][1]);V=[],D=!1}function q(e,t){V.push([e,t]),D||(D=!0,U(j,0))}function B(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"===typeof i){n=R;try{r=i(r)}catch(Re){Q(o,Re)}}z(o,r)||(n===R&&W(o,r),n===M&&Q(o,r))}function z(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===i(t))){var r=t.then;if("function"===typeof r)return r.call(t,function(r){n||(n=!0,t===r?K(e,r):W(e,r))},function(t){n||(n=!0,Q(e,t))}),!0}}catch(Re){return n||Q(e,Re),!0}return!1}function W(e,t){e!==t&&z(e,t)||K(e,t)}function K(e,t){e._state===x&&(e._state=P,e._data=t,q(G,e))}function Q(e,t){e._state===x&&(e._state=P,e._data=t,q(Y,e))}function H(e){e._then=e._then.forEach(B)}function G(e){e._state=R,H(e)}function Y(t){t._state=M,H(t),!t._handled&&F&&e.process.emit("unhandledRejection",t._data,t)}function X(t){e.process.emit("rejectionHandled",t)}function $(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof $===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Q(t,e)}try{e(function(e){W(t,e)},n)}catch(Re){n(Re)}}(e,this)}$.prototype={constructor:$,_state:x,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(L),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===M&&F&&q(X,this)),this._state===R||this._state===M?q(B,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},$.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new $(function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)})},$.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new $(function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)})},$.resolve=function(e){return e&&"object"===i(e)&&e.constructor===$?e:new $(function(t){t(e)})},$.reject=function(e){return new $(function(t,n){n(e)})};"function"===typeof Promise&&Promise;var J={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Z(e){if(e&&g){var t=y.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=y.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return y.head.insertBefore(t,r),e}}var ee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function te(){for(var e=12,t="";e-- >0;)t+=ee[62*Math.random()|0];return t}function ne(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function re(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n],";")},"")}function ie(e){return e.size!==J.size||e.x!==J.x||e.y!==J.y||e.rotate!==J.rotate||e.flipX||e.flipY}function oe(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var ae={x:0,y:0,width:"100%",height:"100%"};function se(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ue(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,u=e.symbol,c=e.title,l=e.extra,f=e.watchable,h=void 0!==f&&f,p=r.found?r:n,d=p.width,m=p.height,y="fa-w-".concat(Math.ceil(d/m*16)),v=[_.replacementClass,o?"".concat(_.familyPrefix,"-").concat(o):"",y].filter(function(e){return-1===l.classes.indexOf(e)}).concat(l.classes).join(" "),g={children:[],attributes:s({},l.attributes,{"data-prefix":i,"data-icon":o,class:v,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(m)})};h&&(g.attributes[E]=""),c&&g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(te())},children:[c]});var b=s({},g,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:u,styles:l.styles}),w=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.transform,u=i.width,c=i.icon,l=o.width,f=o.icon,h=oe({transform:a,containerWidth:l,iconWidth:u}),p={tag:"rect",attributes:s({},ae,{fill:"white"})},d=c.children?{children:c.children.map(se)}:{},m={tag:"g",attributes:s({},h.inner),children:[se(s({tag:c.tag,attributes:s({},c.attributes,h.path)},d))]},y={tag:"g",attributes:s({},h.outer),children:[m]},v="mask-".concat(te()),g="clip-".concat(te()),b={tag:"mask",attributes:s({},ae,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(v,")")},ae)}),{children:n,attributes:r}}(b):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=re(e.styles);if(o.length>0&&(n.style=o),ie(i)){var a=oe({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(b),S=w.children,T=w.attributes;return b.children=S,b.attributes=T,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(t,"-").concat(_.familyPrefix,"-").concat(n):o}),children:r}]}]}(b):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(ie(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=re(s({},o,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(b)}var ce=function(){},le=(_.measurePerformance&&v&&v.mark&&v.measure,function(e,t,n,r){var i,o,a,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<u;i++)a=c(a,e[o=s[i]],o,e);return a});function fe(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Object.keys(t).reduce(function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{});"function"!==typeof N.hooks.addPack||r?N.styles[e]=s({},N.styles[e]||{},i):N.hooks.addPack(e,i),"fas"===e&&fe("fa",t)}var he=N.styles,pe=N.shims,de=function(){var e=function(e){return le(he,function(t,n,r){return t[r]=le(n,e,{}),t},{})};e(function(e,t,n){return t[3]&&(e[t[3]]=n),e}),e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in he;le(pe,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e},{})};de();N.styles;function me(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ye(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?ne(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(ne(e[n]),'" ')},"").trim()}(r),">").concat(o.map(ye).join(""),"</").concat(t,">")}var ve=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},t):t};function ge(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge;var be={fill:"currentColor"},we={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ee={tag:"path",attributes:s({},be,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Se=s({},we,{attributeName:"opacity"});s({},be,{cx:"256",cy:"364",r:"28"}),s({},we,{attributeName:"r",values:"28;14;28;28;14;28;"}),s({},Se,{values:"1;0;1;1;0;1;"}),s({},be,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),s({},Se,{values:"1;0;0;0;0;1;"}),s({},be,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),s({},Se,{values:"0;0;1;1;0;0;"}),N.styles;function Te(e){var t=e[0],n=e[1],r=u(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(_.familyPrefix,"-").concat(C.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(C.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(C.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}N.styles;var Ce='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function Ie(){var e=b,t=w,n=_.familyPrefix,r=_.replacementClass,i=Ce;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}function ke(){_.autoAddCss&&!De&&(Z(Ie()),De=!0)}function _e(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return ye(e)})}}),Object.defineProperty(e,"node",{get:function(){if(g){var t=y.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Ae(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return me(Oe.definitions,n,r)||me(N.styles,n,r)}var Ne,Oe=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=s({},e.definitions[t]||{},i[t]),fe(t,i[t]),de()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a}),e}}])&&o(t.prototype,n),r&&o(t,r),e}()),De=!1,xe={transform:function(e){return ve(e)}},Pe=(Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?J:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,u=void 0===a?null:a,c=t.title,l=void 0===c?null:c,f=t.classes,h=void 0===f?[]:f,p=t.attributes,d=void 0===p?{}:p,m=t.styles,y=void 0===m?{}:m;if(e){var v=e.prefix,g=e.iconName,b=e.icon;return _e(s({type:"icon"},e),function(){return ke(),_.autoA11y&&(l?d["aria-labelledby"]="".concat(_.replacementClass,"-title-").concat(te()):(d["aria-hidden"]="true",d.focusable="false")),ue({icons:{main:Te(b),mask:u?Te(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:g,transform:s({},J,r),symbol:o,title:l,extra:{attributes:d,styles:y,classes:h}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Ae(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Ae(r||{})),Ne(n,s({},t,{mask:r}))})}).call(this,n(21),n(60).setImmediate)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},i={prefix:"fas",iconName:"volume-mute",icon:[512,512,[],"f6a9","M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"]},o={prefix:"fas",iconName:"volume-up",icon:[576,512,[],"f028","M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"]},a={prefix:"fas",iconName:"window-close",icon:[512,512,[],"f410","M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-83.6 290.5c4.8 4.8 4.8 12.6 0 17.4l-40.5 40.5c-4.8 4.8-12.6 4.8-17.4 0L256 313.3l-66.5 67.1c-4.8 4.8-12.6 4.8-17.4 0l-40.5-40.5c-4.8-4.8-4.8-12.6 0-17.4l67.1-66.5-67.1-66.5c-4.8-4.8-4.8-12.6 0-17.4l40.5-40.5c4.8-4.8 12.6-4.8 17.4 0l66.5 67.1 66.5-67.1c4.8-4.8 12.6-4.8 17.4 0l40.5 40.5c4.8 4.8 4.8 12.6 0 17.4L313.3 256l67.1 66.5z"]}},,,,function(e,t,n){"use strict";var r,i=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,i=n(68);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=a},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(50)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(57);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],p=n.index;if(s+=e.slice(a,p),a=p+f.length,h)s+=h[1];else{var d=e[a],m=n[2],y=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=d&&d!==m,S="+"===b||"*"===b,T="?"===b||"*"===b,C=n[2]||l,I=v||g;r.push({name:y||o++,prefix:m||"",delimiter:C,optional:T,repeat:S,partial:E,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+u(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=u(h[p]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n.n(i),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},u=function(e){return e%1?Number(e.toFixed(5)):e},c=/(-)?(\d[\d\.]*)/g,l=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,f=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,h={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},p=a(a({},h),{transform:s(0,1)}),d=a(a({},h),{default:1}),m=function(e){return{test:function(t){return"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},y=m("deg"),v=m("%"),g=m("px"),b=m("vh"),w=m("vw"),E=a(a({},v),{parse:function(e){return v.parse(e)/100},transform:function(e){return v.transform(100*e)}}),S=s(0,255),T=function(e){return void 0!==e.red},C=function(e){return void 0!==e.hue},I=function(e){return function(t){if("string"!==typeof t)return t;for(var n,r={},i=(n=t,n.substring(n.indexOf("(")+1,n.lastIndexOf(")"))).split(/,\s*/),o=0;o<4;o++)r[e[o]]=void 0!==i[o]?parseFloat(i[o]):1;return r}},k=a(a({},h),{transform:function(e){return Math.round(S(e))}});function _(e,t){return e.startsWith(t)&&f.test(e)}var A={test:function(e){return"string"===typeof e?_(e,"rgb"):T(e)},parse:I(["red","green","blue","alpha"]),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,o=void 0===i?1:i;return function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return"rgba("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({red:k.transform(t),green:k.transform(n),blue:k.transform(r),alpha:u(p.transform(o))})}},N={test:function(e){return"string"===typeof e?_(e,"hsl"):C(e)},parse:I(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,o=void 0===i?1:i;return function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return"hsla("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:v.transform(u(n)),lightness:v.transform(u(r)),alpha:u(p.transform(o))})}},O=a(a({},A),{test:function(e){return"string"===typeof e&&_(e,"#")},parse:function(e){var t="",n="",r="";return e.length>4?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),t+=t,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),D={test:function(e){return"string"===typeof e&&f.test(e)||T(e)||C(e)},parse:function(e){return A.test(e)?A.parse(e):N.test(e)?N.parse(e):O.test(e)?O.parse(e):e},transform:function(e){return T(e)?A.transform(e):C(e)?N.transform(e):e}},x=function(e){return"number"===typeof e?0:e},P={test:function(e){if("string"!==typeof e||!isNaN(e))return!1;var t=0,n=e.match(c),r=e.match(l);return n&&(t+=n.length),r&&(t+=r.length),t>0},parse:function(e){var t=e,n=[],r=t.match(l);r&&(t=t.replace(l,"${c}"),n.push.apply(n,r.map(D.parse)));var i=t.match(c);return i&&n.push.apply(n,i.map(h.parse)),n},createTransformer:function(e){var t=e,n=0,r=e.match(l),i=r?r.length:0;if(r)for(var o=0;o<i;o++)t=t.replace(r[o],"${c}"),n++;var a=t.match(c),s=a?a.length:0;if(a)for(o=0;o<s;o++)t=t.replace(a[o],"${n}"),n++;return function(e){for(var r=t,o=0;o<n;o++)r=r.replace(o<i?"${c}":"${n}",o<i?D.transform(e[o]):u(e[o]));return r}},getAnimatableNone:function(e){var t=P.parse(e);return P.createTransformer(e)(t.map(x))}},R=function(){},M=function(){};var L,F=0,U="undefined"!==typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),n=Math.max(0,16.7-(t-F));F=t+n,setTimeout(function(){return e(F)},n)};!function(e){e.Read="read",e.Update="update",e.Render="render",e.PostRender="postRender",e.FixedUpdate="fixedUpdate"}(L||(L={}));var V=1/60*1e3,j=!0,q=!1,B=!1,z={delta:0,timestamp:0},W=[L.Read,L.Update,L.Render,L.PostRender],K=function(e){return q=e},Q=W.reduce(function(e,t){var n=function(e){var t=[],n=[],r=0,i=!1,o=0,a=new WeakSet,s=new WeakSet,u={cancel:function(e){var t=n.indexOf(e);a.add(e),-1!==t&&n.splice(t,1)},process:function(c){var l,f;if(i=!0,t=(l=[n,t])[0],(n=l[1]).length=0,r=t.length)for(o=0;o<r;o++)(f=t[o])(c),!0!==s.has(f)||a.has(f)||(u.schedule(f),e(!0));i=!1},schedule:function(e,o,u){void 0===o&&(o=!1),void 0===u&&(u=!1),M("function"===typeof e,"Argument must be a function");var c=u&&i,l=c?t:n;a.delete(e),o&&s.add(e),-1===l.indexOf(e)&&(l.push(e),c&&(r=t.length))}};return u}(K);return e.sync[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),q||J(),n.schedule(e,t,r),e},e.cancelSync[t]=function(e){return n.cancel(e)},e.steps[t]=n,e},{steps:{},sync:{},cancelSync:{}}),H=Q.steps,G=Q.sync,Y=Q.cancelSync,X=function(e){return H[e].process(z)},$=function e(t){q=!1,z.delta=j?V:Math.max(Math.min(t-z.timestamp,40),1),j||(V=z.delta),z.timestamp=t,B=!0,W.forEach(X),B=!1,q&&(j=!1,U(e))},J=function(){q=!0,j=!0,B||U($)},Z=function(){return z},ee=G,te=function(e){return function(t){return 1-e(1-t)}},ne=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},re=te,ie=function(e){return function(t){return t*t*((e+1)*t-e)}},oe=function(e){var t=ie(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},ae=function(e){return e},se=function(e){return function(t){return Math.pow(t,e)}}(2),ue=te(se),ce=ne(se),le=function(e){return 1-Math.sin(Math.acos(e))},fe=te(le),he=ne(fe),pe=ie(1.525),de=te(pe),me=ne(pe),ye=oe(1.525),ve=8,ge=.001,be=1e-7,we=10,Ee=11,Se=1/(Ee-1),Te="undefined"!==typeof Float32Array,Ce=function(e,t){return 1-3*t+3*e},Ie=function(e,t){return 3*t-6*e},ke=function(e){return 3*e},_e=function(e,t,n){return 3*Ce(t,n)*e*e+2*Ie(t,n)*e+ke(t)},Ae=function(e,t,n){return((Ce(t,n)*e+Ie(t,n))*e+ke(t))*e};function Ne(e,t,n,r){var i=Te?new Float32Array(Ee):new Array(Ee),o=function(t){for(var r,o,a,s=0,u=1,c=Ee-1;u!==c&&i[u]<=t;++u)s+=Se;return r=(t-i[--u])/(i[u+1]-i[u]),(a=_e(o=s+r*Se,e,n))>=ge?function(t,r){for(var i=0,o=0;i<ve;++i){if(0===(o=_e(r,e,n)))return r;r-=(Ae(r,e,n)-t)/o}return r}(t,o):0===a?o:function(t,r,i){var o,a,s=0;do{(o=Ae(a=r+(i-r)/2,e,n)-t)>0?i=a:r=a}while(Math.abs(o)>be&&++s<we);return a}(t,s,s+Se)};!function(){for(var t=0;t<Ee;++t)i[t]=Ae(t*Se,e,n)}();return function(i){return e===t&&n===r?i:0===i?0:1===i?1:Ae(o(i),t,r)}}var Oe={x:0,y:0,z:0},De=function(e){return"number"===typeof e},xe=function(e){return 180*e/Math.PI},Pe=function(e,t){return void 0===t&&(t=Oe),xe(Math.atan2(t.y-e.y,t.x-e.x))},Re=function(e,t){var n=!0;return void 0===t&&(t=e,n=!1),function(r){return n?r-e+t:(e=r,n=!0,t)}},Me=function(e){return function(t,n,r){return void 0!==r?e(t,n,r):function(r){return e(t,n,r)}}},Le=Me(function(e,t,n){return Math.min(Math.max(n,e),t)}),Fe=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Ue=function(e){return Fe(e)&&e.hasOwnProperty("z")},Ve=function(e,t){return Math.abs(e-t)},je=function(e,t){if(void 0===t&&(t=Oe),De(e)&&De(t))return Ve(e,t);if(Fe(e)&&Fe(t)){var n=Ve(e.x,t.x),r=Ve(e.y,t.y),i=Ue(e)&&Ue(t)?Ve(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}return 0},qe=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Be=function(e,t,n){return-n*e+n*t+e},ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},We=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Ke=[O,A,N],Qe=function(e){return Ke.find(function(t){return t.test(e)})},He=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},Ge=function(e,t){var n=Qe(e),r=Qe(t);M(!!n,He(e)),M(!!r,He(t)),M(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var i=n.parse(e),o=r.parse(t),a=ze({},i),s=n===N?Be:We;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(i[t],o[t],e));return a.alpha=Be(i.alpha,o.alpha,e),n.transform(a)}},Ye=function(e,t){return function(n){return t(e(n))}},Xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Ye)};function $e(e,t){return De(e)?function(n){return Be(e,t,n)}:D.test(e)?Ge(e,t):tt(e,t)}var Je=function(e,t){var n=e.slice(),r=n.length,i=e.map(function(e,n){return $e(e,t[n])});return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Ze=function(e,t){var n=ze({},e,t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=$e(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function et(e){for(var t=P.parse(e),n=t.length,r=0,i=0,o=0,a=0;a<n;a++)r||"number"===typeof t[a]?r++:void 0!==t[a].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}var tt=function(e,t){var n=P.createTransformer(t),r=et(e),i=et(t);return M(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),Xe(Je(r.parsed,i.parsed),n)},nt=function(e,t){return function(n){return Be(e,t,n)}};function rt(e,t,n){for(var r,i=[],o=n||("number"===typeof(r=e[0])?nt:"string"===typeof r?D.test(r)?Ge:tt:Array.isArray(r)?Je:"object"===typeof r?Ze:void 0),a=e.length-1,s=0;s<a;s++){var u=o(e[s],e[s+1]);if(t){var c=Array.isArray(t)?t[s]:t;u=Xe(c,u)}i.push(u)}return i}var it,ot=function(e,t,n,r){return void 0===r&&(r=0),i=e+n*(t-e)/Math.max(r,n),void 0===o&&(o=2),o=Math.pow(10,o),Math.round(i*o)/o;var i,o},at=function(e){return e},st=function(e){return void 0===e&&(e=at),Me(function(t,n,r){var i=n-r,o=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?n+o:n-o})},ut=st(),ct=st(Math.sqrt),lt=function(e,t){return De(e)?e/(1e3/t):0},ft=function(e,t){return t?e*(1e3/t):0},ht=Me(function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e}),pt=(Le(0,1),function(e){var t=e.onRead,n=e.onRender,i=e.uncachedValues,o=void 0===i?new Set:i,a=e.useCache,s=void 0===a||a;return function(e){void 0===e&&(e={});var i=Object(r.__rest)(e,[]),a={},u=[],c=!1;function l(e,t){e.startsWith("--")&&(i.hasCSSVariable=!0);var n=a[e];a[e]=t,a[e]!==n&&(-1===u.indexOf(e)&&u.push(e),c||(c=!0,ee.render(f.render)))}var f={get:function(e,n){return void 0===n&&(n=!1),!n&&s&&!o.has(e)&&void 0!==a[e]?a[e]:t(e,i)},set:function(e,t){if("string"===typeof e)l(e,t);else for(var n in e)l(n,e[n]);return this},render:function(e){return void 0===e&&(e=!1),(c||!0===e)&&(n(a,i,u),c=!1,u.length=0),this}};return f}}),dt=/([a-z])([A-Z])/g,mt=function(e){return e.replace(dt,"$1-$2").toLowerCase()},yt=new Map,vt=new Map,gt=["Webkit","Moz","O","ms",""],bt=gt.length,wt="undefined"!==typeof document,Et=function(e,t){return vt.set(e,mt(t))},St=function(e,t){void 0===t&&(t=!1);var n=t?vt:yt;return n.has(e)||(wt?function(e){it=it||document.createElement("div");for(var t=0;t<bt;t++){var n=gt[t],r=""===n,i=r?e:n+e.charAt(0).toUpperCase()+e.slice(1);if(i in it.style||r){if(r&&"clipPath"===e&&vt.has(e))return;yt.set(e,i),Et(e,(r?"":"-")+mt(i))}}}(e):function(e){Et(e,e)}(e)),n.get(e)||e},Tt=["","X","Y","Z"],Ct=["translate","scale","rotate","skew","transformPerspective"].reduce(function(e,t){return Tt.reduce(function(e,n){return e.push(t+n),e},e)},["x","y","z"]),It=Ct.reduce(function(e,t){return e[t]=!0,e},{});function kt(e){return!0===It[e]}function _t(e,t){return Ct.indexOf(e)-Ct.indexOf(t)}var At=new Set(["originX","originY","originZ"]);function Nt(e){return At.has(e)}var Ot=Object(r.__assign)(Object(r.__assign)({},h),{transform:Math.round}),Dt={color:D,backgroundColor:D,outlineColor:D,fill:D,stroke:D,borderColor:D,borderTopColor:D,borderRightColor:D,borderBottomColor:D,borderLeftColor:D,borderWidth:g,borderTopWidth:g,borderRightWidth:g,borderBottomWidth:g,borderLeftWidth:g,borderRadius:g,radius:g,borderTopLeftRadius:g,borderTopRightRadius:g,borderBottomRightRadius:g,borderBottomLeftRadius:g,width:g,maxWidth:g,height:g,maxHeight:g,size:g,top:g,right:g,bottom:g,left:g,padding:g,paddingTop:g,paddingRight:g,paddingBottom:g,paddingLeft:g,margin:g,marginTop:g,marginRight:g,marginBottom:g,marginLeft:g,rotate:y,rotateX:y,rotateY:y,rotateZ:y,scale:d,scaleX:d,scaleY:d,scaleZ:d,skew:y,skewX:y,skewY:y,distance:g,translateX:g,translateY:g,translateZ:g,x:g,y:g,z:g,perspective:g,opacity:p,originX:E,originY:E,originZ:g,zIndex:Ot,fillOpacity:p,strokeOpacity:p,numOctaves:Ot},xt=function(e){return Dt[e]},Pt=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Rt="scrollLeft",Mt="scrollTop",Lt=new Set([Rt,Mt]),Ft=new Set([Rt,Mt,"transform"]),Ut={x:"translateX",y:"translateY",z:"translateZ"};function Vt(e){return"function"===typeof e}function jt(e,t,n,r,i,o,a){void 0===t&&(t=!0),void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={}),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=!0,u=!1,c=!1;for(var l in e){var f=e[l],h=xt(l),p=Pt(f,h);kt(l)?(u=!0,r[l]=p,o.push(l),s&&(h.default&&f!==h.default||!h.default&&0!==f)&&(s=!1)):Nt(l)?(i[l]=p,c=!0):Ft.has(l)&&Vt(p)||(n[St(l,a)]=p)}return(u||"function"===typeof e.transform)&&(n.transform=function(e,t,n,r,i){var o="",a=!1;n.sort(_t);for(var s=n.length,u=0;u<s;u++){var c=n[u];o+=(Ut[c]||c)+"("+t[c]+") ",a="z"===c||a}return!a&&i?o+="translateZ(0)":o=o.trim(),Vt(e.transform)?o=e.transform(t,o):r&&(o="none"),o}(e,r,o,s,t)),c&&(n.transformOrigin=(i.originX||"50%")+" "+(i.originY||"50%")+" "+(i.originZ||0)),n}function qt(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n={},r={},i={},o=[];return function(a){return o.length=0,jt(a,e,n,r,i,o,t),n}}var Bt=pt({onRead:function(e,t){var n=t.element,r=t.preparseOutput,i=xt(e);if(kt(e))return i&&i.default||0;if(Lt.has(e))return n[e];var o=window.getComputedStyle(n,null).getPropertyValue(St(e,!0))||0;return r&&i&&i.test(o)&&i.parse?i.parse(o):o},onRender:function(e,t,n){var r=t.element,i=t.buildStyles,o=t.hasCSSVariable;if(Object.assign(r.style,i(e)),o)for(var a=n.length,s=0;s<a;s++){var u=n[s];u.startsWith("--")&&r.style.setProperty(u,e[u])}-1!==n.indexOf(Rt)&&(r[Rt]=e[Rt]),-1!==n.indexOf(Mt)&&(r[Mt]=e[Mt])},uncachedValues:Lt});var zt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),Wt=.5,Kt=function(){return{style:{}}},Qt=function(e,t){return g.transform(e*t)},Ht={x:0,y:0,width:0,height:0};function Gt(e,t,n){return"string"===typeof e?e:g.transform(t+n*e)}function Yt(e,t,n,i,o,a){void 0===t&&(t=Ht),void 0===i&&(i=qt(!1,!1)),void 0===o&&(o=Kt()),void 0===a&&(a=!0);var s=e.attrX,u=e.attrY,c=e.originX,l=e.originY,f=e.pathLength,h=e.pathSpacing,p=void 0===h?1:h,d=e.pathOffset,m=void 0===d?0:d,y=i(Object(r.__rest)(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var v in y){if("transform"===v)o.style.transform=y[v];else o[a&&!zt.has(v)?mt(v):v]=y[v]}return(void 0!==c||void 0!==l||y.transform)&&(o.style.transformOrigin=function(e,t,n){return Gt(t,e.x,e.width)+" "+Gt(n,e.y,e.height)}(t,void 0!==c?c:Wt,void 0!==l?l:Wt)),void 0!==s&&(o.x=s),void 0!==u&&(o.y=u),void 0!==n&&void 0!==f&&(o[a?"stroke-dashoffset":"strokeDashoffset"]=Qt(-m,n),o[a?"stroke-dasharray":"strokeDasharray"]=Qt(f,n)+" "+Qt(p,n)),o}function Xt(e,t,n){void 0===n&&(n=!0);var r=Kt(),i=qt(!1,!1);return function(o){return Yt(o,e,t,i,r,n)}}var $t=pt({onRead:function(e,t){var n=t.element;if(kt(e=zt.has(e)?e:mt(e))){var r=xt(e);return r&&r.default||0}return n.getAttribute(e)},onRender:function(e,t){var n=t.element,r=(0,t.buildAttrs)(e);for(var i in r)"style"===i?Object.assign(n.style,r.style):n.setAttribute(i,r[i])}}),Jt=pt({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,n=void 0===t?0:t,r=e.scrollLeft,i=void 0===r?0:r;return window.scrollTo(i,n)}}),Zt=new WeakMap,en=function(e,t){var n;return e instanceof HTMLElement?n=function(e,t){void 0===t&&(t={});var n=t.enableHardwareAcceleration,i=Object(r.__rest)(t,["enableHardwareAcceleration"]);return Bt(Object(r.__assign)({element:e,buildStyles:qt(n),preparseOutput:!0},i))}(e,t):e instanceof SVGElement?n=function(e){var t=function(e){try{return function(e){return"function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}(e)}catch(t){return{x:0,y:0,width:0,height:0}}}(e),n=function(e){return"path"===e.tagName}(e)&&e.getTotalLength?e.getTotalLength():void 0;return $t({element:e,buildAttrs:Xt(t,n)})}(e):e===window&&(n=Jt(e)),M(void 0!==n,"No valid node provided. Node must be HTMLElement, SVGElement or window."),Zt.set(e,n),n},tn=function(e,t){return Zt.has(e)?Zt.get(e):en(e,t)};var nn=function(e,t){var n="string"===typeof e?document.querySelector(e):e;return tn(n,t)},rn=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(Object(r.__assign)({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:Xe.apply(void 0,e);return this.applyMiddleware(function(e){return function(t){return e(n(t))}})},e.prototype.while=function(e){return this.applyMiddleware(function(t,n){return function(r){return e(r)?t(r):n()}})},e.prototype.filter=function(e){return this.applyMiddleware(function(t){return function(n){return e(n)&&t(n)}})},e}(),on=function(){return function(e,t){var n=e.middleware,r=e.onComplete,i=this;this.isActive=!0,this.update=function(e){i.observer.update&&i.updateObserver(e)},this.complete=function(){i.observer.complete&&i.isActive&&i.observer.complete(),i.onComplete&&i.onComplete(),i.isActive=!1},this.error=function(e){i.observer.error&&i.isActive&&i.observer.error(e),i.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=r,t.update&&n&&n.length&&n.forEach(function(e){return i.updateObserver=e(i.updateObserver,i.complete)})}}(),an=function(e,t,n){var r=t.middleware;return new on({middleware:r,onComplete:n},"function"===typeof e?{update:e}:e)},sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,n={stop:function(){}},i=this.props,o=i.init,a=Object(r.__rest)(i,["init"]),s=o(an(e,a,function(){t=!0,n.stop()}));return n=s?Object(r.__assign)({},n,s):n,e.registerParent&&e.registerParent(n),t&&n.stop(),n},t}(rn),un=function(e){return new sn({init:e})},cn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return Object(r.__extends)(t,e),t.prototype.complete=function(){this.subscribers.forEach(function(e){return e.complete()})},t.prototype.error=function(e){this.subscribers.forEach(function(t){return t.error(e)})},t.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},t.prototype.subscribe=function(e){var t=this,n=an(e,this.props);return this.subscribers.push(n),{unsubscribe:function(){var e=t.subscribers.indexOf(n);-1!==e&&t.subscribers.splice(e,1)}}},t.prototype.stop=function(){this.parent&&this.parent.stop()},t.prototype.registerParent=function(e){this.stop(),this.parent=e},t}(rn),ln=function(e,t){var n=1/(e-1),r=1/(2*(e-1)),i=Math.min(t,1)/r;return Math.floor((i+1)/2)*n},fn=function(e){return Array.isArray(e)},hn=function(e){var t=typeof e;return"string"===t||"number"===t},pn=function(e){function t(t){var n=e.call(this,t)||this;return n.scheduleVelocityCheck=function(){return ee.postRender(n.velocityCheck)},n.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current)},n.prev=n.current=t.value||0,hn(n.current)?(n.updateCurrent=function(e){return n.current=e},n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)}):fn(n.current)?(n.updateCurrent=function(e){return n.current=e.slice()},n.getVelocityOfCurrent=function(){return n.getListVelocity()}):(n.updateCurrent=function(e){for(var t in n.current={},e)e.hasOwnProperty(t)&&(n.current[t]=e[t])},n.getVelocityOfCurrent=function(){return n.getMapVelocity()}),t.initialSubscription&&n.subscribe(t.initialSubscription),n}return Object(r.__extends)(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var n=Z(),r=n.delta,i=n.timestamp;this.timeDelta=r,this.lastUpdated=i,ee.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(t){var n=e.prototype.subscribe.call(this,t);return this.subscribers[this.subscribers.length-1].update(this.current),n},t.prototype.getSingleVelocity=function(e,t){return"number"===typeof e&&"number"===typeof t?ft(e-t,this.timeDelta):ft(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var e=this;return this.current.map(function(t,n){return e.getSingleVelocity(t,e.prev[n])})},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(cn),dn=function(e,t){return new pn({value:e,initialSubscription:t})},mn=function(e){var t=e.getCount,n=e.getFirst,r=e.getOutput,i=e.mapApi,o=e.setProp,a=e.startActions;return function(e){return un(function(s){var u=s.update,c=s.complete,l=s.error,f=t(e),h=r(),p=function(){return u(h)},d=0,m=a(e,function(e,t){var n=!1;return e.start({complete:function(){n||(n=!0,++d===f&&ee.update(c))},error:l,update:function(e){o(h,t,e),ee.update(p,!1,!0)}})});return Object.keys(n(m)).reduce(function(e,t){return e[t]=i(m,t),e},{})})}},yn=mn({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Object.keys(e).reduce(function(r,i){var o;return e[i][t]&&(n[0]&&void 0!==n[0][i]?r[i]=e[i][t](n[0][i]):r[i]=(o=e[i])[t].apply(o,n)),r},{})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(e[r],r),n},{})}}),vn=mn({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.map(function(e,r){if(e[t])return Array.isArray(n[0])?e[t](n[0][r]):e[t].apply(e,n)})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return e.map(function(e,n){return t(e,n)})}}),gn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vn(e)},bn=[g,v,y,b,w],wn=function(e){return bn.find(function(t){return t.test(e)})},En=function(e,t){return e(t)},Sn=function(e,t,n){var i=n[0],o=t[i].map(function(i,o){var a=n.reduce(function(e){return function(t,n){return t[n]=t[n][e],t}}(o),Object(r.__assign)({},t));return Nn(i)(e,a)});return gn.apply(void 0,o)},Tn=function(e,t,n){var i=n[0],o=Object.keys(t[i]).reduce(function(o,a){var s=n.reduce(function(e){return function(t,n){return t[n]=t[n][e],t}}(a),Object(r.__assign)({},t));return o[a]=Nn(t[i][a])(e,s),o},{});return yn(o)},Cn=function(e,t){var n=t.from,i=t.to,o=Object(r.__rest)(t,["from","to"]),a=wn(n)||wn(i),s=a.transform,u=a.parse;return e(Object(r.__assign)({},o,{from:"string"===typeof n?u(n):n,to:"string"===typeof i?u(i):i})).pipe(s)},In=function(e){return function(t,n){var i=n.from,o=n.to,a=Object(r.__rest)(n,["from","to"]);return t(Object(r.__assign)({},a,{from:0,to:1})).pipe(e(i,o))}},kn=In(Ge),_n=In(tt),An=function(e,t){var n=function(e){var t=Object.keys(e),n=function(t,n){return void 0!==t&&!e[n](t)};return{getVectorKeys:function(e){return t.reduce(function(t,r){return n(e[r],r)&&t.push(r),t},[])},testVectorProps:function(e){return e&&t.some(function(t){return n(e[t],t)})}}}(t),r=n.testVectorProps,i=n.getVectorKeys;return function(t){if(!r(t))return e(t);var n=i(t),o=t[n[0]];return Nn(o)(e,t,n)}},Nn=function(e){return"number"===typeof e?En:Array.isArray(e)?Sn:function(e){return Boolean(wn(e))}(e)?Cn:D.test(e)?kn:P.test(e)?_n:"object"===typeof e?Tn:En},On=An(function(e){return void 0===e&&(e={}),un(function(t){var n=t.complete,r=t.update,i=e.velocity,o=void 0===i?0:i,a=e.from,s=void 0===a?0:a,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?350:l,h=e.restDelta,p=void 0===h?.5:h,d=e.modifyTarget,m=0,y=c*o,v=Math.round(s+y),g="undefined"===typeof d?v:d(v),b=ee.update(function(e){var t=e.delta;m+=t;var i=-y*Math.exp(-m/f),o=i>p||i<-p;r(o?g+i:g),o||(Y.update(b),n())},!0);return{stop:function(){return Y.update(b)}}})},{from:h.test,modifyTarget:function(e){return"function"===typeof e},velocity:h.test}),Dn=An(function(e){return void 0===e&&(e={}),un(function(t){var n=t.update,r=t.complete,i=e.velocity,o=void 0===i?0:i,a=e.from,s=void 0===a?0:a,u=e.to,c=void 0===u?0:u,l=e.stiffness,f=void 0===l?100:l,h=e.damping,p=void 0===h?10:h,d=e.mass,m=void 0===d?1:d,y=e.restSpeed,v=void 0===y?.01:y,g=e.restDelta,b=void 0===g?.01:g,w=o?-o/1e3:0,E=0,S=c-s,T=s,C=T,I=ee.update(function(e){var t=e.delta;E+=t;var i=p/(2*Math.sqrt(f*m)),a=Math.sqrt(f/m)/1e3;if(C=T,i<1){var s=Math.exp(-i*a*E),u=a*Math.sqrt(1-i*i);T=c-s*((w+i*a*S)/u*Math.sin(u*E)+S*Math.cos(u*E))}else{s=Math.exp(-a*E);T=c-s*(S+(w+a*S)*E)}o=ft(T-C,t);var l=Math.abs(o)<=v,h=Math.abs(c-T)<=b;l&&h?(n(T=c),Y.update(I),r()):n(T)},!0);return{stop:function(){return Y.update(I)}}})},{from:h.test,to:h.test,stiffness:h.test,damping:h.test,mass:h.test,velocity:h.test}),xn=An(function(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,o=e.ease,a=void 0===o?ae:o,s=e.reverseEase;return void 0!==s&&s&&(a=re(a)),un(function(e){var t=e.update;return{seek:function(e){return t(e)}}}).pipe(a,function(e){return Be(n,i,e)})},{ease:function(e){return"function"===typeof e},from:h.test,to:h.test}),Pn=Le(0,1),Rn=function(e){return void 0===e&&(e={}),un(function(t){var n,r=t.update,i=t.complete,o=e.duration,a=void 0===o?300:o,s=e.ease,u=void 0===s?ue:s,c=e.flip,l=void 0===c?0:c,f=e.loop,h=void 0===f?0:f,p=e.yoyo,d=void 0===p?0:p,m=e.repeatDelay,y=void 0===m?0:m,v=e.from,g=void 0===v?0:v,b=e.to,w=void 0===b?1:b,E=e.elapsed,S=void 0===E?0:E,T=e.flipCount,C=void 0===T?0:T,I=e.yoyoCount,k=void 0===I?0:I,_=e.loopCount,A=void 0===_?0:_,N=xn({from:g,to:w,ease:u}).start(r),O=0,D=!1,x=function(e){var t;void 0===e&&(e=!1),N=xn({from:g=(t=[w,g])[0],to:w=t[1],ease:u,reverseEase:e}).start(r)},P=function(){O=Pn(qe(0,a,S)),N.seek(O)},R=function(){D=!0,n=ee.update(function(e){var t=e.delta;S+=t,P(),function(){var e=D&&S>a+y;return!!e&&(!(!e||h||l||d)||(S=a-(S-y),h&&A<h?(A++,!1):l&&C<l?(C++,x(),!1):!(d&&k<d)||(x(++k%2!==0),!1)))}()&&(Y.update(n),i&&ee.update(i,!1,!0))},!0)},M=function(){D=!1,n&&Y.update(n)};return R(),{isActive:function(){return D},getElapsed:function(){return Le(0,a,S)},getProgress:function(){return O},stop:function(){M()},pause:function(){return M(),this},resume:function(){return D||R(),this},seek:function(e){return S=Be(0,a,e),ee.update(P,!1,!0),this},reverse:function(){return x(),this}}})},Mn=Le(0,1),Ln=function(e){var t=e.easings,n=e.ease,i=void 0===n?ae:n,o=e.times,a=e.values,s=Object(r.__rest)(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:function(e,t){return e.map(function(){return t||ue}).splice(0,e.length-1)}(a,t),o=o||function(e){var t=e.length;return e.map(function(e,n){return 0!==n?n/(t-1):0})}(a);var u=t.map(function(e,t){return xn({from:a[t],to:a[t+1],ease:e})});return Rn(Object(r.__assign)({},s,{ease:i})).applyMiddleware(function(e){return function(e,t,n){var r=e.length,i=r-1,o=i-1,a=t.map(function(e){return e.start(n)});return function(t){t<=e[0]&&a[0].seek(0),t>=e[i]&&a[o].seek(1);for(var n=1;n<r&&!(e[n]>t||n===i);n++);var s=qe(e[n-1],e[n],t);a[n-1].seek(Mn(s))}}(o,u,e)})},Fn=An(function(e){return void 0===e&&(e={}),un(function(t){var n=t.complete,r=t.update,i=e.acceleration,o=void 0===i?0:i,a=e.friction,s=void 0===a?0:a,u=e.velocity,c=void 0===u?0:u,l=e.springStrength,f=e.to,h=e.restSpeed,p=void 0===h?.001:h,d=e.from,m=void 0===d?0:d,y=ee.update(function(e){var t=e.delta,i=Math.max(t,16);(o&&(c+=lt(o,i)),s&&(c*=Math.pow(1-s,i/100)),void 0!==l&&void 0!==f)&&(c+=(f-m)*lt(l,i));m+=lt(c,i),r(m),!1!==p&&(!c||Math.abs(c)<=p)&&(Y.update(y),n())},!0);return{set:function(e){return m=e,this},setAcceleration:function(e){return o=e,this},setFriction:function(e){return s=e,this},setSpringStrength:function(e){return l=e,this},setSpringTarget:function(e){return f=e,this},setVelocity:function(e){return c=e,this},stop:function(){return Y.update(y)}}})},{acceleration:h.test,friction:h.test,velocity:h.test,from:h.test,to:h.test,springStrength:h.test}),Un=function(e,t,n){return un(function(r){var i=r.update,o=t.split(" ").map(function(t){return e.addEventListener(t,i,n),t});return{stop:function(){return o.forEach(function(t){return e.removeEventListener(t,i,n)})}}})},Vn=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},jn=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},qn=[Vn()],Bn=!1;if("undefined"!==typeof document){Un(document,"touchstart touchmove",{passive:!0,capture:!0}).start(function(e){var t=e.touches;Bn=!0;var n=t.length;qn.length=0;for(var r=0;r<n;r++){var i=t[r];qn.push(jn(i))}})}var zn=Vn(),Wn=!1;if("undefined"!==typeof document){Un(document,"mousedown mousemove",!0).start(function(e){Wn=!0,jn(e,zn)})}var Kn,Qn=function(e){return e[0]},Hn=function(e){return void 0===e&&(e={}),Bn?function(e){var t=void 0===e?{}:e,n=t.preventDefault,r=void 0===n||n,i=t.scale,o=void 0===i?1:i,a=t.rotate,s=void 0===a?0:a;return un(function(e){var t=e.update,n={touches:qn,scale:o,rotate:s},i=0,a=0,u=qn.length>1;if(u){var c=qn[0],l=qn[1];i=je(c,l),a=Pe(c,l)}var f=function(){if(u){var e=qn[0],r=qn[1],c=je(e,r),l=Pe(e,r);n.scale=o*(c/i),n.rotate=s+(l-a)}t(n)},h=Un(document,"touchmove",{passive:!r}).start(function(e){(r||e.touches.length>1)&&e.preventDefault(),ee.update(f)});return Bn&&ee.update(f),{stop:function(){Y.update(f),h.stop()}}})}(e).pipe(function(e){return e.touches},Qn):function(e){var t=(void 0===e?{}:e).preventDefault,n=void 0===t||t;return un(function(e){var t=e.update,r=function(){return t(zn)},i=Un(document,"mousemove").start(function(e){n&&e.preventDefault(),ee.update(r)});return Wn&&ee.update(r),{stop:function(){Y.update(r),i.stop()}}})}(e)},Gn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return un(function(t){var n,r=t.update,i=t.complete,o=0;return function t(){n=e[o].start({complete:function(){++o>=e.length?i():t()},update:r})}(),{stop:function(){return n&&n.stop()}}})},Yn=function(e){return un(function(t){var n=t.complete,r=setTimeout(n,e);return{stop:function(){return clearTimeout(r)}}})},Xn=Object.freeze({applyOffset:Re,clamp:Le,conditional:function(e,t){return function(n){return e(n)?t(n):n}},interpolate:function(e,t,n){var r=void 0===n?{}:n,i=r.clamp,o=void 0===i||i,a=r.ease,s=r.mixer,u=e.length;M(u===t.length,"Both input and output ranges must be the same length"),M(!a||!Array.isArray(a)||a.length===u-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[u-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var c=rt(t,a,s),l=2===u?function(e,t){var n=e[0],r=e[1],i=t[0];return function(e){return i(qe(n,r,e))}}(e,c):function(e,t){var n=e.length,r=n-1;return function(i){var o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){for(var s=1;s<n&&!(e[s]>i||s===r);s++);o=s-1}var u=qe(e[o],e[o+1],i);return t[o](u)}}(e,c);return o?Xe(Le(e[0],e[u-1]),l):l},blendArray:Je,blendColor:Ge,pipe:Xe,smooth:function(e){void 0===e&&(e=50);var t=0,n=0;return function(r){var i=Z().timestamp,o=i!==n?i-n:0,a=o?ot(t,r,o,e):t;return n=i,t=a,a}},snap:function(e){if("number"===typeof e)return function(t){return Math.round(t/e)*e};var t=0,n=e.length;return function(r){var i=Math.abs(e[0]-r);for(t=1;t<n;t++){var o=e[t],a=Math.abs(o-r);if(0===a)return o;if(a>i)return e[t-1];if(t===n-1)return o;i=a}}},generateStaticSpring:st,nonlinearSpring:ct,linearSpring:ut,wrap:ht,appendUnit:function(e){return function(t){return""+t+e}},steps:function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),function(r){var i=qe(t,n,r);return Be(t,n,ln(e,i))}},transformMap:function(e){return function(t){var n=Object(r.__assign)({},t);for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];n[i]=o(t[i])}return n}}}),$n=function(e){e.transition,e.flip,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.afterChildren,e.beforeChildren,e.preTransition,e.applyAtStart,e.applyAtEnd;return Object(r.__rest)(e,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},Jn=function(e,t){return"function"===typeof e?e(t):e},Zn=function(e,t,n,r){return e&&void 0!==e[t]?Jn(e[t],r):n},er=function(e,t,n,r,i){return M("object"===typeof e,"applyAtStart and applyAtEnd must be of type object"),Object.keys(e).forEach(function(o){var a=Jn(e[o],n);t.has(o)?r(t.get(o),a):i(o,a,n)})},tr=function(e){var t=e.state,n=e.poses,i=e.startAction,o=e.stopAction,a=e.getInstantTransition,s=e.addActionDelay,u=e.getTransitionProps,c=e.resolveTarget,l=e.transformPose,f=e.posePriority,h=e.convertTransitionDefinition,p=e.setValue,d=e.setValueNative,m=e.forceRender;return function(e,y,v){void 0===y&&(y={}),void 0===v&&(v=!0);var g=t.children,b=t.values,w=t.props,E=t.activeActions,S=t.activePoses,T=y.delay,C=void 0===T?0:T,I=g.size,k=Object(r.__assign)(Object(r.__assign)({},w),y),_=n[e],A=function(){return I&&v?function(e,t,n,r){var i=[],o=Zn(n,"delayChildren",0,r),a=Zn(n,"staggerChildren",0,r),s=Zn(n,"staggerDirection",1,r),u=(e.size-1)*a,c=1===s?function(e){return e*a}:function(e){return u-e*a};return Array.from(e).forEach(function(e,n){i.push(e.set(t,{delay:o+c(n)}))}),i}(g,e,_,k):[]},N=function(){if(!_)return[];var n=_.applyAtStart;n&&(er(n,b,k,p,d),m&&m(k)),l&&(_=l(_,e,t));var y=_.preTransition,v=_.transition,g=_.applyAtEnd;y&&y(k);var w=Object.keys($n(_)).map(function(t){var n=S.has(t)?S.get(t):(S.set(t,[]),S.get(t)),l=n.indexOf(e);-1!==l&&n.splice(l,1);var p=f?f.indexOf(e):0,d=p<=0?0:function(e,t,n){for(var r=0,i=n-1;i>=0;i--){var o=e.indexOf(t[i]);if(-1!==o){r=o+1;break}}return r}(n,f,p);return n.splice(d,0,e),0===d?new Promise(function(e){var n=b.get(t),l=Object(r.__assign)(Object(r.__assign)({},k),{key:t,value:n}),f=c(n,Jn(_[t],l));E.has(t)&&o(E.get(t));var p=Object(r.__assign)(Object(r.__assign)({to:f},l),u(n,f,l)),d=function e(t,n,r,i,o,a){var s;if("function"===typeof t)s=e(t(i),n,r,i,o,a);else if(t[n]||t.default){var u=t[n]||t.default;s="function"===typeof u?u(i):u}else s=t;return!1===s?a(r,i):o(r,s,i)}(v,t,n,p,h,a),m=C||Jn(_.delay,l);m&&(d=s(m,d)),E.set(t,i(n,d,e))}):Promise.resolve()});return g?[Promise.all(w).then(function(){er(g,b,k,p,d)})]:w};if(_&&I){if(Jn(_.beforeChildren,k))return Promise.all(N()).then(function(){return Promise.all(A())});if(Jn(_.afterChildren,k))return Promise.all(A()).then(function(){return Promise.all(N())})}return Promise.all(Object(r.__spreadArrays)(N(),A()))}},nr=function(e){return function(e){return e.includes("scale")}(e)?1:0},rr=function(e){var t=Array.isArray(e)?e:[e];return t.push("init"),t},ir=function(e,t,n,r,i,o){void 0===i&&(i=nr);var a=rr(n).filter(Boolean).find(function(n){var r=e[n];return r&&(void 0!==r[t]||r.applyAtStart&&void 0!==r.applyAtStart[t]||r.applyAtEnd&&void 0!==r.applyAtEnd[t])});return o.set(t,[a||"init"]),a?function(e,t,n){var r=e.applyAtEnd&&void 0!==e.applyAtEnd[t]?e.applyAtEnd[t]:void 0!==e[t]?e[t]:e.applyAtStart&&void 0!==e.applyAtStart[t]?e.applyAtStart[t]:0;return Jn(r,n)}(e[a],t,r):i(t,r)},or=function(e,t){return function(n){var r=t.poses[n];Object.keys($n(r)).forEach(function(e,t){var n=t.userSetValues,r=t.createValue,i=t.convertValue,o=t.readValueFromSource,a=t.initialPose,s=t.poses,u=t.activePoses,c=t.props;return function(t){if(!e.has(t)){var l;if(n&&void 0!==n[t])l=i(n[t],t,c);else{var f=ir(s,t,a,c,o,u);l=r(f,t,c)}e.set(t,l)}}}(e,t))}},ar=function(e){var t=e.poses,n=e.passive,r=new Map;return Object.keys(t).forEach(or(r,e)),function(e){var t=e.setValueNative,n=e.initialPose,r=e.props,i=e.poses,o=new Set,a=function(e,n){if(e[n])for(var i in e[n])o.has(i)||(o.add(i),t(i,Jn(e[n][i],r),r))};rr(n).forEach(function(e){var t=i[e];t&&(a(t,"applyAtEnd"),a(t,"applyAtStart"))})}(e),n&&Object.keys(n).forEach(function(e,t){var n=t.passive,r=t.ancestorValues,i=t.createValue,o=t.readValue,a=t.props;return function(t){var s=n[t],u=s[0],c=s[1],l=s[2],f=l&&r.length?function(e,t,n){if(!0===t)return n[0]&&n[0].values.get(e);var r=n.find(function(e){return e.label===t});return r&&r.values.get(e)}(u,l,r):!!e.has(u)&&e.get(u);if(f){var h=i(o(f),t,a,{passiveParentKey:u,passiveParent:f,passiveProps:c});e.set(t,h)}}}(r,e)),r},sr=function(e,t){return Object.keys(e).forEach(function(n){var i=e[n];M("object"===typeof i,"Pose '"+n+"' is of invalid type. All poses should be objects."),e[n]=void 0!==i.transition?i:function(e,t,n){return Object(r.__assign)(Object(r.__assign)({},e),{transition:n.has(t)?n.get(t):n.get("default")})}(i,n,t)}),e},ur=function(e){var t=e.getDefaultProps,n=e.defaultTransitions,i=e.bindOnChange,o=e.startAction,a=e.stopAction,s=e.readValue,u=e.readValueFromSource,c=e.resolveTarget,l=e.setValue,f=e.setValueNative,h=e.createValue,p=e.convertValue,d=e.getInstantTransition,m=e.getTransitionProps,y=e.addActionDelay,v=e.selectValueToRead,g=e.convertTransitionDefinition,b=e.transformPose,w=e.posePriority,E=e.forceRender,S=e.extendAPI;return function(e){var T=e.parentValues,C=e.ancestorValues,I=void 0===C?[]:C;T&&I.unshift({values:T});var k=new Map,_=new Map,A=new Set,N=sr(function(e){e.label,e.props,e.values,e.parentValues,e.ancestorValues,e.onChange,e.passive,e.initialPose;return Object(r.__rest)(e,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])}(e),n),O=e.props,D=void 0===O?{}:O;t&&(D=Object(r.__assign)(Object(r.__assign)({},t(e)),D));var x=e.passive,P=e.values,R=e.initialPose,M=void 0===R?"init":R,L=ar({poses:N,passive:x,ancestorValues:I,readValue:s,setValueNative:f,createValue:h,convertValue:p,readValueFromSource:u,userSetValues:P,initialPose:M,activePoses:_,props:D}),F={activeActions:k,activePoses:_,children:A,props:D,values:L},U=e.onChange;U&&Object.keys(U).forEach(i(L,U));var V=tr({state:F,poses:N,getInstantTransition:d,getTransitionProps:m,convertTransitionDefinition:g,setValue:l,setValueNative:f,startAction:o,stopAction:a,resolveTarget:c,addActionDelay:y,transformPose:b,posePriority:w,forceRender:E});return S({set:V,unset:function(e,t){var n=[];_.forEach(function(t){var r=t.indexOf(e);if(-1!==r){var i=t[0];t.splice(r,1);var o=t[0];o!==i&&-1===n.indexOf(o)&&n.push(o)}});var r,i=n.sort((r=w,function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return-1===n&&-1!==i?-1:-1!==n&&-1===i?1:n-i})).map(function(e){return V(e,t,!1)});return A.forEach(function(t){return i.push(t.unset(e))}),Promise.all(i)},get:function(e){return e?v(L.get(e)):function(e,t){var n={};return e.forEach(function(e,r){return n[r]=t(e)}),n}(L,v)},has:function(e){return!!N[e]},setProps:function(e){return F.props=Object(r.__assign)(Object(r.__assign)({},F.props),e)},_addChild:function(t,n){var i=n(Object(r.__assign)(Object(r.__assign)({initialPose:M},t),{ancestorValues:Object(r.__spreadArrays)([{label:e.label,values:L}],I)}));return A.add(i),i},removeChild:function(e){return A.delete(e)},clearChildren:function(){A.forEach(function(e){return e.destroy()}),A.clear()},destroy:function(){k.forEach(a),A.forEach(function(e){return e.destroy()})}},F,e)}},cr=function(){return(cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function lr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Kn||(Kn={}));var fr=function(e,t){return"function"===typeof e?e(t):e},hr=Xn.interpolate,pr=function(e){return function(t){var n;return function(e){void 0===e&&(e={});var t=e.x,n=e.y,i=Object(r.__rest)(e,["x","y"]);if(void 0!==t||void 0!==n){var o=Re(t||0),a=Re(n||0),s={x:0,y:0};return Hn(i).pipe(function(e){return s.x=o(e.x),s.y=a(e.y),s})}return Hn(i)}((n={},n[e]="string"===typeof t?parseFloat(t):t,n)).pipe(function(t){return t[e]})}},dr=pr("x"),mr=pr("y"),yr=function(e,t,n,r){return function(i){var o=i.from,a=i.type,s=i.dimensions,u=i.dragBounds,c=e(s.measurementAsPixels(r,o,a)),l=[];if(u){var f=fr(u,i);void 0!==f[t]&&l.push(function(e){return Math.max(e,s.measurementAsPixels(r,f[t],a))}),void 0!==f[n]&&l.push(function(e){return Math.min(e,s.measurementAsPixels(r,f[n],a))})}return a===v&&l.push(hr([0,s.get(r)],[0,100],{clamp:!1}),function(e){return e+"%"}),l.length?c.pipe.apply(c,l):c}},vr=function(e){return un(function(t){var n=t.update,r=t.complete;n(e),r()})},gr=function(e){var t=e.from,n=e.velocity,r=e.to;return Dn({from:t,to:r,velocity:n,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},br=function(e){var t=e.from,n=e.velocity,r=e.to;return Dn({from:t,to:r,velocity:n,stiffness:700,damping:0===r?100:35})},wr={x:gr,y:gr,z:gr,rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scaleX:br,scaleY:br,scale:br,opacity:function(e){var t=e.from,n=e.to;return Rn({from:t,to:n,ease:ae})},default:Rn},Er=cr(cr({},wr),{x:yr(dr,"left","right",Kn.width),y:yr(mr,"top","bottom",Kn.height)}),Sr=function(e){var t=e.from;return vr(t)},Tr=new Map([["default",wr],["drag",Er],["dragEnd",cr(cr({},wr),{x:Sr,y:Sr})]]),Cr={tween:Rn,spring:Dn,decay:On,keyframes:Ln,physics:Fn},Ir={linear:ae,easeIn:se,easeOut:ue,easeInOut:ce,circIn:le,circOut:fe,circInOut:he,backIn:pe,backOut:de,backInOut:me,anticipate:ye},kr=[h,y,v,g,w,b,{test:function(e){return"auto"===e},parse:function(e){return e}}],_r=function(e){return kr.find(function(e){return function(t){return t.test(e)}}(e))},Ar=function(e,t){return void 0===e&&(e=0),Gn(Yn(e),t)},Nr=function(e){var t=e.transformPose,n=e.addListenerToValue,r=e.extendAPI,i=e.readValueFromSource,o=e.posePriority,a=e.setValueNative;return ur({bindOnChange:function(e,t){return function(n){e.has(n)&&e.get(n).raw.subscribe(t[n])}},readValue:function(e){return e.raw.get()},setValue:function(e,t){return e.raw.update(t)},createValue:function(e,t,r,i){var o=r.elementStyler,a=void 0===i?{}:i,s=a.passiveParent,u=a.passiveProps,c=s?function(e,t,n){var r=dn(n(e));return t.raw.subscribe(function(e){return r.update(n(e))}),{raw:r}}(e,s,u):function(e){var t=_r(e);return{raw:dn(e),type:t}}(e);return c.raw.subscribe(n(t,o)),c},convertValue:function(e,t,r){var i=r.elementStyler;return e.subscribe(n(t,i)),{raw:e,type:_r(e.get())}},getTransitionProps:function(e,t){var n=e.raw,r=e.type;return{from:n.get(),velocity:n.getVelocity(),to:t,type:r}},resolveTarget:function(e,t){return t},selectValueToRead:function(e){return e.raw},startAction:function(e,t,n){var r=e.raw,i={update:function(e){return r.update(e)},complete:n};return t.start(i)},stopAction:function(e){return e.stop()},getInstantTransition:function(e,t){var n=t.to;return vr(n)},convertTransitionDefinition:function(e,t,n){if(function(e){return"undefined"!==typeof e.start}(t))return t;var r=t.delay,i=t.min,o=t.max,a=t.round,s=function(e,t,n){var r,i=n.from,o=n.to,a=n.velocity,s=t.type,u=void 0===s?"tween":s,c=t.ease,l=lr(t,["type","ease"]);if(M(void 0!==Cr[u],"Invalid transition type '"+u+"'. Valid transition types are: tween, spring, decay, physics and keyframes."),"tween"===u&&"function"!==typeof c)if("string"===typeof c)M(void 0!==Ir[c],"Invalid easing type '"+c+"'. popmotion.io/pose/api/config"),r=Ir[c];else if(Array.isArray(c)&&"number"===typeof c[0]){M(4===c.length,"Cubic bezier arrays must contain four numerical values."),r=Ne(c[0],c[1],c[2],c[3])}r=r||c;var f="keyframes"!==u?{from:i,to:o,velocity:a,ease:r}:{ease:r};return Cr[u](cr(cr({},f),l))}(0,lr(t,["delay","min","max","round"]),n),u=[];return r&&(s=Ar(r,s)),void 0!==i&&u.push(function(e){return Math.max(e,i)}),void 0!==o&&u.push(function(e){return Math.min(e,o)}),a&&u.push(Math.round),u.length?s.pipe.apply(s,u):s},setValueNative:a,addActionDelay:Ar,defaultTransitions:Tr,transformPose:t,readValueFromSource:i,posePriority:o,extendAPI:r})},Or=function(e){var t=!1,n={width:0,height:0,top:0,left:0,bottom:0,right:0};return{get:function(e){return e?n[e]:n},measure:function(){return n=e.getBoundingClientRect(),t=!0,n},measurementAsPixels:function(e,t,r){return r===v?("string"===typeof t?parseFloat(t):t)/100*n[e]:t},has:function(){return t}}},Dr=function(e){var t=e.startEvents,n=e.endEvents,r=e.startPose,i=e.endPose,o=e.startCallback,a=e.endCallback,s=e.useDocumentToEnd,u=e.preventScroll;return function(e,c,l,f){var h=r+"Start",p=r+"End",d=r+"Move";if(u){var m=Un(e,"touchmove",{passive:!1}).start(function(e){e.preventDefault()});c.set(d,m)}var y=Un(e,t).start(function(t){l.unset(i),l.set(r),o&&f[o]&&f[o](t);var u=Un(s?document.documentElement:e,n+(s?" mouseenter":"")).start(function(e){s&&"mouseenter"===e.type&&1===e.buttons||(c.get(p).stop(),l.unset(r),l.set(i),a&&f[a]&&f[a](e))});c.set(p,u)});c.set(h,y)}},xr={draggable:Dr({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:Dr({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:Dr({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:Dr({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},Pr=Object.keys(xr),Rr=function(e){var t=e.top,n=e.right,r=e.bottom;return{x:(e.left+n)/2,y:(t+r)/2}},Mr=["width","height","top","left","bottom","right"],Lr=new Set(Mr),Fr=function(e){return Lr.has(e)},Ur=function(e,t,n){var r=e.values,i=e.props;if(r.has(t)){var o=r.get(t).raw;o.update(n),o.update(n)}else r.set(t,{raw:dn(n,function(e){return i.elementStyler.set(t,e)})})},Vr=function(e,t){var n=e.props,r=n.dimensions,i=n.element,o=n.elementStyler;if(!r.has())return{};var a=r.get(),s=function(e){var t=e.style.transform;e.style.transform="";var n=e.getBoundingClientRect();return e.style.transform=t,n}(i),u=a.left===s.left?0:a.right===s.right?"100%":"50%",c=a.top===s.top?0:a.bottom===s.bottom?"100%":"50%";o.set({originX:u,originY:c}),a.width!==s.width&&(Ur(e,"scaleX",a.width/s.width),t.scaleX=1),a.height!==s.height&&(Ur(e,"scaleY",a.height/s.height),t.scaleY=1);var l=Rr(a),f=Rr(s);return"50%"===u&&(Ur(e,"x",l.x-f.x),t.x=0),"50%"===c&&(Ur(e,"y",l.y-f.y),t.y=0),o.render(),t},jr=function(e,t){return n=t,Object.keys(n).some(Fr)?function(e,t){var n=e.props,r=n.dimensions,i=n.elementStyler;r.measure();t.width,t.height,t.top,t.left,t.bottom,t.right,t.position;var o=lr(t,["width","height","top","left","bottom","right","position"]),a=Mr.concat("position").reduce(function(n,r){return void 0!==t[r]&&(n[r]=fr(t[r],e.props)),n},{});return i.set(a).render(),Vr(e,o)}(e,t):Vr(e,t);var n},qr=function(e,t){return parseFloat(e.split(", ")[t])},Br=function(e,t){return function(n,r,i){var o=i.transform;if(!o||"none"===o)return 0;var a=o.match(/^matrix3d\((.+)\)$/);return a?qr(a[1],t):qr(o.match(/^matrix\((.+)\)$/)[1],e)}},zr={width:function(e,t){var n=t.width;return n},height:function(e,t){var n=t.height;return n},top:function(e,t,n){var r=n.top;return parseFloat(r)},left:function(e,t,n){var r=n.left;return parseFloat(r)},bottom:function(e,t,n){var r=t.height,i=n.top;return parseFloat(i)+r},right:function(e,t,n){var r=t.width,i=n.left;return parseFloat(i)+r},x:Br(4,13),y:Br(5,14)},Wr=function(e){return void 0!==zr[e]},Kr=function(e){return function(t){return t.elementStyler.get(e)}},Qr=function(e,t){var n=t.onDragStart,r=t.onDragEnd,i=t.onPressStart,o=t.onPressEnd,a=t.draggable,s=t.hoverable,u=t.focusable,c=t.pressable,l=t.dragBounds,f=lr(t,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),h=cr(cr({flip:{}},f),{props:cr(cr({},f.props),{onDragStart:n,onDragEnd:r,onPressStart:i,onPressEnd:o,dragBounds:l,draggable:a,hoverable:s,focusable:u,pressable:c,element:e,elementStyler:nn(e,{preparseOutput:!1}),dimensions:Or(e)})});if(a){var p=function(e){var t={preTransition:function(e){return e.dimensions.measure()}},n={};return!0!==e&&"x"!==e||(t.x=n.x=Kr("x")),!0!==e&&"y"!==e||(t.y=n.y=Kr("y")),{drag:t,dragEnd:n}}(a),d=p.drag,m=p.dragEnd;h.drag=cr(cr({},d),h.drag),h.dragEnd=cr(cr({},m),h.dragEnd)}return h},Hr=Nr({posePriority:["drag","press","focus","hover"],transformPose:function(e,t,n){var r,i=e.flip,o=lr(e,["flip"]);return function(e,t,n){return n.props.element instanceof HTMLElement&&(!0===e||"flip"===t)}(i,t,n)?jr(n,o):(r=o,Object.keys(r).some(Wr)?function(e,t){var n=e.values,r=e.props,i=r.element,o=r.elementStyler,a=Object.keys(t).filter(Wr),s=[],u=getComputedStyle(i),c=!1;if(a.forEach(function(i){var o=n.get(i),a=_r(o.raw.get()),u=fr(t[i],r);a!==_r(u)&&(s.push(i),c||(c=!0,t.applyAtEnd=t.applyAtEnd?cr({},t.applyAtEnd):{}),t.applyAtEnd[i]=t.applyAtEnd[i]||t[i],Ur(e,i,u))}),!s.length)return t;var l=i.getBoundingClientRect(),f={top:u.top,left:u.left,bottom:u.bottom,right:u.right,transform:u.transform};o.render();var h=i.getBoundingClientRect();return s.forEach(function(n){Ur(e,n,zr[n](i,l,f)),t[n]=zr[n](i,h,u)}),o.render(),t}(n,o):o)},forceRender:function(e){e.elementStyler.render()},addListenerToValue:function(e,t){return function(n){return t.set(e,n)}},readValueFromSource:function(e,t){var n=t.elementStyler,r=t.dragBounds,i=n.get(e);if(r&&("x"===e||"y"===e)){var o="x"===e?r.left||r.right:r.top||r.bottom;if(o)i=_r(o).transform(i)}return isNaN(i)?i:parseFloat(i)},setValueNative:function(e,t,n){return n.elementStyler.set(e,t)},extendAPI:function(e,t,n){var r=t.props,i=t.activeActions,o=r.dimensions.measure,a=cr(cr({},e),{addChild:function(t,n){return e._addChild(Qr(t,n),Hr)},measure:o,flip:function(t){return t&&(o(),t()),e.set("flip")}});return r.elementStyler.render(),function(e,t,n,r){var i=r.props;Pr.forEach(function(r){i[r]&&xr[r](e,t,n,i)})}(r.element,i,a,n),a}}),Gr=function(e,t){return Hr(Qr(e,t))};var Yr=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Xr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return Yr.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});n.d(t,"a",function(){return hi});var $r=Object(i.createContext)({}),Jr=$r.Consumer,Zr=$r.Provider,ei=function(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t},ti=function(){return!0},ni=function(e){e.elementType,e.poseConfig,e.onValueChange,e.innerRef,e._pose,e.pose,e.initialPose,e.poseKey,e.onPoseComplete,e.getParentPoseConfig,e.registerChild,e.onUnmount,e.getInitialPoseFromParent,e.popFromFlow,e.values,e.parentValues,e.onDragStart,e.onDragEnd,e.onPressStart,e.onPressEnd;return Object(r.__rest)(e,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},ri=function(e){function t(t){var n=e.call(this,t)||this;n.children=new Set,n.childrenHandlers={registerChild:function(e){n.children.add(e),n.poser&&n.flushChildren()},onUnmount:function(e){return n.poser.removeChild(e)},getParentPoseConfig:function(){return n.poseConfig},getInitialPoseFromParent:function(){return n.getInitialPose()}},n.setRef=function(e){R(null===e||e instanceof Element&&void 0===n.ref,"ref must be provided to the same DOM component for the entire lifecycle of a posed component."),n.ref=e;var t=n.props.innerRef;t&&("function"===typeof t?t(e):t.current=e)},n.shouldForwardProp="string"===typeof n.props.elementType?Xr:ti;var r=n.props.poseConfig;return n.poseConfig="function"===typeof r?r(ni(t)):r,n}return Object(r.__extends)(t,e),t.prototype.getInitialPose=function(){var e=this.props,t=e.getInitialPoseFromParent,n=e.pose,r=e._pose,i=e.initialPose;if(i)return i;var o=t&&t(),a=(Array.isArray(o)?o:[o]).concat(n,r).filter(Boolean);return a.length>0?a:void 0},t.prototype.getFirstPose=function(){var e=this.props,t=e.initialPose,n=e.pose,r=e._pose;if(t){var i=(Array.isArray(n)?n:[n]).concat(r).filter(Boolean);return 1===i.length?i[0]:i}},t.prototype.getSetProps=function(){var e,t=ni(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?t.style=this.popStyle:(t.style=Object(r.__assign)(Object(r.__assign)({},t.style),{position:"absolute",top:(e=this.ref).offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),this.popStyle=t.style):this.popStyle=null,t},t.prototype.componentDidMount=function(){var e=this;M(this.ref instanceof Element,"No valid DOM ref found. If you're converting an existing component via posed(Component), you must ensure you're passing the ref to the host DOM node via the React.forwardRef function.");var t,n=this.props,i=n.onValueChange,o=n.registerChild,a=n.values,s=n.parentValues,u=n.onDragStart,c=n.onDragEnd,l=n.onPressStart,f=n.onPressEnd,h=Object(r.__assign)(Object(r.__assign)({},this.poseConfig),{initialPose:this.getInitialPose(),values:a||this.poseConfig.values,parentValues:s?(t=s,Object.keys(t).reduce(function(e,n){return e.set(n,{raw:t[n]}),e},new Map)):void 0,props:this.getSetProps(),onDragStart:u,onDragEnd:c,onPressStart:l,onPressEnd:f,onChange:i});o?o({element:this.ref,poseConfig:h,onRegistered:function(t){return e.initPoser(t)}}):this.initPoser(Gr(this.ref,h))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.pose,n=e._pose;return(ei(t,"flip")||ei(n,"flip"))&&this.poser.measure(),null},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pose,r=t._pose,i=t.poseKey;this.poser.setProps(this.getSetProps()),(i!==e.poseKey||function(e,t){if(e===t)return!1;var n=Array.isArray(e),r=Array.isArray(t);if(n!==r||!n&&!r)return!0;if(n&&r){var i=e.length;if(i!==t.length)return!0;for(var o=0;o<i;o++)if(e[o]!==t[o])return!0}return!1}(e.pose,n)||"flip"===n)&&this.setPose(n),r===e._pose&&"flip"!==r||this.setPose(r)},t.prototype.componentWillUnmount=function(){if(this.poser){var e=this.props.onUnmount;e&&e(this.poser),this.poser.destroy()}},t.prototype.initPoser=function(e){this.poser=e,this.flushChildren();var t=this.getFirstPose();t&&this.setPose(t)},t.prototype.setPose=function(e){var t=this,n=this.props.onPoseComplete,r=Array.isArray(e)?e:[e];Promise.all(r.map(function(e){return e&&t.poser.set(e)})).then(function(){return n&&n(e)})},t.prototype.flushChildren=function(){var e=this;this.children.forEach(function(t){var n=t.element,r=t.poseConfig;return(0,t.onRegistered)(e.poser.addChild(n,r))}),this.children.clear()},t.prototype.render=function(){var e,t=this.props.elementType;return o.a.createElement(Zr,{value:this.childrenHandlers},Object(i.createElement)(t,(e=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce(function(t,n){for(var r in n)e(r)&&(t[r]=n[r]);return t},{}))))},t}(i.PureComponent),ii=new Map,oi=function(e){var t=function(t){return void 0===t&&(t={}),Object(i.forwardRef)(function(n,i){var a=n.withParent,s=void 0===a||a,u=Object(r.__rest)(n,["withParent"]);return R(void 0===u.innerRef,"innerRef is deprecated. Please use ref instead."),!s||u.parentValues?o.a.createElement(ri,Object(r.__assign)({poseConfig:t,innerRef:i,elementType:e},u)):o.a.createElement(Jr,null,function(n){return o.a.createElement(ri,Object(r.__assign)({poseConfig:t,elementType:e,innerRef:i},u,n))})})};return ii.set(e,t),t},ai=function(e){return t=e,ii.has(t)?ii.get(t):oi(t);var t};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(e,t){return e[t]=oi(t),e},ai);var si=function(e){return M(e&&null!==e.key,"Every child of Transition must be given a unique key"),("number"===typeof e.key?e.key.toString():e.key).replace(".$","")},ui=function(e,t){return Object(i.createElement)(e.type,Object(r.__assign)(Object(r.__assign)({key:e.key,ref:e.ref},t),e.props))},ci=function(e,t){var n=function(e,t){var n=t.displayedChildren,o=t.finishedLeaving,a=t.hasInitialized,s=t.indexedChildren,u=t.scheduleChildRemoval,c=e.children,l=e.preEnterPose,f=e.enterPose,h=e.exitPose,p=e.animateOnMount,d=(e.enterAfterExit,e.flipMove),m=(e.onRest,Object(r.__rest)(e,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),y=li(c),v={displayedChildren:[]};var g=n.map(si),b=y.map(si),w=0!==Object.keys(m).length,E=new Set(b.filter(function(e){return o.hasOwnProperty(e)||-1===g.indexOf(e)}));E.forEach(function(e){return delete o[e]});var S=[],T={};g.forEach(function(e){if(!E.has(e)){var t=o.hasOwnProperty(e);(t||-1===b.indexOf(e))&&(S.push(e),t||(o[e]=!1,T[e]=!0))}});var C=new Set(g.filter(function(e,t){return!E.has(e)||-1===S.indexOf(e)}));return y.forEach(function(e){var t={};E.has(e.key)?((a||p)&&(t.initialPose=l),t._pose=f):C.has(e.key)&&d?t._pose=[f,"flip"]:t._pose=f;var n=Object(i.cloneElement)(e,t);s[e.key]=n,v.displayedChildren.push(w?ui(n,m):n)}),S.forEach(function(e){var t=s[e],n=T[e]?Object(i.cloneElement)(t,{_pose:h,onPoseComplete:function(n){n===h&&u(e);var r=t.props.onPoseComplete;r&&r(n)},popFromFlow:d}):t,r=g.indexOf(e);s[t.key]=n,v.displayedChildren.splice(r,0,w?ui(n,m):n)}),v}(e,t);return n.hasInitialized=!0,n},li=function(e){var t=[];return i.Children.forEach(e,function(e){return e&&t.push(e)}),t},fi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(e){return t.removeChild(e)}},t}return Object(r.__extends)(t,e),t.prototype.removeChild=function(e){var t=this.state,n=t.displayedChildren,i=t.finishedLeaving,o=this.props,a=o.enterAfterExit,s=o.onRest;if(i.hasOwnProperty(e)&&(i[e]=!0,Object.keys(i).every(function(e){return i[e]}))){var u=n.filter(function(e){return!i.hasOwnProperty(e.key)}),c=a?Object(r.__assign)({finishedLeaving:{}},ci(Object(r.__assign)(Object(r.__assign)({},this.props),{enterAfterExit:!1}),Object(r.__assign)(Object(r.__assign)({},this.state),{displayedChildren:u}))):{finishedLeaving:{},displayedChildren:u};this.setState(c,s)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state!==t},t.prototype.render=function(){return this.state.displayedChildren},t.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},t.getDerivedStateFromProps=ci,t}(i.Component),hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return Object(i.createElement)(fi,Object(r.__assign)({},this.props))},t.defaultProps={flipMove:!0},t}(i.Component);t.b=ai},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";e.exports=n(58)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,i=n(67),o=(r=i)&&r.__esModule?r:{default:r},a=n(31);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(21))},function(e,t,n){"use strict";var r=n(37),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var g=h(n,v);try{c(t,v,g)}catch(b){}}}return t}return t}},,function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(18);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={prefix:"fab",iconName:"spotify",icon:[496,512,[],"f1bc","M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"]}},,function(e,t,n){"use strict";var r=n(36),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function S(){}function T(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw g(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=E.prototype;var C=T.prototype=new S;C.constructor=T,r(C,E.prototype),C.isPureReactComponent=!0;var I={current:null},k={suspense:null},_={current:null},A=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!N.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:_.current}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g,P=[];function R(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+F(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+F(s=t[c],c);u+=e(s,l,r,i)}else if(l=null===t||"object"!==typeof t?null:"function"===typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+F(s,c++),r,i);else if("object"===s)throw r=""+t,g(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,function(e){return e}):null!=e&&(D(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(x,"$&/")+"/"),L(e,V,t=R(t,o,r,i)),M(t)}function q(){var e=I.current;if(null===e)throw g(Error(321));return e}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,U,t=R(null,null,t,n)),M(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){if(!D(e))throw g(Error(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,n){return q().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,n){return q().useReducer(e,t,n)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:p,unstable_SuspenseList:d,createElement:O,cloneElement:function(e,t,n){if(null===e||void 0===e)throw g(Error(267),e);var i=void 0,a=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=_.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)A.call(t,i)&&!N.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:D,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=k.suspense;k.suspense=void 0===t?null:t;try{e()}finally{k.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentBatchConfig:k,ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r}},z={default:B},W=z&&B||z;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(0),i=n(36),o=n(51);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!f[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in f[n]=t,n=t.eventTypes){var i=void 0,o=n[r],c=t,p=r;if(h.hasOwnProperty(p))throw a(Error(99),p);h[p]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&l(d[i],c,p);i=!0}else o.registrationName?(l(o.registrationName,c,p),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function l(e,t,n){if(p[e])throw a(Error(100),e);p[e]=t,d[e]=t.eventTypes[n].dependencies}var f=[],h={},p={},d={};var m=!1,y=null,v=!1,g=null,b={onError:function(e){m=!0,y=e}};function w(e,t,n,r,i,o,a,s,u){m=!1,y=null,function(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(b,arguments)}var E=null,S=null,T=null;function C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,r,i,o,s,u,c){if(w.apply(this,arguments),m){if(!m)throw a(Error(198));var l=y;m=!1,y=null,v||(v=!0,g=l)}}(r,t,void 0,e),e.currentTarget=null}function I(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function k(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var _=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)C(e,t[r],n[r]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function N(e){if(null!==e&&(_=I(_,e)),e=_,_=null,e){if(k(e,A),_)throw a(Error(95));if(v)throw e=g,v=!1,g=null,e}}var O={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw a(Error(102),t);u[t]=r,n=!0}}n&&c()}};function D(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw a(Error(231),t,typeof n);return n}var x=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+x,R="__reactEventHandlers$"+x;function M(e){if(e[P])return e[P];for(;!e[P];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[P]).tag||6===e.tag?e:null}function L(e){return!(e=e[P])||5!==e.tag&&6!==e.tag?null:e}function F(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function U(e){return e[R]||null}function V(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function j(e,t,n){(t=D(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=V(t);for(t=n.length;0<t--;)j(n[t],"captured",e);for(t=0;t<n.length;t++)j(n[t],"bubbled",e)}}function B(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=D(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function z(e){e&&e.dispatchConfig.registrationName&&B(e._targetInst,null,e)}function W(e){k(e,q)}var K=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement);function Q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var H={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionend:Q("Transition","TransitionEnd")},G={},Y={};function X(e){if(G[e])return G[e];if(!H[e])return e;var t,n=H[e];for(t in n)if(n.hasOwnProperty(t)&&t in Y)return G[e]=n[t];return e}K&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete H.animationend.animation,delete H.animationiteration.animation,delete H.animationstart.animation),"TransitionEvent"in window||delete H.transitionend.transition);var $=X("animationend"),J=X("animationiteration"),Z=X("animationstart"),ee=X("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ue(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function le(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=ce,e.release=le}i(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(ue);var he=ue.extend({data:null}),pe=ue.extend({data:null}),de=[9,13,27,32],me=K&&"CompositionEvent"in window,ye=null;K&&"documentMode"in document&&(ye=document.documentMode);var ve=K&&"TextEvent"in window&&!ye,ge=K&&(!me||ye&&8<ye&&11>=ye),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function Se(e,t){switch(e){case"keyup":return-1!==de.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ce=!1;var Ie={eventTypes:we,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":i=we.compositionStart;break e;case"compositionend":i=we.compositionEnd;break e;case"compositionupdate":i=we.compositionUpdate;break e}i=void 0}else Ce?Se(e,n)&&(i=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=we.compositionStart);return i?(ge&&"ko"!==n.locale&&(Ce||i!==we.compositionStart?i===we.compositionEnd&&Ce&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,Ce=!0)),i=he.getPooled(i,t,n,r),o?i.data=o:null!==(o=Te(n))&&(i.data=o),W(i),o=i):o=null,(e=ve?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(Ee=!0,be);case"textInput":return(e=t.data)===be&&Ee?null:e;default:return null}}(e,n):function(e,t){if(Ce)return"compositionend"===e||!me&&Se(e,t)?(e=oe(),ie=re=ne=null,Ce=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ge&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(we.beforeInput,t,n,r)).data=e,W(t)):t=null,null===o?t:null===t?o:[o,t]}},ke=null,_e=null,Ae=null;function Ne(e){if(e=S(e)){if("function"!==typeof ke)throw a(Error(280));var t=E(e.stateNode);ke(e.stateNode,e.type,t)}}function Oe(e){_e?Ae?Ae.push(e):Ae=[e]:_e=e}function De(){if(_e){var e=_e,t=Ae;if(Ae=_e=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function xe(e,t){return e(t)}function Pe(e,t,n,r){return e(t,n,r)}function Re(){}var Me=xe,Le=!1;function Fe(){null===_e&&null===Ae||(Re(),De())}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ue[e.type]:"textarea"===t}function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function qe(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ze(e){e._valueTracker||(e._valueTracker=function(e){var t=Be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ke=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ke.hasOwnProperty("ReactCurrentDispatcher")||(Ke.ReactCurrentDispatcher={current:null}),Ke.hasOwnProperty("ReactCurrentBatchConfig")||(Ke.ReactCurrentBatchConfig={suspense:null});var Qe=/^(.*)[\\\/]/,He="function"===typeof Symbol&&Symbol.for,Ge=He?Symbol.for("react.element"):60103,Ye=He?Symbol.for("react.portal"):60106,Xe=He?Symbol.for("react.fragment"):60107,$e=He?Symbol.for("react.strict_mode"):60108,Je=He?Symbol.for("react.profiler"):60114,Ze=He?Symbol.for("react.provider"):60109,et=He?Symbol.for("react.context"):60110,tt=He?Symbol.for("react.concurrent_mode"):60111,nt=He?Symbol.for("react.forward_ref"):60112,rt=He?Symbol.for("react.suspense"):60113,it=He?Symbol.for("react.suspense_list"):60120,ot=He?Symbol.for("react.memo"):60115,at=He?Symbol.for("react.lazy"):60116;He&&Symbol.for("react.fundamental"),He&&Symbol.for("react.responder");var st="function"===typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Xe:return"Fragment";case Ye:return"Portal";case Je:return"Profiler";case $e:return"StrictMode";case rt:return"Suspense";case it:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case et:return"Context.Consumer";case Ze:return"Context.Provider";case nt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ct(e.type);case at:if(e=1===e._status?e._result:null)return ct(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ct(e.type);n=null,r&&(n=ct(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Qe,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ht=Object.prototype.hasOwnProperty,pt={},dt={};function mt(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new mt(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new mt(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new mt(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new mt(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){yt[e]=new mt(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){yt[e]=new mt(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){yt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1)});var vt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ht.call(dt,e)||!ht.call(pt,e)&&(ft.test(e)?dt[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Et(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=wt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Tt(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function Ct(e,t){Tt(e,t);var n=wt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?kt(e,t.type,n):t.hasOwnProperty("defaultValue")&&kt(e,t.type,wt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function It(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function kt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vt,gt);yt[t]=new mt(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vt,gt);yt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vt,gt);yt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1)}),yt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){yt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0)});var _t={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function At(e,t,n){return(e=ue.getPooled(_t.change,e,t,n)).type="change",Oe(n),W(e),e}var Nt=null,Ot=null;function Dt(e){N(e)}function xt(e){if(We(F(e)))return e}function Pt(e,t){if("change"===e)return t}var Rt=!1;function Mt(){Nt&&(Nt.detachEvent("onpropertychange",Lt),Ot=Nt=null)}function Lt(e){if("value"===e.propertyName&&xt(Ot))if(e=At(Ot,e,je(e)),Le)N(e);else{Le=!0;try{xe(Dt,e)}finally{Le=!1,Fe()}}}function Ft(e,t,n){"focus"===e?(Mt(),Ot=n,(Nt=t).attachEvent("onpropertychange",Lt)):"blur"===e&&Mt()}function Ut(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xt(Ot)}function Vt(e,t){if("click"===e)return xt(t)}function jt(e,t){if("input"===e||"change"===e)return xt(t)}K&&(Rt=qe("input")&&(!document.documentMode||9<document.documentMode));var qt={eventTypes:_t,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?F(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Pt:Ve(i)?Rt?o=jt:(o=Ut,a=Ft):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Vt),o&&(o=o(e,t)))return At(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&kt(i,"number",i.value)}},Bt=ue.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Kt(){return Wt}var Qt=0,Ht=0,Gt=!1,Yt=!1,Xt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),$t=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?M(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=Jt.mouseLeave,u=Jt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=$t,s=Jt.pointerLeave,u=Jt.pointerEnter,c="pointer");var l=null==o?i:F(o);if(i=null==t?i:F(t),(e=a.getPooled(s,o,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,c=0,a=t=o;a;a=V(a))c++;for(a=0,u=i;u;u=V(u))a++;for(;0<c-a;)t=V(t),c--;for(;0<a-c;)i=V(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=V(t),i=V(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=V(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=V(r);for(r=0;r<t.length;r++)B(t[r],"bubbled",e);for(r=o.length;0<r--;)B(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e,t){return{responder:e,props:t}}function on(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function an(e){if(2!==on(e))throw a(Error(188))}function sn(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=on(e)))throw a(Error(188));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return an(i),e;if(o===r)return an(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var un=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ln=Bt.extend({relatedTarget:null});function fn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Bt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=fn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?fn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),mn=Xt.extend({dataTransfer:null}),yn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),vn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),bn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[$,"animationEnd",2],[J,"animationIteration",2],[Z,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[ee,"transitionEnd",2],["waiting","waiting",2]],wn={},En={},Sn=0;Sn<bn.length;Sn++){var Tn=bn[Sn],Cn=Tn[0],In=Tn[1],kn=Tn[2],_n="on"+(In[0].toUpperCase()+In.slice(1)),An={phasedRegistrationNames:{bubbled:_n,captured:_n+"Capture"},dependencies:[Cn],eventPriority:kn};wn[In]=An,En[Cn]=An}var Nn={eventTypes:wn,getEventPriority:function(e){return void 0!==(e=En[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=En[e];if(!i)return null;switch(e){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=yn;break;case $:case J:case Z:e=un;break;case ee:e=vn;break;case"scroll":e=Bt;break;case"wheel":e=gn;break;case"copy":case"cut":case"paste":e=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=$t;break;default:e=ue}return W(t=e.getPooled(i,t,n,r)),t}},On=Nn.getEventPriority,Dn=[];function xn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=M(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=je(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<f.length;s++){var u=f[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=I(a,u))}N(a)}}var Pn=!0;function Rn(e,t){Mn(t,e,!1)}function Mn(e,t,n){switch(On(t)){case 0:var r=function(e,t,n){Le||Re();var r=Ln,i=Le;Le=!0;try{Pe(r,e,t,n)}finally{(Le=i)||Fe()}}.bind(null,t,1);break;case 1:r=function(e,t,n){Ln(e,t,n)}.bind(null,t,1);break;default:r=Ln.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Ln(e,t,n){if(Pn){if(null===(t=M(t=je(n)))||"number"!==typeof t.tag||2===on(t)||(t=null),Dn.length){var r=Dn.pop();r.topLevelType=e,r.nativeEvent=n,r.targetInst=t,e=r}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,Le)xn(n);else{Le=!0;try{Me(xn,n,void 0)}finally{Le=!1,Fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Dn.length&&Dn.push(e)}}}var Fn=new("function"===typeof WeakMap?WeakMap:Map);function Un(e){var t=Fn.get(e);return void 0===t&&(t=new Set,Fn.set(e,t)),t}function Vn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jn(r)}}function Bn(){for(var e=window,t=Vn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Vn((e=t.contentWindow).document)}return t}function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Wn=K&&"documentMode"in document&&11>=document.documentMode,Kn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qn=null,Hn=null,Gn=null,Yn=!1;function Xn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yn||null==Qn||Qn!==Vn(n)?null:("selectionStart"in(n=Qn)&&zn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gn&&nn(Gn,n)?null:(Gn=n,(e=ue.getPooled(Kn.select,Hn,e,t)).type="select",e.target=Qn,W(e),e))}var $n={eventTypes:Kn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Un(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?F(t):window,e){case"focus":(Ve(o)||"true"===o.contentEditable)&&(Qn=o,Hn=t,Gn=null);break;case"blur":Gn=Hn=Qn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,Xn(n,r);case"selectionchange":if(Wn)break;case"keydown":case"keyup":return Xn(n,r)}return null}};function Jn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function er(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tr(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:wt(n)}}function nr(e,t){var n=wt(t.value),r=wt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function rr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=U,S=L,T=F,O.injectEventPluginsByName({SimpleEventPlugin:Nn,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:qt,SelectEventPlugin:$n,BeforeInputEventPlugin:Ie});var ir={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function or(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?or(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var sr=void 0,ur=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==ir.svg||"innerHTML"in e)e.innerHTML=t;else{for((sr=sr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];function hr(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function pr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=hr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(lr).forEach(function(e){fr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});var dr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(e,t){if(t){if(dr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw a(Error(62),"")}}function yr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vr(e,t){var n=Un(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=d[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.has(i)){switch(i){case"scroll":Mn(e,"scroll",!0);break;case"focus":case"blur":Mn(e,"focus",!0),Mn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":qe(i)&&Mn(e,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&Rn(i,e)}n.add(i)}}}function gr(){}var br=null,wr=null;function Er(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tr="function"===typeof setTimeout?setTimeout:void 0,Cr="function"===typeof clearTimeout?clearTimeout:void 0;function Ir(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var kr=[],_r=-1;function Ar(e){0>_r||(e.current=kr[_r],kr[_r]=null,_r--)}function Nr(e,t){kr[++_r]=e.current,e.current=t}var Or={},Dr={current:Or},xr={current:!1},Pr=Or;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(e){Ar(xr),Ar(Dr)}function Fr(e){Ar(xr),Ar(Dr)}function Ur(e,t,n){if(Dr.current!==Or)throw a(Error(168));Nr(Dr,t),Nr(xr,n)}function Vr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),ct(t)||"Unknown",o);return i({},n,r)}function jr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Or,Pr=Dr.current,Nr(Dr,t),Nr(xr,xr.current),!0}function qr(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=Vr(e,t,Pr),r.__reactInternalMemoizedMergedChildContext=t,Ar(xr),Ar(Dr),Nr(Dr,t)):Ar(xr),Nr(xr,n)}var Br=o.unstable_runWithPriority,zr=o.unstable_scheduleCallback,Wr=o.unstable_cancelCallback,Kr=o.unstable_shouldYield,Qr=o.unstable_requestPaint,Hr=o.unstable_now,Gr=o.unstable_getCurrentPriorityLevel,Yr=o.unstable_ImmediatePriority,Xr=o.unstable_UserBlockingPriority,$r=o.unstable_NormalPriority,Jr=o.unstable_LowPriority,Zr=o.unstable_IdlePriority,ei={},ti=void 0!==Qr?Qr:function(){},ni=null,ri=null,ii=!1,oi=Hr(),ai=1e4>oi?Hr:function(){return Hr()-oi};function si(){switch(Gr()){case Yr:return 99;case Xr:return 98;case $r:return 97;case Jr:return 96;case Zr:return 95;default:throw a(Error(332))}}function ui(e){switch(e){case 99:return Yr;case 98:return Xr;case 97:return $r;case 96:return Jr;case 95:return Zr;default:throw a(Error(332))}}function ci(e,t){return e=ui(e),Br(e,t)}function li(e,t,n){return e=ui(e),zr(e,t,n)}function fi(e){return null===ni?(ni=[e],ri=zr(Yr,pi)):ni.push(e),ei}function hi(){null!==ri&&Wr(ri),pi()}function pi(){if(!ii&&null!==ni){ii=!0;var e=0;try{var t=ni;ci(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ni=null}catch(n){throw null!==ni&&(ni=ni.slice(e+1)),zr(Yr,hi),n}finally{ii=!1}}}function di(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function mi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var yi={current:null},vi=null,gi=null,bi=null;function wi(){bi=gi=vi=null}function Ei(e,t){var n=e.type._context;Nr(yi,n._currentValue),n._currentValue=t}function Si(e){var t=yi.current;Ar(yi),e.type._context._currentValue=t}function Ti(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ci(e,t){vi=e,bi=gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ua=!0),e.firstContext=null)}function Ii(e,t){if(bi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(bi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===gi){if(null===vi)throw a(Error(308));gi=t,vi.dependencies={expirationTime:0,firstContext:t,responders:null}}else gi=gi.next=t;return e._currentValue}var ki=!1;function _i(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ai(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ni(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Oi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Di(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=_i(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=_i(e.memoizedState),i=n.updateQueue=_i(n.memoizedState)):r=e.updateQueue=Ai(i):null===i&&(i=n.updateQueue=Ai(r));null===i||r===i?Oi(r,t):null===r.lastUpdate||null===i.lastUpdate?(Oi(r,t),Oi(i,t)):(Oi(r,t),i.lastUpdate=t)}function xi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=_i(e.memoizedState):Pi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Pi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ai(t)),t}function Ri(e,t,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:ki=!0}return r}function Mi(e,t,n,r,i){ki=!1;for(var o=(t=Pi(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(Vs(l,u.suspenseConfig),c=Ri(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=Ri(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function Li(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Fi(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Fi(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Fi(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var Ui=Ke.ReactCurrentBatchConfig,Vi=(new r.Component).refs;function ji(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var qi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===on(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ks(),i=Ui.suspense;(i=Ni(r=_s(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Di(e,i),Ns(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ks(),i=Ui.suspense;(i=Ni(r=_s(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Di(e,i),Ns(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ks(),r=Ui.suspense;(r=Ni(n=_s(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Di(e,r),Ns(e,n)}};function Bi(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function zi(e,t,n){var r=!1,i=Or,o=t.contextType;return"object"===typeof o&&null!==o?o=Ii(o):(i=Mr(t)?Pr:Dr.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rr(e,i):Or),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qi.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vi;var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ii(o):(o=Mr(t)?Pr:Dr.current,i.context=Rr(e,o)),null!==(o=e.updateQueue)&&(Mi(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(ji(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qi.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Mi(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Qi=Array.isArray;function Hi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw a(Error(309));r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Vi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function Gi(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Yi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Zs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Hi(e,t,n),r.return=e,r):((r=eu(n.type,n.key,n.props,null,e.mode,r)).ref=Hi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ru(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=tu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=eu(t.type,t.key,t.props,null,e.mode,n)).ref=Hi(e,null,t),n.return=e,n;case Ye:return(t=ru(t,e.mode,n)).return=e,t}if(Qi(t)||ut(t))return(t=tu(t,e.mode,n,null)).return=e,t;Gi(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===i?n.type===Xe?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ye:return n.key===i?l(e,t,n,r):null}if(Qi(n)||ut(n))return null!==i?null:f(e,t,n,r,null);Gi(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ge:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ye:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Qi(r)||ut(r))return f(t,e=e.get(n)||null,r,i,null);Gi(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=p(i,f,s[m],u);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,f=y}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(y=d(f,i,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach(function(e){return t(i,e)}),c}function y(i,s,u,c){var l=ut(u);if("function"!==typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var f=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(i,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=d(m,i,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach(function(e){return t(i,e)}),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===Xe&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Ge:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Xe:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===Xe?o.props.children:o.props)).ref=Hi(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Xe?((r=tu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=eu(o.type,o.key,o.props,null,e.mode,u)).ref=Hi(e,r,o),u.return=e,e=u)}return s(e);case Ye:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ru(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=nu(o,e.mode,u)).return=e,e=r),s(e);if(Qi(o))return m(e,r,o,u);if(ut(o))return y(e,r,o,u);if(l&&Gi(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var Xi=Yi(!0),$i=Yi(!1),Ji={},Zi={current:Ji},eo={current:Ji},to={current:Ji};function no(e){if(e===Ji)throw a(Error(174));return e}function ro(e,t){Nr(to,t),Nr(eo,e),Nr(Zi,Ji);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ar(null,"");break;default:t=ar(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ar(Zi),Nr(Zi,t)}function io(e){Ar(Zi),Ar(eo),Ar(to)}function oo(e){no(to.current);var t=no(Zi.current),n=ar(t,e.type);t!==n&&(Nr(eo,e),Nr(Zi,n))}function ao(e){eo.current===e&&(Ar(Zi),Ar(eo))}var so=1,uo=1,co=2,lo={current:0};function fo(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=0,po=2,mo=4,yo=8,vo=16,go=32,bo=64,wo=128,Eo=Ke.ReactCurrentDispatcher,So=0,To=null,Co=null,Io=null,ko=null,_o=null,Ao=null,No=0,Oo=null,Do=0,xo=!1,Po=null,Ro=0;function Mo(){throw a(Error(321))}function Lo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Fo(e,t,n,r,i,o){if(So=o,To=t,Io=null!==e?e.memoizedState:null,Eo.current=null===Io?Xo:$o,t=n(r,i),xo){do{xo=!1,Ro+=1,Io=null!==e?e.memoizedState:null,Ao=ko,Oo=_o=Co=null,Eo.current=$o,t=n(r,i)}while(xo);Po=null,Ro=0}if(Eo.current=Yo,(e=To).memoizedState=ko,e.expirationTime=No,e.updateQueue=Oo,e.effectTag|=Do,e=null!==Co&&null!==Co.next,So=0,Ao=_o=ko=Io=Co=To=null,No=0,Oo=null,Do=0,e)throw a(Error(300));return t}function Uo(){Eo.current=Yo,So=0,Ao=_o=ko=Io=Co=To=null,No=0,Oo=null,Do=0,xo=!1,Po=null,Ro=0}function Vo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===_o?ko=_o=e:_o=_o.next=e,_o}function jo(){if(null!==Ao)Ao=(_o=Ao).next,Io=null!==(Co=Io)?Co.next:null;else{if(null===Io)throw a(Error(310));var e={memoizedState:(Co=Io).memoizedState,baseState:Co.baseState,queue:Co.queue,baseUpdate:Co.baseUpdate,next:null};_o=null===_o?ko=e:_o.next=e,Io=Co.next}return _o}function qo(e,t){return"function"===typeof t?t(e):t}function Bo(e){var t=jo(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<Ro){var r=n.dispatch;if(null!==Po){var i=Po.get(n);if(void 0!==i){Po.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(ua=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<So?(l||(l=!0,u=s,i=o),f>No&&(No=f)):(Vs(f,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),en(o,t.memoizedState)||(ua=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Oo?(Oo={lastEffect:null}).lastEffect=e.next=e:null===(t=Oo.lastEffect)?Oo.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Oo.lastEffect=e),e}function Wo(e,t,n,r){var i=Vo();Do|=e,i.memoizedState=zo(t,n,void 0,void 0===r?null:r)}function Ko(e,t,n,r){var i=jo();r=void 0===r?null:r;var o=void 0;if(null!==Co){var a=Co.memoizedState;if(o=a.destroy,null!==r&&Lo(r,a.deps))return void zo(ho,n,o,r)}Do|=e,i.memoizedState=zo(t,n,o,r)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(){}function Go(e,t,n){if(!(25>Ro))throw a(Error(301));var r=e.alternate;if(e===To||null!==r&&r===To)if(xo=!0,e={expirationTime:So,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Po&&(Po=new Map),void 0===(n=Po.get(t)))Po.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=ks(),o=Ui.suspense;o={expirationTime:i=_s(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,en(l,c))return}catch(f){}Ns(e,i)}}var Yo={readContext:Ii,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useLayoutEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useResponder:Mo},Xo={readContext:Ii,useCallback:function(e,t){return Vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:function(e,t){return Wo(516,wo|bo,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,mo|go,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4,mo|go,e,t)},useMemo:function(e,t){var n=Vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Go.bind(null,To,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Vo().memoizedState=e},useState:function(e){var t=Vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e}).dispatch=Go.bind(null,To,e),[t.memoizedState,e]},useDebugValue:Ho,useResponder:rn},$o={readContext:Ii,useCallback:function(e,t){var n=jo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Lo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Ii,useEffect:function(e,t){return Ko(516,wo|bo,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ko(4,mo|go,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ko(4,mo|go,e,t)},useMemo:function(e,t){var n=jo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Lo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Bo,useRef:function(){return jo().memoizedState},useState:function(e){return Bo(qo)},useDebugValue:Ho,useResponder:rn},Jo=null,Zo=null,ea=!1;function ta(e,t){var n=$s(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function na(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ra(e){if(ea){var t=Zo;if(t){var n=t;if(!na(e,t)){if(!(t=Ir(n.nextSibling))||!na(e,t))return e.effectTag|=2,ea=!1,void(Jo=e);ta(Jo,n)}Jo=e,Zo=Ir(t.firstChild)}else e.effectTag|=2,ea=!1,Jo=e}}function ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Jo=e}function oa(e){if(e!==Jo)return!1;if(!ea)return ia(e),ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sr(t,e.memoizedProps))for(t=Zo;t;)ta(e,t),t=Ir(t.nextSibling);return ia(e),Zo=Jo?Ir(e.stateNode.nextSibling):null,!0}function aa(){Zo=Jo=null,ea=!1}var sa=Ke.ReactCurrentOwner,ua=!1;function ca(e,t,n,r){t.child=null===e?$i(t,null,n,r):Xi(t,e.child,n,r)}function la(e,t,n,r,i){n=n.render;var o=t.ref;return Ci(t,i),r=Fo(e,t,n,r,o,i),null===e||ua?(t.effectTag|=1,ca(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sa(e,t,i))}function fa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Js(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=eu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ha(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Sa(e,t,o):(t.effectTag|=1,(e=Zs(a,r)).ref=t.ref,e.return=t,t.child=e)}function ha(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(ua=!1,i<o)?Sa(e,t,o):da(e,t,n,r,o)}function pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function da(e,t,n,r,i){var o=Mr(n)?Pr:Dr.current;return o=Rr(t,o),Ci(t,i),n=Fo(e,t,n,r,o,i),null===e||ua?(t.effectTag|=1,ca(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sa(e,t,i))}function ma(e,t,n,r,i){if(Mr(n)){var o=!0;jr(t)}else o=!1;if(Ci(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),zi(t,n,r),Ki(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Rr(t,c=Mr(n)?Pr:Dr.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wi(t,a,r,c),ki=!1;var h=t.memoizedState;u=a.state=h;var p=t.updateQueue;null!==p&&(Mi(t,p,r,a,i),u=t.memoizedState),s!==r||h!==u||xr.current||ki?("function"===typeof l&&(ji(t,n,l,r),u=t.memoizedState),(s=ki||Bi(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:mi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ii(c):c=Rr(t,c=Mr(n)?Pr:Dr.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wi(t,a,r,c),ki=!1,u=t.memoizedState,h=a.state=u,null!==(p=t.updateQueue)&&(Mi(t,p,r,a,i),h=t.memoizedState),s!==r||u!==h||xr.current||ki?("function"===typeof l&&(ji(t,n,l,r),h=t.memoizedState),(l=ki||Bi(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ya(e,t,n,r,o,i)}function ya(e,t,n,r,i,o){pa(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&qr(t,n,!1),Sa(e,t,o);r=t.stateNode,sa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Xi(t,e.child,null,o),t.child=Xi(t,null,s,o)):ca(e,t,s,o),t.memoizedState=r.state,i&&qr(t,n,!0),t.child}function va(e){var t=e.stateNode;t.pendingContext?Ur(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ur(0,t.context,!1),ro(e,t.containerInfo)}var ga={};function ba(e,t,n){var r,i=t.mode,o=t.pendingProps,a=lo.current,s=null,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(a&co)&&(null===e||null!==e.memoizedState)),r?(s=ga,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=uo),Nr(lo,a&=so),null===e)if(u){if(o=o.fallback,(e=tu(null,i,0,null)).return=t,0===(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=tu(o,i,n,null)).return=t,e.sibling=n,i=e}else i=n=$i(t,null,o.children,n);else{if(null!==e.memoizedState)if(i=(a=e.child).sibling,u){if(o=o.fallback,(n=Zs(a,a.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(o=Zs(i,o,i.expirationTime)).return=t,n.sibling=o,i=n,n.childExpirationTime=0,n=o}else i=n=Xi(t,a.child,o.children,n);else if(a=e.child,u){if(u=o.fallback,(o=tu(null,i,0,null)).return=t,o.child=a,null!==a&&(a.return=o),0===(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=tu(u,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,i=o,o.childExpirationTime=0}else n=i=Xi(t,a,o.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=i,n}function wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function Ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ca(e,t,r.children,n),0!==((r=lo.current)&co))r=r&so|co,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Ti(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=so}if(Nr(lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===fo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===fo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}wa(t,!0,n,null,o);break;case"together":wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=Zs(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Zs(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ta(e){e.effectTag|=4}var Ca=void 0,Ia=void 0,ka=void 0,_a=void 0;function Aa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Na(e){switch(e.tag){case 1:Mr(e.type)&&Lr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(io(),Fr(),0!==(64&(t=e.effectTag)))throw a(Error(285));return e.effectTag=-2049&t|64,e;case 5:return ao(e),null;case 13:return Ar(lo),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return Ar(lo),null;case 4:return io(),null;case 10:return Si(e),null;default:return null}}function Oa(e,t){return{value:e,source:t,stack:lt(t)}}Ca=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},ka=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(no(Zi.current),e=null,n){case"input":a=Et(s,a),r=Et(s,r),e=[];break;case"option":a=Jn(s,a),r=Jn(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=er(s,a),r=er(s,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=gr)}mr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(p.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(p.hasOwnProperty(n)?(null!=l&&vr(o,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&Ta(t)}},_a=function(e,t,n,r){n!==r&&Ta(t)};var Da="function"===typeof WeakSet?WeakSet:Set;function xa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function Pa(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ks(e,n)}else t.current=null}function Ra(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==ho){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==ho&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Ma(e,t){switch("function"===typeof Ys&&Ys(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;ci(97<t?97:t,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){Ks(i,o)}}t=t.next}while(t!==r)})}break;case 1:Pa(e),"function"===typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ks(e,n)}}(e,t);break;case 5:Pa(e);break;case 4:Va(e,t)}}function La(e,t){for(var n=e;;)if(Ma(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Fa(e){return 5===e.tag||3===e.tag||4===e.tag}function Ua(e){e:{for(var t=e.return;null!==t;){if(Fa(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(cr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Fa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o||20===i.tag){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=gr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Va(e,t){for(var n=e,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw a(Error(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(La(n,t),o){var s=i,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else i.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,La(n,t),o?8===(s=i).nodeType?s.parentNode.removeChild(u):s.removeChild(u):i.removeChild(u);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Ma(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ja(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Ra(mo,yo,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[R]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Tt(n,r),yr(e,i),t=yr(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?pr(n,u):"dangerouslySetInnerHTML"===s?ur(n,u):"children"===s?cr(n,u):bt(n,s,u,t)}switch(e){case"input":Ct(n,r);break;case"textarea":nr(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Zn(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Zn(n,!!r.multiple,r.defaultValue,!0):Zn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,hs=ai()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=hr("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}qa(t);break;case 19:qa(t);break;case 17:case 20:break;default:throw a(Error(163))}}function qa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Da),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=ks(),t=_s(n,e,null),n=di(n,t),null!==(e=Os(e,t))&&Ds(e,n,t)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Ba="function"===typeof WeakMap?WeakMap:Map;function za(e,t,n){(n=Ni(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ms||(ms=!0,ys=r),xa(e,t)},n}function Wa(e,t,n){(n=Ni(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return xa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===vs?vs=new Set([this]):vs.add(this),xa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ka=Math.ceil,Qa=Ke.ReactCurrentDispatcher,Ha=Ke.ReactCurrentOwner,Ga=0,Ya=8,Xa=16,$a=32,Ja=0,Za=1,es=2,ts=3,ns=4,rs=Ga,is=null,os=null,as=0,ss=Ja,us=1073741823,cs=1073741823,ls=null,fs=!1,hs=0,ps=500,ds=null,ms=!1,ys=null,vs=null,gs=!1,bs=null,ws=90,Es=0,Ss=null,Ts=0,Cs=null,Is=0;function ks(){return(rs&(Xa|$a))!==Ga?1073741821-(ai()/10|0):0!==Is?Is:Is=1073741821-(ai()/10|0)}function _s(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=si();if(0===(4&t))return 99===r?1073741823:1073741822;if((rs&Xa)!==Ga)return as;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw a(Error(326))}return null!==is&&e===as&&--e,e}var As=0;function Ns(e,t){if(50<Ts)throw Ts=0,Cs=null,a(Error(185));if(null!==(e=Os(e,t))){e.pingTime=0;var n=si();if(1073741823===t)if((rs&Ya)!==Ga&&(rs&(Xa|$a))===Ga)for(var r=Us(e,1073741823,!0);null!==r;)r=r(!0);else Ds(e,99,1073741823),rs===Ga&&hi();else Ds(e,n,t);(4&rs)===Ga||98!==n&&99!==n||(null===Ss?Ss=new Map([[e,t]]):(void 0===(n=Ss.get(e))||n>t)&&Ss.set(e,t))}}function Os(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function Ds(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==ei&&Wr(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=fi(xs.bind(null,e,Us.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-ai()}),e.callbackNode=li(t,xs.bind(null,e,Us.bind(null,e,n)),r))}}function xs(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?xs.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Ps(){(rs&(1|Xa|$a))===Ga&&(function(){if(null!==Ss){var e=Ss;Ss=null,e.forEach(function(e,t){fi(Us.bind(null,t,e))}),hi()}}(),zs())}function Rs(e,t){var n=rs;rs|=1;try{return e(t)}finally{(rs=n)===Ga&&hi()}}function Ms(e,t,n,r){var i=rs;rs|=4;try{return ci(98,e.bind(null,t,n,r))}finally{(rs=i)===Ga&&hi()}}function Ls(e,t){var n=rs;rs&=-2,rs|=Ya;try{return e(t)}finally{(rs=n)===Ga&&hi()}}function Fs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Cr(n)),null!==os)for(n=os.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&Lr();break;case 3:io(),Fr();break;case 5:ao(r);break;case 4:io();break;case 13:case 19:Ar(lo);break;case 10:Si(r)}n=n.return}is=e,os=Zs(e.current,null),as=t,ss=Ja,cs=us=1073741823,ls=null,fs=!1}function Us(e,t,n){if((rs&(Xa|$a))!==Ga)throw a(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return Bs.bind(null,e);if(zs(),e!==is||t!==as)Fs(e,t);else if(ss===ts)if(fs)Fs(e,t);else{var r=e.lastPendingTime;if(r<t)return Us.bind(null,e,r)}if(null!==os){r=rs,rs|=Xa;var i=Qa.current;if(null===i&&(i=Yo),Qa.current=Yo,n){if(1073741823!==t){var o=ks();if(o<t)return rs=r,wi(),Qa.current=i,Us.bind(null,e,o)}}else Is=0;for(;;)try{if(n)for(;null!==os;)os=js(os);else for(;null!==os&&!Kr();)os=js(os);break}catch(m){if(wi(),Uo(),null===(o=os)||null===o.return)throw Fs(e,t),rs=r,m;e:{var s=e,u=o.return,c=o,l=m,f=as;if(c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,p=0!==(lo.current&uo);l=u;do{var d;if((d=13===l.tag)&&(null!==l.memoizedState?d=!1:d=void 0!==(d=l.memoizedProps).fallback&&(!0!==d.unstable_avoidThisFallback||!p)),d){if(null===(u=l.updateQueue)?((u=new Set).add(h),l.updateQueue=u):u.add(h),0===(2&l.mode)){l.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((f=Ni(1073741823,null)).tag=2,Di(c,f))),c.expirationTime=1073741823;break e}c=s,s=f,null===(p=c.pingCache)?(p=c.pingCache=new Ba,u=new Set,p.set(h,u)):void 0===(u=p.get(h))&&(u=new Set,p.set(h,u)),u.has(s)||(u.add(s),c=Qs.bind(null,c,h,s),h.then(c,c)),l.effectTag|=2048,l.expirationTime=f;break e}l=l.return}while(null!==l);l=Error((ct(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}ss!==ns&&(ss=Za),l=Oa(l,c),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=f,xi(c,f=za(c,l,f));break e;case 1:if(h=l,s=c.type,u=c.stateNode,0===(64&c.effectTag)&&("function"===typeof s.getDerivedStateFromError||null!==u&&"function"===typeof u.componentDidCatch&&(null===vs||!vs.has(u)))){c.effectTag|=2048,c.expirationTime=f,xi(c,f=Wa(c,h,f));break e}}c=c.return}while(null!==c)}os=qs(o)}if(rs=r,wi(),Qa.current=i,null!==os)return Us.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(li(97,function(){return n._onComplete(),null}),!0)}(e,t))return null;switch(is=null,ss){case Ja:throw a(Error(328));case Za:return(r=e.lastPendingTime)<t?Us.bind(null,e,r):n?Bs.bind(null,e):(Fs(e,t),fi(Us.bind(null,e,t)),null);case es:return 1073741823===us&&!n&&10<(n=hs+ps-ai())?fs?(Fs(e,t),Us.bind(null,e,t)):(r=e.lastPendingTime)<t?Us.bind(null,e,r):(e.timeoutHandle=Tr(Bs.bind(null,e),n),null):Bs.bind(null,e);case ts:if(!n){if(fs)return Fs(e,t),Us.bind(null,e,t);if((n=e.lastPendingTime)<t)return Us.bind(null,e,n);if(1073741823!==cs?n=10*(1073741821-cs)-ai():1073741823===us?n=0:(n=10*(1073741821-us)-5e3,0>(n=(r=ai())-n)&&(n=0),(t=10*(1073741821-t)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ka(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=Tr(Bs.bind(null,e),n),null}return Bs.bind(null,e);case ns:return!n&&1073741823!==us&&null!==ls&&(r=us,0>=(t=0|(i=ls).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=ai()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=Tr(Bs.bind(null,e),t),null):Bs.bind(null,e);default:throw a(Error(329))}}function Vs(e,t){e<us&&1<e&&(us=e),null!==t&&e<cs&&1<e&&(cs=e,ls=t)}function js(e){var t=Hs(e.alternate,e,as);return e.memoizedProps=e.pendingProps,null===t&&(t=qs(e)),Ha.current=null,t}function qs(e){os=e;do{var t=os.alternate;if(e=os.return,0===(1024&os.effectTag)){e:{var n=t,r=as,o=(t=os).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(t.type)&&Lr();break;case 3:io(),Fr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(oa(t),t.effectTag&=-3),Ia(t);break;case 5:ao(t),r=no(to.current);var s=t.type;if(null!==n&&null!=t.stateNode)ka(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=no(Zi.current);if(oa(t)){o=void 0,s=(n=t).stateNode;var c=n.type,l=n.memoizedProps;switch(s[P]=n,s[R]=l,c){case"iframe":case"object":case"embed":Rn("load",s);break;case"video":case"audio":for(var f=0;f<te.length;f++)Rn(te[f],s);break;case"source":Rn("error",s);break;case"img":case"image":case"link":Rn("error",s),Rn("load",s);break;case"form":Rn("reset",s),Rn("submit",s);break;case"details":Rn("toggle",s);break;case"input":St(s,l),Rn("invalid",s),vr(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Rn("invalid",s),vr(r,"onChange");break;case"textarea":tr(s,l),Rn("invalid",s),vr(r,"onChange")}for(o in mr(c,l),f=null,l)l.hasOwnProperty(o)&&(u=l[o],"children"===o?"string"===typeof u?s.textContent!==u&&(f=["children",u]):"number"===typeof u&&s.textContent!==""+u&&(f=["children",""+u]):p.hasOwnProperty(o)&&null!=u&&vr(r,o));switch(c){case"input":ze(s),It(s,l,!0);break;case"textarea":ze(s),rr(s);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(s.onclick=gr)}r=f,n.updateQueue=r,null!==r&&Ta(t)}else{l=s,n=o,c=t,f=9===r.nodeType?r:r.ownerDocument,u===ir.html&&(u=or(l)),u===ir.html?"script"===l?((l=f.createElement("div")).innerHTML="<script><\/script>",f=l.removeChild(l.firstChild)):"string"===typeof n.is?f=f.createElement(l,{is:n.is}):(f=f.createElement(l),"select"===l&&(l=f,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):f=f.createElementNS(u,l),(l=f)[P]=c,l[R]=n,Ca(n=l,t,!1,!1),c=n;var h=r,d=yr(s,o);switch(s){case"iframe":case"object":case"embed":Rn("load",c),r=o;break;case"video":case"audio":for(r=0;r<te.length;r++)Rn(te[r],c);r=o;break;case"source":Rn("error",c),r=o;break;case"img":case"image":case"link":Rn("error",c),Rn("load",c),r=o;break;case"form":Rn("reset",c),Rn("submit",c),r=o;break;case"details":Rn("toggle",c),r=o;break;case"input":St(c,o),r=Et(c,o),Rn("invalid",c),vr(h,"onChange");break;case"option":r=Jn(c,o);break;case"select":c._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),Rn("invalid",c),vr(h,"onChange");break;case"textarea":tr(c,o),r=er(c,o),Rn("invalid",c),vr(h,"onChange");break;default:r=o}mr(s,r),l=void 0,f=s,u=c;var m=r;for(l in m)if(m.hasOwnProperty(l)){var y=m[l];"style"===l?pr(u,y):"dangerouslySetInnerHTML"===l?null!=(y=y?y.__html:void 0)&&ur(u,y):"children"===l?"string"===typeof y?("textarea"!==f||""!==y)&&cr(u,y):"number"===typeof y&&cr(u,""+y):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=y&&vr(h,l):null!=y&&bt(u,l,y,d))}switch(s){case"input":ze(c),It(c,o,!1);break;case"textarea":ze(c),rr(c);break;case"option":null!=o.value&&c.setAttribute("value",""+wt(o.value));break;case"select":r=c,c=o,r.multiple=!!c.multiple,null!=(l=c.value)?Zn(r,!!c.multiple,l,!1):null!=c.defaultValue&&Zn(r,!!c.multiple,c.defaultValue,!0);break;default:"function"===typeof r.onClick&&(c.onclick=gr)}Er(s,o)&&Ta(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)_a(n,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw a(Error(166));n=no(to.current),no(Zi.current),oa(t)?(r=t.stateNode,n=t.memoizedProps,r[P]=t,r.nodeValue!==n&&Ta(t)):(r=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[P]=t,r.stateNode=n)}break;case 11:break;case 13:if(Ar(lo),o=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?oa(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=s,s.nextEffect=c):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(lo.current&uo)?ss===Ja&&(ss=es):ss!==Ja&&ss!==es||(ss=ts)),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:io(),Ia(t);break;case 10:Si(t);break;case 9:case 14:break;case 17:Mr(t.type)&&Lr();break;case 18:break;case 19:if(Ar(lo),null===(o=t.memoizedState))break;if(s=0!==(64&t.effectTag),null===(c=o.rendering)){if(s)Aa(o,!1);else if(ss!==Ja||null!==n&&0!==(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=fo(n))){for(t.effectTag|=64,Aa(o,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=c.childExpirationTime,o.expirationTime=c.expirationTime,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,s=c.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Nr(lo,lo.current&so|co),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=fo(c))){if(t.effectTag|=64,s=!0,Aa(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else ai()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Aa(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=ai()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,n=lo.current,Nr(lo,n=s?n&so|co:n&so),t=r;break e}break;case 20:break;default:throw a(Error(156))}t=null}if(r=os,1===as||1!==r.childExpirationTime){for(n=0,o=r.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(c=o.childExpirationTime)>n&&(n=c),o=o.sibling;r.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=os.firstEffect),null!==os.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=os.firstEffect),e.lastEffect=os.lastEffect),1<os.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=os:e.firstEffect=os,e.lastEffect=os))}else{if(null!==(t=Na(os)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=os.sibling))return t;os=e}while(null!==os);return ss===Ja&&(ss=ns),null}function Bs(e){var t=si();return ci(99,function(e,t){if(zs(),(rs&(Xa|$a))!==Ga)throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,o=n.childExpirationTime;if(i=o>i?o:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===is&&(os=is=null,as=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){o=rs,rs|=$a,Ha.current=null,br=Pn;var s=Bn();if(zn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(V){u=null;break e}var h=0,p=-1,d=-1,m=0,y=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(p=h+l),v!==f||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++m===l&&(p=h),g===f&&++y===c&&(d=h),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;wr={focusedElem:s,selectionRange:u},Pn=!1,ds=i;do{try{for(;null!==ds;){if(0!==(256&ds.effectTag)){var w=ds.alternate;switch((s=ds).tag){case 0:case 11:case 15:Ra(po,ho,s);break;case 1:if(256&s.effectTag&&null!==w){var E=w.memoizedProps,S=w.memoizedState,T=s.stateNode,C=T.getSnapshotBeforeUpdate(s.elementType===s.type?E:mi(s.type,E),S);T.__reactInternalSnapshotBeforeUpdate=C}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}ds=ds.nextEffect}}catch(V){if(null===ds)throw a(Error(330));Ks(ds,V),ds=ds.nextEffect}}while(null!==ds);ds=i;do{try{for(w=t;null!==ds;){var I=ds.effectTag;if(16&I&&cr(ds.stateNode,""),128&I){var k=ds.alternate;if(null!==k){var _=k.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(14&I){case 2:Ua(ds),ds.effectTag&=-3;break;case 6:Ua(ds),ds.effectTag&=-3,ja(ds.alternate,ds);break;case 4:ja(ds.alternate,ds);break;case 8:Va(E=ds,w),E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null;var A=E.alternate;null!==A&&(A.return=null,A.child=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null)}ds=ds.nextEffect}}catch(V){if(null===ds)throw a(Error(330));Ks(ds,V),ds=ds.nextEffect}}while(null!==ds);if(_=wr,k=Bn(),I=_.focusedElem,w=_.selectionRange,k!==I&&I&&I.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(I.ownerDocument.documentElement,I)){null!==w&&zn(I)&&(k=w.start,void 0===(_=w.end)&&(_=k),"selectionStart"in I?(I.selectionStart=k,I.selectionEnd=Math.min(_,I.value.length)):(_=(k=I.ownerDocument||document)&&k.defaultView||window).getSelection&&(_=_.getSelection(),E=I.textContent.length,A=Math.min(w.start,E),w=void 0===w.end?A:Math.min(w.end,E),!_.extend&&A>w&&(E=w,w=A,A=E),E=qn(I,A),S=qn(I,w),E&&S&&(1!==_.rangeCount||_.anchorNode!==E.node||_.anchorOffset!==E.offset||_.focusNode!==S.node||_.focusOffset!==S.offset)&&((k=k.createRange()).setStart(E.node,E.offset),_.removeAllRanges(),A>w?(_.addRange(k),_.extend(S.node,S.offset)):(k.setEnd(S.node,S.offset),_.addRange(k))))),k=[];for(_=I;_=_.parentNode;)1===_.nodeType&&k.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof I.focus&&I.focus(),I=0;I<k.length;I++)(_=k[I]).element.scrollLeft=_.left,_.element.scrollTop=_.top}wr=null,Pn=!!br,br=null,e.current=n,ds=i;do{try{for(I=r;null!==ds;){var N=ds.effectTag;if(36&N){var O=ds.alternate;switch(_=I,(k=ds).tag){case 0:case 11:case 15:Ra(vo,go,k);break;case 1:var D=k.stateNode;if(4&k.effectTag)if(null===O)D.componentDidMount();else{var x=k.elementType===k.type?O.memoizedProps:mi(k.type,O.memoizedProps);D.componentDidUpdate(x,O.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var P=k.updateQueue;null!==P&&Li(0,P,D);break;case 3:var R=k.updateQueue;if(null!==R){if(A=null,null!==k.child)switch(k.child.tag){case 5:A=k.child.stateNode;break;case 1:A=k.child.stateNode}Li(0,R,A)}break;case 5:var M=k.stateNode;null===O&&4&k.effectTag&&(_=M,Er(k.type,k.memoizedProps)&&_.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&N){var L=ds.ref;if(null!==L){var F=ds.stateNode;switch(ds.tag){case 5:var U=F;break;default:U=F}"function"===typeof L?L(U):L.current=U}}512&N&&(gs=!0),ds=ds.nextEffect}}catch(V){if(null===ds)throw a(Error(330));Ks(ds,V),ds=ds.nextEffect}}while(null!==ds);ds=null,ti(),rs=o}else e.current=n;if(gs)gs=!1,bs=e,Es=r,ws=t;else for(ds=i;null!==ds;)t=ds.nextEffect,ds.nextEffect=null,ds=t;if(0!==(t=e.firstPendingTime)?(N=di(N=ks(),t),Ds(e,N,t)):vs=null,"function"===typeof Gs&&Gs(n.stateNode,r),1073741823===t?e===Cs?Ts++:(Ts=0,Cs=e):Ts=0,ms)throw ms=!1,e=ys,ys=null,e;return(rs&Ya)!==Ga?null:(hi(),null)}.bind(null,e,t)),null!==bs&&li(97,function(){return zs(),null}),null}function zs(){if(null===bs)return!1;var e=bs,t=Es,n=ws;return bs=null,Es=0,ws=90,ci(97<n?97:n,function(e){if((rs&(Xa|$a))!==Ga)throw a(Error(331));var t=rs;for(rs|=$a,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ra(wo,ho,n),Ra(ho,bo,n)}}catch(r){if(null===e)throw a(Error(330));Ks(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return rs=t,hi(),!0}.bind(null,e,t))}function Ws(e,t,n){Di(e,t=za(e,t=Oa(n,t),1073741823)),null!==(e=Os(e,1073741823))&&Ds(e,99,1073741823)}function Ks(e,t){if(3===e.tag)Ws(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ws(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===vs||!vs.has(r))){Di(n,e=Wa(n,e=Oa(t,e),1073741823)),null!==(n=Os(n,1073741823))&&Ds(n,99,1073741823);break}}n=n.return}}function Qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),is===e&&as===n?ss===ts||ss===es&&1073741823===us&&ai()-hs<ps?Fs(e,as):fs=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ds(e,t=di(t=ks(),n),n)))}var Hs=void 0;Hs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||xr.current)ua=!0;else if(r<n){switch(ua=!1,t.tag){case 3:va(t),aa();break;case 5:if(oo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Mr(t.type)&&jr(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:Ei(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ba(e,t,n):(Nr(lo,lo.current&so),null!==(t=Sa(e,t,n))?t.sibling:null);Nr(lo,lo.current&so);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Nr(lo,lo.current),!r)return null}return Sa(e,t,n)}}else ua=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Rr(t,Dr.current),Ci(t,n),i=Fo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Uo(),Mr(r)){var o=!0;jr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&ji(t,r,s,e),i.updater=qi,t.stateNode=i,i._reactInternalFiber=t,Ki(t,r,e,n),t=ya(null,t,r,!0,o,n)}else t.tag=0,ca(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Js(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===nt)return 11;if(e===ot)return 14}return 2}(i),e=mi(i,e),o){case 0:t=da(null,t,i,e,n);break;case 1:t=ma(null,t,i,e,n);break;case 11:t=la(null,t,i,e,n);break;case 14:t=fa(null,t,i,mi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,da(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ma(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 3:if(va(t),null===(r=t.updateQueue))throw a(Error(282));return i=null!==(i=t.memoizedState)?i.element:null,Mi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(aa(),t=Sa(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Zo=Ir(t.stateNode.containerInfo.firstChild),Jo=t,i=ea=!0),i?(t.effectTag|=2,t.child=$i(t,null,r,n)):(ca(e,t,r,n),aa()),t=t.child),t;case 5:return oo(t),null===e&&ra(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Sr(r,i)?s=null:null!==o&&Sr(r,o)&&(t.effectTag|=16),pa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ca(e,t,s,n),t=t.child),t;case 6:return null===e&&ra(t),null;case 13:return ba(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):ca(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,la(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 7:return ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return ca(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Ei(t,o=i.value),null!==s){var u=s.value;if(0===(o=en(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!xr.current){t=Sa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=Ni(n,null)).tag=2,Di(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Ti(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}ca(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ci(t,n),r=r(i=Ii(i,o.unstable_observedBits)),t.effectTag|=1,ca(e,t,r,n),t.child;case 14:return o=mi(i=t.type,t.pendingProps),fa(e,t,i,o=mi(i.type,o),r,n);case 15:return ha(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mr(r)?(e=!0,jr(t)):e=!1,Ci(t,n),zi(t,r,i),Ki(t,r,i,n),ya(null,t,r,!0,e,n);case 19:return Ea(e,t,n)}throw a(Error(156))};var Gs=null,Ys=null;function Xs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $s(e,t,n,r){return new Xs(e,t,n,r)}function Js(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zs(e,t){var n=e.alternate;return null===n?((n=$s(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Js(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Xe:return tu(n.children,i,o,t);case tt:s=8,i|=7;break;case $e:s=8,i|=1;break;case Je:return(e=$s(12,n,t,8|i)).elementType=Je,e.type=Je,e.expirationTime=o,e;case rt:return(e=$s(13,n,t,i)).type=rt,e.elementType=rt,e.expirationTime=o,e;case it:return(e=$s(19,n,t,i)).elementType=it,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Ze:s=10;break e;case et:s=9;break e;case nt:s=11;break e;case ot:s=14;break e;case at:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=$s(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function tu(e,t,n,r){return(e=$s(7,e,r,t)).expirationTime=n,e}function nu(e,t,n){return(e=$s(6,e,null,t)).expirationTime=n,e}function ru(e,t,n){return(t=$s(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function ou(e,t,n){return e=new iu(e,t,n),t=$s(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function au(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(2!==on(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Mr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(Mr(c)){n=Vr(n,c,u);break e}}n=u}else n=Or;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=Ni(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Di(s,i),Ns(s,r),r}function su(e,t,n,r){var i=t.current,o=ks(),a=Ui.suspense;return au(e,t,n,i=_s(o,i,a),a,r)}function uu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function cu(e){var t=1073741821-25*(1+((1073741821-ks()+500)/25|0));t<=As&&--t,this._expirationTime=As=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function lu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function fu(e,t,n){this._internalRoot=ou(e,t,n)}function hu(e,t){this._internalRoot=ou(e,2,t)}function pu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function du(e,t,n,r,i){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=uu(a);s.call(e)}}su(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new fu(e,0,t)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=uu(a);u.call(e)}}Ls(function(){su(t,a,e,i)})}return uu(a)}function mu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!pu(t))throw a(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ye,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ke=function(e,t,n){switch(t){case"input":if(Ct(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U(r);if(!i)throw a(Error(90));We(r),Ct(r,i)}}}break;case"textarea":nr(e,n);break;case"select":null!=(t=n.value)&&Zn(e,!!n.multiple,t,!1)}},cu.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new lu;return au(e,t,null,n,null,r._onCommit),r},cu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},cu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(rs&(Xa|$a))!==Ga)throw a(Error(253));fi(Us.bind(null,e,t)),hi(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},cu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},lu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},lu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw a(Error(191),n);n()}}},hu.prototype.render=fu.prototype.render=function(e,t){var n=this._internalRoot,r=new lu;return null!==(t=void 0===t?null:t)&&r.then(t),su(e,n,null,r._onCommit),r},hu.prototype.unmount=fu.prototype.unmount=function(e){var t=this._internalRoot,n=new lu;return null!==(e=void 0===e?null:e)&&n.then(e),su(null,t,null,n._onCommit),n},hu.prototype.createBatch=function(){var e=new cu(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},xe=Rs,Pe=Ms,Re=Ps,Me=function(e,t){var n=rs;rs|=2;try{return e(t)}finally{(rs=n)===Ga&&hi()}};var yu={createPortal:mu,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=sn(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!pu(t))throw a(Error(200));return du(null,e,t,!0,n)},render:function(e,t,n){if(!pu(t))throw a(Error(200));return du(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!pu(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return du(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!pu(e))throw a(Error(40));return!!e._reactRootContainer&&(Ls(function(){du(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return mu.apply(void 0,arguments)},unstable_batchedUpdates:Rs,unstable_interactiveUpdates:function(e,t,n,r){return Ps(),Ms(e,t,n,r)},unstable_discreteUpdates:Ms,unstable_flushDiscreteUpdates:Ps,flushSync:function(e,t){if((rs&(Xa|$a))!==Ga)throw a(Error(187));var n=rs;rs|=1;try{return ci(99,e.bind(null,t))}finally{rs=n,hi()}},unstable_createRoot:function(e,t){if(!pu(e))throw a(Error(299),"unstable_createRoot");return new hu(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!pu(e))throw a(Error(299),"unstable_createRoot");return new fu(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=rs;rs|=1;try{ci(99,e)}finally{(rs=t)===Ga&&hi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,F,U,O.injectEventPluginsByName,h,W,function(e){k(e,z)},Oe,De,Ln,N,zs,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Gs=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ys=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ke.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:M,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var vu={default:yu},gu=vu&&yu||vu;e.exports=gu.default||gu},function(e,t,n){"use strict";e.exports=n(52)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};t.unstable_now=function(){return Date.now()},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,d=window.clearTimeout,m=window.requestAnimationFrame,y=window.cancelAnimationFrame;"undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"===typeof f&&"function"===typeof f.now?function(){return f.now()}:function(){return h.now()};var v=!1,g=null,b=-1,w=-1,E=33.33,S=-1,T=-1,C=0,I=!1;a=function(){return t.unstable_now()>=C},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(E=Math.floor(1e3/e),I=!0):(E=33.33,I=!1)};var k=function(){if(null!==g){var e=t.unstable_now(),n=0<C-e;try{g(n,e)||(g=null)}catch(r){throw A.postMessage(null),r}}},_=new MessageChannel,A=_.port2;_.port1.onmessage=k;r=function(e){g=e,v||(v=!0,m(function(e){!function e(n){if(null===g)T=S=-1,v=!1;else{v=!0,m(function(t){d(b),e(t)});if(b=p(function e(){C=t.unstable_now()+E/2,k(),b=p(e,3*E)},3*E),-1!==S&&.1<n-S){var r=n-S;!I&&-1!==T&&r<E&&T<E&&(8.33>(E=r<T?T:r)&&(E=8.33)),T=r}S=n,C=n+E,A.postMessage(null)}}(e)}))},i=function(e,n){w=p(function(){e(t.unstable_now())},n)},o=function(){d(w),w=-1}}var N=null,O=null,D=null,x=3,P=!1,R=!1,M=!1;function L(e,t){var n=e.next;if(n===e)N=null;else{e===N&&(N=n);var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,n=e.callback,r=x;var i=D;x=e.priorityLevel,D=e;try{var o=e.expirationTime<=t;switch(x){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(s){throw s}finally{x=r,D=i}if("function"===typeof a)if(t=e.expirationTime,e.callback=a,null===N)N=e.next=e.previous=e;else{a=null,o=N;do{if(t<=o.expirationTime){a=o;break}o=o.next}while(o!==N);null===a?a=N:a===N&&(N=e),(t=a.previous).next=a.previous=e,e.next=a,e.previous=t}}function F(e){if(null!==O&&O.startTime<=e)do{var t=O,n=t.next;if(t===n)O=null;else{O=n;var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,q(t,t.expirationTime)}while(null!==O&&O.startTime<=e)}function U(e){M=!1,F(e),R||(null!==N?(R=!0,r(V)):null!==O&&i(U,O.startTime-e))}function V(e,n){R=!1,M&&(M=!1,o()),F(n),P=!0;try{if(e){if(null!==N)do{L(N,n),F(n=t.unstable_now())}while(null!==N&&!a())}else for(;null!==N&&N.expirationTime<=n;)L(N,n),F(n=t.unstable_now());return null!==N||(null!==O&&i(U,O.startTime-n),!1)}finally{P=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function q(e,t){if(null===N)N=e.next=e.previous=e;else{var n=null,r=N;do{if(t<r.expirationTime){n=r;break}r=r.next}while(r!==N);null===n?n=N:n===N&&(N=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var B=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:j(e)}else a=j(e),u=s;if(e={callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,next:null,previous:null},u>s){if(a=u,null===O)O=e.next=e.previous=e;else{n=null;var c=O;do{if(a<c.startTime){n=c;break}c=c.next}while(c!==O);null===n?n=O:n===O&&(O=e),(a=n.previous).next=n.previous=e,e.next=n,e.previous=a}null===N&&O===e&&(M?o():M=!0,i(U,u-s))}else q(e,a),R||P||(R=!0,r(V));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===N?N=null:e===O&&(O=null);else{e===N?N=t:e===O&&(O=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_shouldYield=function(){var e=t.unstable_now();return F(e),null!==D&&null!==N&&N.startTime<=e&&N.expirationTime<D.expirationTime||a()},t.unstable_requestPaint=B,t.unstable_continueExecution=function(){R||P||(R=!0,r(V))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return N}},,,function(e,t,n){"use strict";var r=n(56);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case v:case y:case o:return t}}}function E(e){return w(e)===h}t.typeOf=w,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b)},t.isAsyncMode=function(e){return E(e)||w(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===y},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===d}},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(61),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(21))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(21),n(62))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=d(o),s=d(n(32)),u=d(n(3)),c=d(n(64)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),f=n(31),h=d(f),p=n(70);function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",g=void 0!==s.default.createPortal,b=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var E=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!g&&s.default.unmountComponentAtNode(i.node),w(i.props.parentSelector).removeChild(i.node)},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=b()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},m(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(g||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&g?(!this.node&&g&&(this.node=document.createElement("div")),b()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}();E.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(h.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},E.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(E),t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=m(a),u=m(n(3)),c=d(n(65)),l=m(n(66)),f=d(n(39)),h=d(n(69)),p=m(n(31));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=9,g=27,b=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&h.remove(document.body,o),i&&h.remove(document.getElementsByTagName("html")[0],i),r&&b>0&&0===(b-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===v&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===g&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,r){return n[e+"-"+r]=t[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&h.add(document.body,i),r&&h.add(document.getElementsByTagName("html")[0],r),n&&(b+=1,f.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=n?{}:o.content,u=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(p.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,testId:u.default.string},t.default=w,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,i=n(38),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r,i=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);if("undefined"===typeof n[c])return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),n[c].focus()};var r,i=n(38),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},i={};t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)});var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)});var n,o}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},,,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={};function m(){}function y(){}function v(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,o)&&(g=w);var E=v.prototype=m.prototype=Object.create(g);function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(n,i){function o(){return new Promise(function(t,o){!function t(n,i,o,a){var s=c(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,i,t,o)})}return t=t?t.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=E.constructor=v,v.constructor=y,v[s]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i){var o=new T(u(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(E),E[s]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function y(e,t){return e.replace(v,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function g(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function S(){}function T(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=m,t.FirebaseError=d,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new E(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=T,t.getUA=h,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=g,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(T(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(T(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(T(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(21))},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",function(){return r}),n.d(t,"Logger",function(){return s}),n.d(t,"setLogLevel",function(){return u});var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){i.forEach(function(t){t.logLevel=e})}},function(e,t,n){"use strict";n(77)},function(e,t,n){"use strict";(function(e){var t=n(2),r=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ja(t,n)})},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t(function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ja(o(a.length-1),t),i=n.next()}while(!i.done)})},t});var s=s||{},u=this||self;function c(e){return"string"==typeof e}function l(e){return"boolean"==typeof e}var f=/^[\w+\/_-]+[=]{0,2}$/,h=null;function p(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function m(e){return null===e}function y(e){return"array"==d(e)}function v(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==d(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),E=0;function S(e,t,n){return e.call.apply(e.bind,arguments)}function T(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:T).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.fd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function A(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function N(e){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function O(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");N.call(this,n+e[r])}function D(e,t){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function x(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function P(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function R(){this.b=this.a=null}_(N,Error),N.prototype.name="CustomError",_(O,N),O.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var M=new x(function(){return new F},function(e){e.reset()});function L(){var e=We,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function F(){this.next=this.b=this.a=null}function U(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(b(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}R.prototype.add=function(e,t){var n=M.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(c(e))return c(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var q=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=c(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},B=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function z(e,t){return 0<=V(e,t)}function W(e,t){var n;return(n=0<=(t=V(e,t)))&&Array.prototype.splice.call(e,t,1),n}function K(e,t){!function(e,t){for(var n=c(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0})}function Q(e){return Array.prototype.concat.apply([],arguments)}function H(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function G(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Y(e){for(var t in e)return!1;return!0}function X(e){var t,n={};for(t in e)n[t]=e[t];return n}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Z(e,t){this.a=e===ne&&t||"",this.b=te}function ee(e){return e instanceof Z&&e.constructor===Z&&e.b===te?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var te={},ne={},re=new Z(ne,"");function ie(){this.a="",this.b=ce}function oe(e){return e instanceof ie&&e.constructor===ie&&e.b===ce?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ae(e,t){var n=ee(e);if(!ue.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return le(e=n.replace(se,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof Z?ee(e):encodeURIComponent(String(e))}))}ie.prototype.qa=!0,ie.prototype.pa=function(){return this.a.toString()},ie.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,ue=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,ce={};function le(e){var t=new ie;return t.a=e,t}var fe=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},he=/&/g,pe=/</g,de=/>/g,me=/"/g,ye=/'/g,ve=/\x00/g,ge=/[\x00&<>"']/;function be(e,t){return-1!=e.indexOf(t)}function we(e,t){return e<t?-1:e>t?1:0}function Ee(){this.a="",this.b=ke}function Se(e){return e instanceof Ee&&e.constructor===Ee&&e.b===ke?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Ee.prototype.qa=!0,Ee.prototype.pa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Te=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Ce(e){return e instanceof Ee?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Te.test(e)||(e="about:invalid#zClosurez"),_e(e))}var Ie,ke={};function _e(e){var t=new Ee;return t.a=e,t}_e("about:blank");e:{var Ae=u.navigator;if(Ae){var Ne=Ae.userAgent;if(Ne){Ie=Ne;break e}}Ie=""}function Oe(e){return be(Ie,e)}function De(){this.a="",this.b=Pe}function xe(e){return e instanceof De&&e.constructor===De&&e.b===Pe?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}De.prototype.qa=!0,De.prototype.pa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pe={};function Re(e){var t=new De;return t.a=e,t}Re("<!DOCTYPE html>");var Me,Le,Fe=Re("");function Ue(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ve(e){return ge.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(he,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(pe,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(de,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(me,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ye,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ve,"&#0;"))),e}function je(e){u.setTimeout(function(){throw e},0)}function qe(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Oe("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=le(ee(re));U(e,"HTMLIFrameElement"),e.src=oe(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(xe(Fe)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!Oe("Trident")&&!Oe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}function Be(e,t){Le||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);Le=function(){e.then(Ke)}}else Le=function(){var e=Ke;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!Oe("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Me||(Me=qe()),Me(e)):u.setImmediate(e)}}(),ze||(Le(),ze=!0),We.add(e,t)}Re("<br>");var ze=!1,We=new R;function Ke(){for(var e;e=L();){try{e.a.call(e.b)}catch(t){je(t)}P(M,e)}ze=!1}function Qe(e,t){if(this.a=He,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=p)try{var n=this;e.call(t,function(e){ot(n,Ge,e)},function(e){if(!(e instanceof ht))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}ot(n,Ye,e)})}catch(r){ot(this,Ye,r)}}var He=0,Ge=2,Ye=3;function Xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $e=new x(function(){return new Xe},function(e){e.reset()});function Je(e,t,n){var r=$e.get();return r.g=e,r.b=t,r.f=n,r}function Ze(e){if(e instanceof Qe)return e;var t=new Qe(p);return ot(t,Ge,e),t}function et(e){return new Qe(function(t,n){n(e)})}function tt(e,t,n){at(e,t,n,null)||Be(I(t,e))}function nt(e){return new Qe(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)tt(e[o],I(i,o,!0),I(i,o,!1));else t(r)})}function rt(e,t){e.b||e.a!=Ge&&e.a!=Ye||st(e),e.f?e.f.next=t:e.b=t,e.f=t}function it(e,t,n,r){var i=Je(null,null,null);return i.a=new Qe(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ht?o(t):e(i)}catch(a){o(a)}}:o}),i.a.c=e,rt(e,i),i.a}function ot(e,t,n){e.a==He&&(e===n&&(t=Ye,n=new TypeError("Promise cannot resolve to itself")),e.a=1,at(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,st(e),t!=Ye||n instanceof ht||function(e,t){e.g=!0,Be(function(){e.g&&ft.call(null,t)})}(e,n)))}function at(e,t,n,r){if(e instanceof Qe)return rt(e,Je(t||p,n||null,r)),!0;if(A(e))return e.then(t,n,r),!0;if(b(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(i,e))},o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function st(e){e.h||(e.h=!0,Be(e.Zb,e))}function ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function ct(e,t,n,r){if(n==Ye&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,lt(t,n,r);else try{t.c?t.g.call(t.f):lt(t,n,r)}catch(i){ft.call(null,i)}P($e,t)}function lt(e,t,n){t==Ge?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Qe.prototype.then=function(e,t,n){return it(this,g(e)?e:null,g(t)?t:null,n)},Qe.prototype.$goog_Thenable=!0,(t=Qe.prototype).ka=function(e,t){return(e=Je(e,e,t)).c=!0,rt(this,e),this},t.s=function(e,t){return it(this,null,e,t)},t.cancel=function(e){this.a==He&&Be(function(){!function e(t,n){if(t.a==He)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==He&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ut(r),ct(r,o,Ye,n)))}t.c=null}else ot(t,Ye,n)}(this,new ht(e))},this)},t.Oc=function(e){this.a=He,ot(this,Ge,e)},t.Pc=function(e){this.a=He,ot(this,Ye,e)},t.Zb=function(){for(var e;e=ut(this);)ct(this,e,this.a,this.i);this.h=!1};var ft=je;function ht(e){N.call(this,e)}function pt(){0!=dt&&(mt[this[w]||(this[w]=++E)]=this),this.ta=this.ta,this.la=this.la}_(ht,N),ht.prototype.name="cancel";var dt=0,mt={};function yt(e){if(!e.ta&&(e.ta=!0,e.xa(),0!=dt)){var t=e[w]||(e[w]=++E);if(0!=dt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete mt[t]}}function vt(e){return vt[" "](e),e}pt.prototype.ta=!1,pt.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},vt[" "]=p;var gt,bt=Oe("Opera"),wt=Oe("Trident")||Oe("MSIE"),Et=Oe("Edge"),St=Et||wt,Tt=Oe("Gecko")&&!(be(Ie.toLowerCase(),"webkit")&&!Oe("Edge"))&&!(Oe("Trident")||Oe("MSIE"))&&!Oe("Edge"),Ct=be(Ie.toLowerCase(),"webkit")&&!Oe("Edge");function It(){var e=u.document;return e?e.documentMode:void 0}e:{var kt="",_t=function(){var e=Ie;return Tt?/rv:([^\);]+)(\)|;)/.exec(e):Et?/Edge\/([\d\.]+)/.exec(e):wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ct?/WebKit\/(\S+)/.exec(e):bt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_t&&(kt=_t?_t[1]:""),wt){var At=It();if(null!=At&&At>parseFloat(kt)){gt=String(At);break e}}gt=kt}var Nt,Ot={};function Dt(e){return function(e,t){var n=Ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=fe(String(gt)).split("."),r=fe(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=we(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||we(0==a[2].length,0==s[2].length)||we(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}Nt=u.document&&wt?It():void 0;var xt=Object.freeze||function(e){return e},Pt=!wt||9<=Number(Nt),Rt=wt&&!Dt("9"),Mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",p,t),u.removeEventListener("test",p,t)}catch(n){}return e}();function Lt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Ft(e,t){if(Lt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Tt){e:{try{vt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=c(e.pointerType)?e.pointerType:Ut[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Lt.prototype.preventDefault=function(){this.Mb=!1},_(Ft,Lt);var Ut=xt({2:"touch",3:"pen",4:"mouse"});Ft.prototype.preventDefault=function(){Ft.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Rt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Ft.prototype.f=function(){return this.a};var Vt="closure_listenable_"+(1e6*Math.random()|0),jt=0;function qt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++jt,this.ra=this.Ia=!1}function Bt(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function zt(e){this.src=e,this.a={},this.b=0}function Wt(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(Bt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Kt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}zt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Kt(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new qt(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var Qt="closure_lm_"+(1e6*Math.random()|0),Ht={};function Gt(e,t,n,r,i){if(r&&r.once)Xt(e,t,n,r,i);else if(y(t))for(var o=0;o<t.length;o++)Gt(e,t[o],n,r,i);else n=an(n),e&&e[Vt]?un(e,t,n,b(r)?!!r.capture:!!r,i):Yt(e,t,n,!1,r,i)}function Yt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=rn(e);if(s||(e[Qt]=s=new zt(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=nn,t=Pt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function Xt(e,t,n,r,i){if(y(t))for(var o=0;o<t.length;o++)Xt(e,t[o],n,r,i);else n=an(n),e&&e[Vt]?cn(e,t,n,b(r)?!!r.capture:!!r,i):Yt(e,t,n,!0,r,i)}function $t(e,t,n,r,i){if(y(t))for(var o=0;o<t.length;o++)$t(e,t[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=an(n),e&&e[Vt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=Kt(o=e.a[t],n,r,i))&&(Bt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=rn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Kt(t,n,r,i)),(n=-1<e?t[e]:null)&&Jt(n))}function Jt(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[Vt])Wt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=rn(t))?(Wt(n,e),0==n.b&&(n.src=null,t[Qt]=null)):Bt(e)}}}function Zt(e){return e in Ht?Ht[e]:Ht[e]="on"+e}function en(e,t,n,r){var i=!0;if((e=rn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=tn(o,r),i=i&&!1!==o)}return i}function tn(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Jt(e),n.call(r,t)}function nn(e,t){if(e.ra)return!0;if(!Pt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Ft(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=en(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=en(r[i],e,!1,t),n=n&&o}return n}return tn(e,new Ft(t,this))}function rn(e){return(e=e[Qt])instanceof zt?e:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(e){return g(e)?e:(e[on]||(e[on]=function(t){return e.handleEvent(t)}),e[on])}function sn(){pt.call(this),this.u=new zt(this),this.Sb=this,this.Wa=null}function un(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function cn(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function ln(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Wt(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function fn(e,t,n){if(g(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function hn(e){var t=null;return new Qe(function(n,r){-1==(t=fn(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw u.clearTimeout(t),e})}function pn(e){if(e.U&&"function"==typeof e.U)return e.U();if(c(e))return e.split("");if(v(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function dn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(v(e)||c(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function mn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof mn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function yn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];vn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)vn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(sn,pt),sn.prototype[Vt]=!0,sn.prototype.addEventListener=function(e,t,n,r){Gt(this,e,t,n,r)},sn.prototype.removeEventListener=function(e,t,n,r){$t(this,e,t,n,r)},sn.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var r=e.type||e;if(c(e))e=new Lt(e,n);else if(e instanceof Lt)e.target=e.target||n;else{var i=e;J(e=new Lt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=ln(a,r,!0,e)&&i}if(i=ln(a=e.b=n,r,!0,e)&&i,i=ln(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ln(a=e.b=t[o],r,!1,e)&&i;return i},sn.prototype.xa=function(){if(sn.qb.xa.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,Bt(n[r]);delete t.a[e],t.b--}}this.Wa=null},(t=mn.prototype).U=function(){yn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.X=function(){return yn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return vn(this.b,e)?this.b[e]:t},t.set=function(e,t){vn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var gn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof bn?(this.h=void 0!==t?t:e.h,wn(this,e.f),this.i=e.i,this.b=e.b,En(this,e.l),this.c=e.c,Sn(this,qn(e.a)),this.g=e.g):e&&(n=String(e).match(gn))?(this.h=!!t,wn(this,n[1]||"",!0),this.i=_n(n[2]||""),this.b=_n(n[3]||"",!0),En(this,n[4]),this.c=_n(n[5]||"",!0),Sn(this,n[6]||"",!0),this.g=_n(n[7]||"")):(this.h=!!t,this.a=new Mn(null,this.h))}function wn(e,t,n){e.f=n?_n(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function En(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function Sn(e,t,n){t instanceof Mn?(e.a=t,function(e,t){t&&!e.f&&(Ln(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Un(this,t),jn(this,n,e))},e)),e.f=t}(e.a,e.h)):(n||(t=An(t,Pn)),e.a=new Mn(t,e.h))}function Tn(e,t,n){e.a.set(t,n)}function Cn(e,t){return e.a.get(t)}function In(e){return e instanceof bn?new bn(e):new bn(e,void 0)}function kn(e,t){var n=new bn(null,void 0);return wn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function _n(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function An(e,t,n){return c(e)?(e=encodeURI(e).replace(t,Nn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(An(t,On,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(An(t,On,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(An(n,"/"==n.charAt(0)?xn:Dn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",An(n,Rn)),e.join("")},bn.prototype.resolve=function(e){var t=new bn(this),n=!!e.f;n?wn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)En(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(be(i,"./")||be(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?Sn(t,qn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var On=/[#\/\?@]/g,Dn=/[#\?:]/g,xn=/[#\?]/g,Pn=/[#\?@]/g,Rn=/#/g;function Mn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ln(e){e.a||(e.a=new mn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Fn(e){var t=dn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Mn(null,void 0);e=pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];y(o)?jn(n,i,o):n.add(i,o)}return n}function Un(e,t){Ln(e),t=Bn(e,t),vn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,vn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&yn(e)))}function Vn(e,t){return Ln(e),t=Bn(e,t),vn(e.a.b,t)}function jn(e,t,n){Un(e,t),0<n.length&&(e.c=null,e.a.set(Bn(e,t),H(n)),e.b+=n.length)}function qn(e){var t=new Mn;return t.c=e.c,e.a&&(t.a=new mn(e.a),t.b=e.b),t}function Bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(t=Mn.prototype).add=function(e,t){Ln(this),this.c=null,e=Bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){Ln(this),this.a.forEach(function(n,r){j(n,function(n){e.call(t,n,r,this)},this)},this)},t.X=function(){Ln(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},t.U=function(e){Ln(this);var t=[];if(c(e))Vn(this,e)&&(t=Q(t,this.a.get(Bn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},t.set=function(e,t){return Ln(this),this.c=null,Vn(this,e=Bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var zn=!wt||9<=Number(Nt);function Wn(e){var t=document;return c(e)?t.getElementById(e):e}function Kn(e,t){G(t,function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Qn.hasOwnProperty(n)?e.setAttribute(Qn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var Qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hn(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!zn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(c(a)?o.className=a:y(a)?o.className=a.join(" "):Kn(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(c(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||b(o)&&0<o.nodeType?r(o):j(Gn(o)?H(o):o,r)}}(i,o,r),o}function Gn(e){if(e&&"number"==typeof e.length){if(b(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1}function Yn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(y(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Xn,e,t),t.join("")}function Xn(){}var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(e,t){t.push('"',e.replace(Jn,function(e){var t=$n[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),$n[e]=t),t}),'"')}function er(){var e=br();return wt&&!!Nt&&11==Nt||/Edge\/\d+/.test(e)}function tr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function nr(e,t){t=t||u.window;var n="about:blank";e&&(n=Se(Ce(e)).toString()),t.location.href=n}function rr(e){return!!((e=(e||br()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ir(e){e=e||u.window;try{e.close()}catch(t){}}function or(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=br().toLowerCase(),r&&(t.target=r,be(n,"crios/")&&(t.target="_blank")),yr(br())==dr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ee?n:Ce("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((Oe("iPhone")&&!Oe("iPod")&&!Oe("iPad")||Oe("iPad")||Oe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(U(a=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof Ee||t instanceof Ee||(t="object"==typeof t&&t.qa?t.pa():String(t),Te.test(t)||(t="about:invalid#zClosurez"),t=_e(t)),a.href=Se(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Se(t).toString(),a&&(St&&be(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Re('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">'),a.document.write(xe(e)),a.document.close())):(a=r.open(Se(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var e=null;return new Qe(function(t){"complete"==u.document.readyState?t():(e=function(){t()},Xt(window,"load",e))}).s(function(t){throw $t(window,"load",e),t})}function cr(e){return e=e||br(),!("file:"!==Cr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function fr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function hr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":fr()?"Worker":"Browser"}function pr(){var e=hr();return"ReactNative"===e||"Node"===e}var dr="Firefox",mr="Chrome";function yr(e){var t=e.toLowerCase();return be(t,"opera/")||be(t,"opr/")||be(t,"opios/")?"Opera":be(t,"iemobile")?"IEMobile":be(t,"msie")||be(t,"trident/")?"IE":be(t,"edge/")?"Edge":be(t,"firefox/")?dr:be(t,"silk/")?"Silk":be(t,"blackberry")?"Blackberry":be(t,"webos")?"Webos":!be(t,"safari/")||be(t,"chrome/")||be(t,"crios/")||be(t,"android")?!be(t,"chrome/")&&!be(t,"crios/")||be(t,"edge/")?be(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":mr:"Safari"}var vr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function gr(e,t){t=t||[];var n,r=[],i={};for(n in vr)i[vr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=hr())?r=yr(i=br()):"Worker"===r&&(r=yr(i=br())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function br(){return u.navigator&&u.navigator.userAgent||""}function wr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Er(){try{var e=u.localStorage,t=Nr();if(e)return e.setItem(t,"1"),e.removeItem(t),!er()||!!u.indexedDB}catch(n){return fr()&&!!u.indexedDB}return!1}function Sr(){return(Tr()||"chrome-extension:"===Cr()||cr())&&!pr()&&Er()&&!fr()}function Tr(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return u.location&&u.location.protocol||null}function Ir(e){return!rr(e=e||br())&&yr(e)!=dr}function kr(e){return"undefined"===typeof e?null:Yn(e)}function _r(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ar(e){if(null!==e)return JSON.parse(e)}function Nr(e){return e||Math.floor(1e9*Math.random()).toString()}function Or(e){return"Safari"!=yr(e=e||br())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function xr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=br(),t=hr(),this.b=rr(e)||"ReactNative"===t}function Pr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Rr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Mr(){return!(!wr("fireauth.oauthhelper",u)&&!wr("fireauth.iframe",u))}xr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Tr()&&"chrome-extension:"!==Cr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Fr={};function Ur(e){Fr[e]||(Fr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Vr={};Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==Vr.abcd}catch(Qo){Lr=!1}function jr(e,t,n){Lr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function qr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&jr(e,n,t[n])}function Br(e){var t={};return qr(t,e),t}function zr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)jr(t,n,zr(e[n]));return t}function Wr(e){var t={},n=e[Qr],r=e[Hr];if(!(e=e[Gr])||e!=Kr&&!n)throw Error("Invalid provider user info!");t[Xr]=r||null,t[Yr]=n||null,jr(this,Jr,e),jr(this,$r,zr(t))}var Kr="EMAIL_SIGNIN",Qr="email",Hr="newEmail",Gr="requestType",Yr="email",Xr="fromEmail",$r="data",Jr="operation";function Zr(e,t){this.code=ti+e,this.message=t||ni[e]||""}function ei(e){var t=e&&e.code;return t?new Zr(t.substring(ti.length),e.message):null}_(Zr,Error),Zr.prototype.A=function(){return{code:this.code,message:this.message}},Zr.prototype.toJSON=function(){return this.A()};var ti="auth/",ni={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ri(e){var t=Cn(e=In(e),ii)||null,n=Cn(e,oi)||null,r=Cn(e,ui)||null;if(r=r&&li[r]||null,!t||!n||!r)throw new Zr("argument-error",ii+", "+oi+"and "+ui+" are required in a valid action code URL.");qr(this,{apiKey:t,operation:r,code:n,continueUrl:Cn(e,ai)||null,languageCode:Cn(e,si)||null,tenantId:Cn(e,ci)||null})}var ii="apiKey",oi="oobCode",ai="continueUrl",si="languageCode",ui="mode",ci="tenantId",li={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Kr,verifyEmail:"VERIFY_EMAIL"};function fi(e){try{return new ri(e)}catch(t){return null}}function hi(e){var t=e[vi];if("undefined"===typeof t)throw new Zr("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new Zr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[pi];if(n&&"object"===typeof n){t=n[wi];var r=n[gi];if(n=n[bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Zr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Zr("argument-error",bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new Zr("argument-error",wi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Zr("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Zr("argument-error",pi+" property must be a non null object when specified.");if(this.f=null,(t=e[yi])&&"object"===typeof t){if("string"===typeof(t=t[Ei])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new Zr("argument-error",Ei+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new Zr("argument-error",yi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[mi])&&"boolean"!==typeof t)throw new Zr("argument-error",mi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[di])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new Zr("argument-error",di+" property must be a non empty string when specified.");this.i=e||null}var pi="android",di="dynamicLinkDomain",mi="handleCodeInApp",yi="iOS",vi="url",gi="installApp",bi="minimumVersion",wi="packageName",Ei="bundleId";function Si(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ti=null,Ci=null;function Ii(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ci[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ti){Ti={},Ci={};for(var e=0;65>e;e++)Ti[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Ci[Ti[e]]=e,62<=e&&(Ci["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t+=String.fromCharCode(e)}),t}function ki(e){this.f=e.sub,k(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function _i(e){return(e=Ai(e))&&e.sub&&e.iss&&e.aud&&e.exp?new ki(e):null}function Ai(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Ii(e))}catch(r){}return null}ki.prototype.R=function(){return this.c},ki.prototype.g=function(){return this.b};var Ni,Oi={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Di(e){for(var t in Oi)if(Oi[t].id===e)return{firebaseEndpoint:(e=Oi[t]).bb,secureTokenEndpoint:e.ib};return null}Ni=Di("__EID__")?"__EID__":void 0;var xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Pi=["client_id","response_type","scope","redirect_uri","state"],Ri={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Pi},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Pi},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Pi},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:xi}};function Mi(e){for(var t in Ri)if(Ri[t].Pa==e)return Ri[t];return null}function Li(e){var t={};t["facebook.com"]=qi,t["google.com"]=zi,t["github.com"]=Bi,t["twitter.com"]=Wi;var n=e&&e[Ui];try{if(n)return t[n]?new t[n](e):new ji(e);if("undefined"!==typeof e[Fi])return new Vi(e)}catch(r){}return null}var Fi="idToken",Ui="providerId";function Vi(e){var t=e[Ui];if(!t&&e[Fi]){var n=_i(e[Fi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),jr(this,"providerId",t),jr(this,"isNewUser",n)}function ji(e){Vi.call(this,e),jr(this,"profile",zr((e=Ar(e.rawUserInfo||"{}"))||{}))}function qi(e){if(ji.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Bi(e){if(ji.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",this.profile&&this.profile.login||null)}function zi(e){if(ji.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wi(e){if(ji.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",e.screenName||null)}function Ki(e){var t=In(e),n=Cn(t,"link"),r=Cn(In(n),"link");return t=Cn(t,"deep_link_id"),Cn(In(t),"link")||t||r||n||e}function Qi(){}function Hi(e,t){return e.then(function(e){if(e[La]){var n=_i(e[La]);if(!n||t!=n.f)throw new Zr("user-mismatch");return e}throw new Zr("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==ti+"user-not-found"?new Zr("user-mismatch"):e})}function Gi(e,t){if(!t)throw new Zr("internal-error","failed to construct a credential");this.a=t,jr(this,"providerId",e),jr(this,"signInMethod",e)}function Yi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Xi(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Gi(e.providerId,e.pendingToken)}catch(t){}return null}function $i(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&jr(this,"idToken",t.idToken),t.accessToken&&jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Zr("internal-error","failed to construct a credential");jr(this,"accessToken",t.oauthToken),jr(this,"secret",t.oauthTokenSecret)}jr(this,"providerId",e),jr(this,"signInMethod",n)}function Ji(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Fn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Zi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new $i(e.providerId,t,e.signInMethod)}catch(n){}}return null}function eo(e,t){this.Fc=t||[],qr(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(Mi(e)||{}).Oa||null,this.ab=null}function to(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new Zr("argument-error",'SAML provider IDs must be prefixed with "saml."');eo.call(this,e,[])}function no(e){eo.call(this,e,Pi),this.a=[]}function ro(){no.call(this,"facebook.com")}function io(e){if(!e)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new ro).credential({accessToken:t})}function oo(){no.call(this,"github.com")}function ao(e){if(!e)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new oo).credential({accessToken:t})}function so(){no.call(this,"google.com"),this.wa("profile")}function uo(e,t){var n=e;return b(e)&&(n=e.idToken,t=e.accessToken),(new so).credential({idToken:n,accessToken:t})}function co(){eo.call(this,"twitter.com",xi)}function lo(e,t){var n=e;if(b(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Zr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new $i("twitter.com",n,"twitter.com")}function fo(e,t,n){this.a=e,this.c=t,jr(this,"providerId","password"),jr(this,"signInMethod",n===po.EMAIL_LINK_SIGN_IN_METHOD?po.EMAIL_LINK_SIGN_IN_METHOD:po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ho(e){return e&&e.email&&e.password?new fo(e.email,e.password,e.signInMethod):null}function po(){qr(this,{providerId:"password",isOAuthProvider:!1})}function mo(e,t){if(!(t=yo(t)))throw new Zr("argument-error","Invalid email link!");return new fo(e,t.code,po.EMAIL_LINK_SIGN_IN_METHOD)}function yo(e){return(e=fi(e=Ki(e)))&&e.operation===Kr?e:null}function vo(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new Zr("internal-error");this.a=e,jr(this,"providerId","phone"),jr(this,"signInMethod","phone")}function go(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new vo(t)}return null}function bo(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function wo(e){try{this.a=e||r.a.auth()}catch(t){throw new Zr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qr(this,{providerId:"phone",isOAuthProvider:!1})}function Eo(e,t){if(!e)throw new Zr("missing-verification-id");if(!t)throw new Zr("missing-verification-code");return new vo({Ua:e,Ta:t})}function So(e){if(e.temporaryProof&&e.phoneNumber)return new vo({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return uo(o,n);case"facebook.com":return io(n);case"github.com":return ao(n);case"twitter.com":return lo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Gi(t,a):new $i(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new no(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function To(e){if(!e.isOAuthProvider)throw new Zr("invalid-oauth-provider")}function Co(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Zr("invalid-auth-event");if(this.g&&this.a)throw new Zr("invalid-auth-event");if(this.g&&!this.f)throw new Zr("invalid-auth-event")}function Io(e){return(e=e||{}).type?new Co(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&ei(e.error),e.postBody,e.tenantId):null}function ko(){this.b=null,this.a=[]}_(ji,Vi),_(qi,ji),_(Bi,ji),_(zi,ji),_(Wi,ji),Gi.prototype.na=function(e){return es(e,Yi(this))},Gi.prototype.b=function(e,t){var n=Yi(this);return n.idToken=t,ts(e,n)},Gi.prototype.f=function(e,t){return Hi(ns(e,Yi(this)),t)},Gi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},$i.prototype.na=function(e){return es(e,Ji(this))},$i.prototype.b=function(e,t){var n=Ji(this);return n.idToken=t,ts(e,n)},$i.prototype.f=function(e,t){return Hi(ns(e,Ji(this)),t)},$i.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},eo.prototype.Ea=function(e){return this.zb=X(e),this},_(to,eo),_(no,eo),no.prototype.wa=function(e){return z(this.a,e)||this.a.push(e),this},no.prototype.Hb=function(){return H(this.a)},no.prototype.credential=function(e,t){var n;if(!(n=b(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Zr("argument-error","credential failed: must provide the ID token and/or the access token.");return new $i(this.providerId,n,this.providerId)},_(ro,no),jr(ro,"PROVIDER_ID","facebook.com"),jr(ro,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(oo,no),jr(oo,"PROVIDER_ID","github.com"),jr(oo,"GITHUB_SIGN_IN_METHOD","github.com"),_(so,no),jr(so,"PROVIDER_ID","google.com"),jr(so,"GOOGLE_SIGN_IN_METHOD","google.com"),_(co,eo),jr(co,"PROVIDER_ID","twitter.com"),jr(co,"TWITTER_SIGN_IN_METHOD","twitter.com"),fo.prototype.na=function(e){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?Ds(e,ls,{email:this.a,oobCode:this.c}):Ds(e,_s,{email:this.a,password:this.c})},fo.prototype.b=function(e,t){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?Ds(e,fs,{idToken:t,email:this.a,oobCode:this.c}):Ds(e,Es,{idToken:t,email:this.a,password:this.c})},fo.prototype.f=function(e,t){return Hi(this.na(e),t)},fo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},qr(po,{PROVIDER_ID:"password"}),qr(po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qr(po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),vo.prototype.na=function(e){return e.Va(bo(this))},vo.prototype.b=function(e,t){var n=bo(this);return n.idToken=t,Ds(e,Ns,n)},vo.prototype.f=function(e,t){var n=bo(this);return n.operation="REAUTH",Hi(e=Ds(e,Os,n),t)},vo.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},wo.prototype.Va=function(e,t){var n=this.a.b;return Ze(t.verify()).then(function(r){if(!c(r))throw new Zr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Ds(e,bs,t)}(n,{phoneNumber:e,recaptchaToken:r}).then(function(e){return"function"===typeof t.reset&&t.reset(),e},function(e){throw"function"===typeof t.reset&&t.reset(),e});default:throw new Zr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},qr(wo,{PROVIDER_ID:"phone"}),qr(wo,{PHONE_SIGN_IN_METHOD:"phone"}),Co.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Co.prototype.R=function(){return this.h},Co.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var _o,Ao=null;function No(e){var t="unauthorized-domain",n=void 0,r=In(e);e=r.b,"chrome-extension"==(r=r.f)?n=Ue("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ue("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Zr.call(this,t,n)}function Oo(e,t,n){Zr.call(this,e,n),(e=t||{}).Ab&&jr(this,"email",e.Ab),e.ba&&jr(this,"phoneNumber",e.ba),e.credential&&jr(this,"credential",e.credential),e.Qb&&jr(this,"tenantId",e.Qb)}function Do(e){if(e.code){var t=e.code||"";0==t.indexOf(ti)&&(t=t.substring(ti.length));var n={credential:So(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Zr(t,e.message||void 0);return new Oo(t,n,e.message)}return null}function xo(){}function Po(e){return e.c||(e.c=e.b())}function Ro(){}function Mo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Lo(){}function Fo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Uo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Vo(e,t,n){this.reset(e,t,n,void 0,void 0)}_(No,Zr),_(Oo,Zr),Oo.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&J(e,t),e},Oo.prototype.toJSON=function(){return this.A()},xo.prototype.c=null,_(Ro,xo),Ro.prototype.a=function(){var e=Mo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ro.prototype.b=function(){var e={};return Mo(this)&&(e[0]=!0,e[1]=!0),e},_o=new Ro,_(Lo,xo),Lo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Fo;throw Error("Unsupported browser")},Lo.prototype.b=function(){return{}},(t=Fo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Uo(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Uo(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Uo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Vo.prototype.a=null;function jo(e){this.f=e,this.b=this.c=this.a=null}function qo(e,t){this.name=e,this.value=t}Vo.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||k(),delete this.a},qo.prototype.toString=function(){return this.name};var Bo=new qo("SEVERE",1e3),zo=new qo("WARNING",900),Wo=new qo("CONFIG",700),Ko=new qo("FINE",500);jo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(D("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new Vo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Qo,Ho={},Go=null;function Yo(e){var t;if(Go||(Go=new jo(""),Ho[""]=Go,Go.c=Wo),!(t=Ho[e])){t=new jo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Yo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Ho[e]=t}return t}function Xo(e,t){e&&e.log(Ko,t,void 0)}function $o(e){this.f=e}function Jo(e){sn.call(this),this.o=e,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Yo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_($o,xo),$o.prototype.a=function(){return new Jo(this.f)},$o.prototype.b=(Qo={},function(){return Qo}),_(Jo,sn);var Zo=0;function ea(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function ta(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,na(e)}function na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ra(e){sn.call(this),this.headers=new mn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ia,this.v=this.P=!1}(t=Jo.prototype).open=function(e,t){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,na(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ta(this,!1)),this.readyState=Zo},t.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ea(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ta(this,!0):na(this),3==this.readyState&&ea(this)}},t.ic=function(e){this.a&&(this.response=this.responseText=e,ta(this,!0))},t.hc=function(e){this.a&&(this.response=e,ta(this,!0))},t.Ma=function(e){var t=this.h;t&&t.log(zo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ta(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},_(ra,sn);var ia="";ra.prototype.b=Yo("goog.net.XhrIo");var oa=/^https?$/i,aa=["POST","PUT"];function sa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():_o.a(),e.w=e.B?Po(e.B):Po(_o),e.a.onreadystatechange=C(e.Lb,e);try{Xo(e.b,ya(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(a){return Xo(e.b,ya(e,"Error opening Xhr: "+a.message)),void ca(e,a)}t=r||"";var o=new mn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(v(e)||c(e))j(e,t,void 0);else for(var n=dn(e),r=pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=ua,n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:c(e)?e.charAt(t):e[t]}(o.X()),r=u.FormData&&t instanceof u.FormData,!z(aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{pa(e),0<e.g&&(e.v=function(e){return wt&&Dt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Xo(e.b,ya(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=C(e.Ga,e)):e.o=fn(e.Ga,e.g,e)),Xo(e.b,ya(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){Xo(e.b,ya(e,"Send error: "+a.message)),ca(e,a)}}function ua(e){return"content-type"==e.toLowerCase()}function ca(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,la(e),ha(e)}function la(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function fa(e){if(e.c&&"undefined"!=typeof s)if(e.w[1]&&4==da(e)&&2==ma(e))Xo(e.b,ya(e,"Local request error detected and ignored"));else if(e.i&&4==da(e))fn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==da(e)){Xo(e.b,ya(e,"Request complete")),e.c=!1;try{var t,n=ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(gn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!oa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<da(e)?e.a.statusText:""}catch(l){Xo(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+ma(e)+"]",la(e)}}finally{ha(e)}}}function ha(e,t){if(e.a){pa(e);var n=e.a,r=e.w[0]?p:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Bo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function pa(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(u.clearTimeout(e.o),e.o=null)}function da(e){return e.a?e.a.readyState:0}function ma(e){try{return 2<da(e)?e.a.status:-1}catch(t){return-1}}function ya(e,t){return t+" ["+e.O+" "+e.l+" "+ma(e)+"]"}function va(e){var t=Aa;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ga(e,t,n){e.a=!0,e.c=n,e.f=!t,Sa(e)}function ba(e){if(e.a){if(!e.u)throw new Ta(e);e.u=!1}}function wa(e,t,n,r){e.g.push([t,n,r]),e.a&&Sa(e)}function Ea(e){return B(e.g,function(e){return g(e[1])})}function Sa(e){if(e.h&&e.a&&Ea(e)){var t=e.h,n=ka[t];n&&(u.clearTimeout(n.a),delete ka[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(A(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ea(e)||(n=!0)}}e.c=t,r&&(s=C(e.m,e,!0),r=C(e.m,e,!1),t instanceof va?(wa(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new Ia(t),ka[t.a]=t,e.h=t.a)}function Ta(){N.call(this)}function Ca(){N.call(this)}function Ia(e){this.a=u.setTimeout(C(this.c,this),0),this.b=e}(t=ra.prototype).Ga=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Xo(this.b,ya(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Xo(this.b,ya(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ha(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ha(this,!0)),ra.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?fa(this):this.yc())},t.yc=function(){fa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Bo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Xo(this.b,"Can not get response: "+t.message),null}},va.prototype.cancel=function(e){if(this.a)this.c instanceof va&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Ca(this),ba(this),ga(this,!1,e))}},va.prototype.m=function(e,t){this.i=!1,ga(this,e,t)},va.prototype.then=function(e,t,n){var r,i,o=new Qe(function(e,t){r=e,i=t});return wa(this,r,function(e){e instanceof Ca?o.cancel():i(e)}),o.then(e,t,n)},va.prototype.$goog_Thenable=!0,_(Ta,N),Ta.prototype.message="Deferred has already fired",Ta.prototype.name="AlreadyCalledError",_(Ca,N),Ca.prototype.message="Deferred was canceled",Ca.prototype.name="CanceledError",Ia.prototype.c=function(){throw delete ka[this.a],this.b};var ka={};function _a(e){var t={},n=t.document||document,r=oe(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new va(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){Na(i,!0);var e=new xa(Da,"Timeout reached for loading script "+r);ba(a),ga(a,!1,e)},c),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Na(i,t.gd||!1,s),ba(a),ga(a,!0,null))},i.onerror=function(){Na(i,!0,s);var e=new xa(Oa,"Error while loading script "+r);ba(a),ga(a,!1,e)},J(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Kn(i,o),function(e,t){U(e,"HTMLScriptElement"),e.src=oe(t),null===h&&(h=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""),(t=h)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Aa(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Na(e,!0,this.Ga)}}function Na(e,t,n){null!=n&&u.clearTimeout(n),e.onload=p,e.onerror=p,e.onreadystatechange=p,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Oa=0,Da=1;function xa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),N.call(this,n),this.code=e}function Pa(e){this.f=e}function Ra(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Fa,this.g=X(e.secureTokenHeaders||Ua),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Va,this.a=X(e.firebaseHeaders||ja),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!fr())throw new Zr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,fr()?this.f=new $o(self):pr()?this.f=new Pa(n):this.f=new Lo,this.b=null}_(xa,N),_(Pa,xo),Pa.prototype.a=function(){return new this.f},Pa.prototype.b=function(){return{}};var Ma,La="idToken",Fa=new xr(3e4,6e4),Ua={"Content-Type":"application/x-www-form-urlencoded"},Va=new xr(3e4,6e4),ja={"Content-Type":"application/json"};function qa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ba(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function za(e,t,n,r,i,o,a){(function(){var e=br();return!((e=yr(e)!=mr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!wt||!Nt||9<Nt)})()||fr()?e=C(e.o,e):(Ma||(Ma=new Qe(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[Ka]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){wa(e,null,t,void 0)}(_a(ae(Wa,{onload:Ka})),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=C(e.m,e)),e(t,n,r,i,o,a)}Ra.prototype.R=function(){return this.b},Ra.prototype.o=function(e,t,n,r,i,o){if(fr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new Zr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ra(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}un(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Xo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)}),cn(a,"ready",function(){s&&clearTimeout(s),yt(this)}),cn(a,"timeout",function(){s&&clearTimeout(s),yt(this),t&&t(null)}),sa(a,e,n,r,i)};var Wa=new Z(ne,"https://apis.google.com/js/client.js?onload=%{onload}"),Ka="__fcb"+Math.floor(1e6*Math.random()).toString();function Qa(e){if(!c(e=e.email)||!sr.test(e))throw new Zr("invalid-email")}function Ha(e){"email"in e&&Qa(e)}function Ga(e){if(!e[La])throw new Zr("internal-error")}function Ya(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Zr("internal-error")}else{if(!e.sessionInfo)throw new Zr("missing-verification-id");if(!e.code)throw new Zr("missing-verification-code")}}Ra.prototype.m=function(e,t,n,r,i){var o=this;Ma.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Ra.prototype.ob=function(){return Ds(this,Ss,{})},Ra.prototype.rb=function(e,t){return Ds(this,ws,{idToken:e,email:t})},Ra.prototype.sb=function(e,t){return Ds(this,Es,{idToken:e,password:t})};var Xa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $a(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Zr("internal-error")}function Ja(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Vn(e=new Mn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Za(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Do(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Do(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Do(e)):e.errorMessage&&(t=xs(e.errorMessage)),t)throw t;if(!e[La])throw new Zr("internal-error")}function es(e,t){return t.returnIdpCredential=!0,Ds(e,Ts,t)}function ts(e,t){return t.returnIdpCredential=!0,Ds(e,Is,t)}function ns(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ds(e,Cs,t)}function rs(e){if(!e.oobCode)throw new Zr("invalid-action-code")}(t=Ra.prototype).tb=function(e,t){var n={idToken:e},r=[];return G(Xa,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ds(this,ws,n)},t.kb=function(e,t){return J(e={requestType:"PASSWORD_RESET",email:e},t),Ds(this,ms,e)},t.lb=function(e,t){return J(e={requestType:"EMAIL_SIGNIN",email:e},t),Ds(this,ps,e)},t.jb=function(e,t){return J(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ds(this,ds,e)},t.Va=function(e){return Ds(this,As,e)},t.$a=function(e,t){return Ds(this,gs,{oobCode:e,newPassword:t})},t.Ka=function(e){return Ds(this,os,{oobCode:e})},t.Xa=function(e){return Ds(this,is,{oobCode:e})};var is={endpoint:"setAccountInfo",D:rs,fa:"email",F:!0},os={endpoint:"resetPassword",D:rs,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Zr("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(e){if(Qa(e),!e.password)throw new Zr("weak-password")},K:Ga,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},us={endpoint:"deleteAccount",V:["idToken"]},cs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!y(e.deleteProvider))throw new Zr("internal-error")}},ls={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Qa,K:Ga,T:!0,F:!0},fs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Qa,K:Ga,T:!0},hs={endpoint:"getAccountInfo"},ps={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Zr("internal-error");Qa(e)},fa:"email",F:!0},ds={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Zr("internal-error")},fa:"email",F:!0},ms={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Zr("internal-error");Qa(e)},fa:"email",F:!0},ys={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},vs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Zr("internal-error")}},gs={endpoint:"resetPassword",D:rs,fa:"email",F:!0},bs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:Ha,T:!0},Es={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ha(e),!e.password)throw new Zr("weak-password")},K:Ga,T:!0},Ss={endpoint:"signupNewUser",K:Ga,T:!0,F:!0},Ts={endpoint:"verifyAssertion",D:$a,Qa:Ja,K:Za,T:!0,F:!0},Cs={endpoint:"verifyAssertion",D:$a,Qa:Ja,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Zr("user-not-found");if(e.errorMessage)throw xs(e.errorMessage);if(!e[La])throw new Zr("internal-error")},T:!0,F:!0},Is={endpoint:"verifyAssertion",D:function(e){if($a(e),!e.idToken)throw new Zr("internal-error")},Qa:Ja,K:Za,T:!0},ks={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Zr("invalid-custom-token")},K:Ga,T:!0,F:!0},_s={endpoint:"verifyPassword",D:function(e){if(Qa(e),!e.password)throw new Zr("wrong-password")},K:Ga,T:!0,F:!0},As={endpoint:"verifyPhoneNumber",D:Ya,K:Ga,F:!0},Ns={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Zr("internal-error");Ya(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Do(e);Ga(e)}},Os={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ya,K:Ga,F:!0};function Ds(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.V))return et(new Zr("internal-error"));var r,i=t.Kb||"POST";return Ze(n).then(t.D).then(function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var a=In(e.h+t);Tn(a,"key",e.c),o&&Tn(a,"cb",k().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Tn(a,u,r[u]);return new Qe(function(t,o){za(e,a.toString(),function(e){e?e.error?o(Ps(e,i||{})):t(e):o(new Zr("network-request-failed"))},n,s?void 0:Yn(_r(r)),e.a,e.i.get())})}(e,t.endpoint,i,n,t.Yb,t.wb||!1)}).then(function(e){return r=e,t.Qa?t.Qa(n,r):r}).then(t.K).then(function(){if(!t.fa)return r;if(!(t.fa in r))throw new Zr("internal-error");return r[t.fa]})}function xs(e){return Ps({error:{errors:[{message:e}],code:400,message:e}})}function Ps(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Zr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",J(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Zr(r[i],t);return!t&&e&&(t=kr(e)),new Zr("internal-error",t)}function Rs(e){this.b=e,this.a=null,this.fb=function(e){return(Us||(Us=new Qe(function(e,t){function n(){Dr(),wr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Dr(),t(Error("Network Error"))},timeout:Ls.get()})}if(wr("gapi.iframes.Iframe"))e();else if(wr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){wr("gapi.load")?n():t(Error("Network Error"))},Ze(_a(r=ae(Ms,{onload:r}))).s(function(){t(Error("Network Error"))})}}).s(function(e){throw Us=null,e}))).then(function(){return new Qe(function(t,n){wr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Fs.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var Ms=new Z(ne,"https://apis.google.com/js/api.js?onload=%{onload}"),Ls=new xr(3e4,6e4),Fs=new xr(5e3,15e3),Us=null;function Vs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=kn(this.i,"/__/auth/iframe"),Tn(this.a,"apiKey",this.g),Tn(this.a,"appName",this.h),this.b=null,this.c=[]}function js(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function qs(e){try{return r.a.app(e).auth().Aa()}catch(t){return[]}}function Bs(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function zs(e){var t=tr();return function(e){return Ds(e,ys,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=In(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=In(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ar.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new No(tr())})}function Ws(e){return e.l?e.l:(e.l=ur().then(function(){if(!e.o){var t=e.c,n=e.h,r=qs(e.b),i=new Vs(e.u,e.f,e.b);i.f=t,i.b=n,i.c=H(r||[]),e.o=i.toString()}e.i=new Rs(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then(function(){e.a.register("authEvent",t,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Io(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ze(n)}return n.status="ERROR",Ze(n)})}(e)}),e.l)}function Ks(e){return e.m||(e.v=e.c?gr(e.c,qs(e.b)):null,e.m=new Ra(e.f,Di(e.h),e.v)),e.m}function Qs(e,t,n,r,i,o,a,s,u,c,l){return(e=new js(e,t,n,r,i)).l=o,e.g=a,e.i=s,e.b=X(u||null),e.f=c,e.nb(l).toString()}function Hs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Zr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Gs(e){this.b=e,this.a={},this.f=C(this.c,this)}Vs.prototype.toString=function(){return this.f?Tn(this.a,"v",this.f):Un(this.a.a,"v"),this.b?Tn(this.a,"eid",this.b):Un(this.a.a,"eid"),this.c.length?Tn(this.a,"fw",this.c.join(",")):Un(this.a.a,"fw"),this.a.toString()},js.prototype.nb=function(e){return this.h=e,this},js.prototype.toString=function(){var e=kn(this.o,"/__/auth/handler");if(Tn(e,"apiKey",this.m),Tn(e,"appName",this.c),Tn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(u){n=null}for(var i in t.ab=n,Tn(e,"providerId",this.a.providerId),n=_r((t=this.a).zb))n[i]=n[i].toString();i=t.Fc,n=X(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.cb&&t.ab&&!n[t.cb]&&(n[t.cb]=t.ab),Y(n)||Tn(e,"customParameters",kr(n))}if("function"===typeof this.a.Hb&&((t=this.a.Hb()).length&&Tn(e,"scopes",t.join(","))),this.l?Tn(e,"redirectUrl",this.l):Un(e.a,"redirectUrl"),this.g?Tn(e,"eventId",this.g):Un(e.a,"eventId"),this.i?Tn(e,"v",this.i):Un(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Cn(e,s)&&Tn(e,s,this.b[s]);return this.h?Tn(e,"tid",this.h):Un(e.a,"tid"),this.f?Tn(e,"eid",this.f):Un(e.a,"eid"),(s=qs(this.c)).length&&Tn(e,"fw",s.join(",")),e.toString()},(t=Bs.prototype).Fb=function(e,t,n){var r=new Zr("popup-closed-by-user"),i=new Zr("web-storage-unsupported"),o=this,a=!1;return this.ia().then(function(){(function(e){var t={type:"webStorageSupport"};return Ws(e).then(function(){return function(e,t){return e.fb.then(function(){return new Qe(function(n){e.a.send(t.type,t,n,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.i,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&ir(e),t(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(e){return new Qe(function(t){return function n(){hn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return hn(n).then(function(){t(r)})})},t.Ob=function(){var e=br();return!Ir(e)&&!Or(e)},t.Jb=function(){return!1},t.Db=function(e,t,n,r,i,o,a,s){if(!e)return et(new Zr("popup-blocked"));if(a&&!Ir())return this.ia().s(function(t){ir(e),i(t)}),r(),Ze();this.a||(this.a=zs(Ks(this)));var u=this;return this.a.then(function(){var t=u.ia().s(function(t){throw ir(e),i(t),t});return r(),t}).then(function(){(To(n),a)||nr(Qs(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)}).s(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},t.Eb=function(e,t,n,r){this.a||(this.a=zs(Ks(this)));var i=this;return this.a.then(function(){To(t),nr(Qs(i.u,i.f,i.b,e,t,tr(),n,i.c,void 0,i.h,r))}).s(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},t.ia=function(){var e=this;return Ws(this).then(function(){return e.i.fb}).s(function(){throw e.a=null,new Zr("network-request-failed")})},t.Rb=function(){return!0},t.ya=function(e){this.g.push(e)},t.La=function(e){K(this.g,function(t){return t==e})},(t=Hs.prototype).get=function(e){return Ze(this.a.getItem(e)).then(function(e){return e&&Ar(e)})},t.set=function(e,t){return Ze(this.a.setItem(e,kr(t)))},t.S=function(e){return Ze(this.a.removeItem(e))},t.$=function(){},t.ea=function(){};var Ys,Xs=[];function $s(e,t,n){Y(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Js(e){this.a=e}function Zs(e){this.c=e,this.b=!1,this.a=[]}function eu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return et(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Qe(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(t){return tu(e,c),t}).s(function(t){throw tu(e,c),t})}function tu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(e.a,function(e){return e==t})}}function nu(){if(!ou())throw new Zr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;fr()&&self?(this.l=function(){var e=fr()?self:null;if(j(Xs,function(n){n.b==e&&(t=n)}),!t){var t=new Gs(e);Xs.push(t)}return t}(),$s(this.l,"keyChanged",function(t,n){return lu(e).then(function(t){return 0<t.length&&j(e.a,function(e){e(t)}),{keyProcessed:z(t,n.key)}})}),$s(this.l,"ping",function(){return Ze(["keyChanged"])})):function(){var e=u.navigator;return e&&e.serviceWorker?Ze().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):Ze(null)}().then(function(t){(e.h=t)&&(e.g=new Zs(new Js(t)),eu(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&z(t[0].value,"keyChanged")&&(e.o=!0)}).s(function(){}))})}function ru(e){return new Qe(function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Qe(function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return ru(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function iu(e){return e.m||(e.m=ru(e)),e.m}function ou(){try{return!!u.indexedDB}catch(Qo){return!1}}function au(e){return e.objectStore("firebaseLocalStorage")}function su(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function uu(e){return new Qe(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function cu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?eu(e.g,"keyChanged",{key:t},e.o).then(function(){}).s(function(){}):Ze()}function lu(e){return iu(e).then(function(e){var t=au(su(e,!1));return t.getAll?uu(t.getAll()):new Qe(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r})}function fu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function hu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ze().then(function(){if(ou()){var e=Nr(),r="__sak"+e;return Ys||(Ys=new nu),(n=Ys).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.$(function(e){j(t.a,function(t){t(e)})}),e})}function pu(){this.a={},this.type="inMemory"}function du(){if(!function(){var e="Node"==hr();if(!(e=mu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Zr("internal-error","The LocalStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=mu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function mu(){try{var e=u.localStorage,t=Nr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function yu(){this.type="nullStorage"}function vu(){if(!function(){var e="Node"==hr();if(!(e=gu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Zr("internal-error","The SessionStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=gu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gu(){try{var e=u.sessionStorage,t=Nr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function bu(){var e={};e.Browser=Su,e.Node=Tu,e.ReactNative=Cu,e.Worker=Iu,this.a=e[hr()]}Gs.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];j(r,function(t){i.push(Ze().then(function(){return t(e.origin,e.data.data)}))}),nt(i).then(function(r){var i=[];j(r,function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})}),j(i,function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},Js.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Zs.prototype.close=function(){for(;0<this.a.length;)tu(this,this.a[0]);this.b=!0},(t=nu.prototype).set=function(e,t){var n,r=!1,i=this;return iu(this).then(function(t){return uu((t=au(su(n=t,!0))).get(e))}).then(function(o){var a=au(su(n,!0));return o?(o.value=t,uu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,uu(a.add(o)))}).then(function(){return i.c[e]=t,cu(i,e)}).ka(function(){r&&i.b--})},t.get=function(e){return iu(this).then(function(t){return uu(au(su(t,!1)).get(e))}).then(function(e){return e&&e.value})},t.S=function(e){var t=!1,n=this;return iu(this).then(function(r){return t=!0,n.b++,uu(au(su(r,!0)).delete(e))}).then(function(){return delete n.c[e],cu(n,e)}).ka(function(){t&&n.b--})},t.$=function(e){0==this.a.length&&function(e){fu(e),function t(){e.f=setTimeout(function(){e.i=lu(e).then(function(t){0<t.length&&j(e.a,function(e){e(t)})}).then(function(){t()}).s(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()}(this),this.a.push(e)},t.ea=function(e){K(this.a,function(t){return t==e}),0==this.a.length&&fu(this)},(t=hu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},t.S=function(e){return this.b.then(function(t){return t.S(e)})},t.$=function(e){this.a.push(e)},t.ea=function(e){K(this.a,function(t){return t==e})},(t=pu.prototype).get=function(e){return Ze(this.a[e])},t.set=function(e,t){return this.a[e]=t,Ze()},t.S=function(e){return delete this.a[e],Ze()},t.$=function(){},t.ea=function(){},(t=du.prototype).get=function(e){var t=this;return Ze().then(function(){return Ar(t.a.getItem(e))})},t.set=function(e,t){var n=this;return Ze().then(function(){var r=kr(t);null===r?n.S(e):n.a.setItem(e,r)})},t.S=function(e){var t=this;return Ze().then(function(){t.a.removeItem(e)})},t.$=function(e){u.window&&Gt(u.window,"storage",e)},t.ea=function(e){u.window&&$t(u.window,"storage",e)},(t=yu.prototype).get=function(){return Ze(null)},t.set=function(){return Ze()},t.S=function(){return Ze()},t.$=function(){},t.ea=function(){},(t=vu.prototype).get=function(e){var t=this;return Ze().then(function(){return Ar(t.a.getItem(e))})},t.set=function(e,t){var n=this;return Ze().then(function(){var r=kr(t);null===r?n.S(e):n.a.setItem(e,r)})},t.S=function(e){var t=this;return Ze().then(function(){t.a.removeItem(e)})},t.$=function(){},t.ea=function(){};var wu,Eu,Su={C:du,Sa:vu},Tu={C:du,Sa:vu},Cu={C:Hs,Sa:yu},Iu={C:du,Sa:yu},ku={$c:"local",NONE:"none",bd:"session"};function _u(){var e=!(Or(br())||!lr()),t=Ir(),n=Er();this.m=e,this.h=t,this.l=n,this.a={},wu||(wu=new bu),e=wu;try{this.g=!er()&&Mr()||!u.indexedDB?new e.a.C:new hu(fr()?new pu:new e.a.C)}catch(r){this.g=new pu,this.h=!0}try{this.i=new e.a.Sa}catch(r){this.i=new pu}this.u=new pu,this.f=C(this.Pb,this),this.b={}}function Au(){return Eu||(Eu=new _u),Eu}function Nu(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Ou(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Du(e,t,n){return n=Ou(t,n),"local"==t.C&&(e.b[n]=null),Nu(e,t.C).S(n)}function xu(e){e.c&&(clearInterval(e.c),e.c=null)}function Pu(e){this.a=e,this.b=Au()}(t=_u.prototype).get=function(e,t){return Nu(this,e.C).get(Ou(e,t))},t.set=function(e,t,n){var r=Ou(e,n),i=this,o=Nu(this,e.C);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.C&&(i.b[r]=t)})},t.addListener=function(e,t,n){e=Ou(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),Y(this.a)&&(Nu(this,"local").$(this.f),this.h||(er()||!Mr())&&u.indexedDB||!this.l||function(e){xu(e),e.c=setInterval(function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Ft({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=Ou(e,t),this.a[e]&&(K(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),Y(this.a)&&(Nu(this,"local").ea(this.f),xu(this))},t.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?Nu(this,"local").ea(this.f):xu(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.Za(t))},wt&&Nt&&10==Nt&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else j(e,C(this.Za,this))},t.Za=function(e){this.a[e]&&j(this.a[e],function(e){e()})};var Ru,Mu={name:"authEvent",C:"local"};function Lu(){this.a=Au()}function Fu(e,t){this.b=Uu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==Ru||(Ru=u.Int32Array?new Int32Array(Ku):Ku),this.reset()}_(Fu,function(){this.b=-1});for(var Uu=64,Vu=Uu-1,ju=[],qu=0;qu<Vu;qu++)ju[qu]=0;var Bu=Q(128,ju);function zu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|Ru[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Wu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(c(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(zu(e),i=0);else{if(!v(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(zu(e),i=0)}}e.c=i,e.g+=n}Fu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):H(this.h)};var Ku=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qu(){Fu.call(this,8,Hu)}_(Qu,Fu);var Hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Gu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new Lu,this.g=new Pu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Yu(e){return new Zr("invalid-cordova-configuration",e)}function Xu(e){var t=new Qu;Wu(t,e),e=[];var n=8*t.g;56>t.c?Wu(t,Bu,56-t.c):Wu(t,Bu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(zu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return q(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function $u(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ju(e){return e.f||(e.f=e.ia().then(function(){return new Qe(function(t){e.ya(function n(r){return t(r),e.La(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),Zu(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Ki(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ar(Cn(o=In(i),"firebaseError")||null))?ei(o):null)?new Co(r.c,r.b,null,null,o,null,r.R()):new Co(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}$u(e,i)})}var n=new Co("unknown",null,null,null,new Zr("no-auth-event")),r=!1,i=hn(500).then(function(){return Zu(e).then(function(){r||$u(e,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(wr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Ao||(Ao=new ko),function(e){var t=Ao;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=wr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)})})),e.f}function Zu(e){var t=null;return function(e){return e.b.get(Mu,e.a).then(function(e){return Io(e)})}(e.g).then(function(n){return t=n,Du((n=e.g).b,Mu,n.a)}).then(function(){return t})}function ec(e){this.a=e,this.b=Au()}(t=Gu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(cr(void 0)?ur().then(function(){return new Qe(function(e,t){var n=u.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):et(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof wr("universalLinks.subscribe",u))throw Yu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof wr("BuildInfo.packageName",u))throw Yu("cordova-plugin-buildinfo is not installed");if("function"!==typeof wr("cordova.plugins.browsertab.openUrl",u))throw Yu("cordova-plugin-browsertab is not installed");if("function"!==typeof wr("cordova.InAppBrowser.open",u))throw Yu("cordova-plugin-inappbrowser is not installed")},function(){throw new Zr("cordova-not-ready")})},t.Fb=function(e,t){return t(new Zr("operation-not-supported-in-this-environment")),Ze()},t.Db=function(){return et(new Zr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(e,t,n,r){if(this.c)return et(new Zr("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ze().then(function(){return To(t),Ju(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Co(t,r,null,o,new Zr("no-auth-event"),null,i),s=wr("BuildInfo.packageName",u);if("string"!==typeof s)throw new Zr("invalid-cordova-configuration");var c=wr("BuildInfo.displayName",u),l={};if(br().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!br().toLowerCase().match(/android/))return et(new Zr("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Xu(o),l.sessionId=o;var f=Qs(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,i);return e.ia().then(function(){var t=e.h;return e.v.a.set(Mu,a.A(),t)}).then(function(){var t=wr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new Zr("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!==typeof(n=wr("cordova.plugins.browsertab.openUrl",u)))throw new Zr("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=wr("cordova.InAppBrowser.open",u)))throw new Zr("invalid-cordova-configuration");t=br(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new Qe(function(e,t){s=function(){var t=wr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(s),c=function(){a||(a=hn(2e3).then(function(){t(new Zr("redirect-cancelled-by-user"))}))},l=function(){Pr()&&c()},o.addEventListener("resume",c,!1),br().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).s(function(e){return Zu(i).then(function(){throw e})})}).ka(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.La(s),i.c=null})},t.ya=function(e){this.b.push(e),Ju(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Co("unknown",null,null,null,new Zr("no-auth-event")),e(t))})},t.La=function(e){K(this.b,function(t){return t==e})};var tc={name:"pendingRedirect",C:"session"};function nc(e){return Du(e.b,tc,e.a)}function rc(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new vc,this.w=new Sc,this.g=new ec(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=ic(this.B,this.u,this.m,Ni)}function ic(e,t,n,i){var o=r.a.SDK_VERSION||null;return cr()?new Gu(e,t,n,o,i):new Bs(e,t,n,o,i)}function oc(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s(function(n){throw e.a==t&&e.reset(),n})}function ac(e){e.a.Ob()&&oc(e).s(function(t){var n=new Co("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));hc(t)&&e.o(n)}),e.a.Jb()||gc(e.b)}function sc(e,t){z(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(tc,e.a).then(function(e){return"pending"==e})}(e.g).then(function(t){t?nc(e.g).then(function(){oc(e).s(function(t){var n=new Co("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));hc(t)&&e.o(n)})}):ac(e)}).s(function(){ac(e)})}function uc(e,t){K(e.h,function(e){return e==t})}rc.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=ic(this.B,this.u,this.m),this.i={}},rc.prototype.o=function(e){if(!e)throw new Zr("invalid-auth-event");if(6e5<=k()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=k())),t=!0;break}}return gc(this.b),t};var cc=new xr(2e3,1e4),lc=new xr(3e4,6e4);function fc(e,t,n,r,i,o,a){return e.a.Db(t,n,r,function(){e.f||(e.f=!0,e.a.ya(e.l))},function(){e.reset()},i,o,a)}function hc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function pc(e,t,n,r,i){var o;return function(e){return e.b.set(tc,"pending",e.a)}(e.g).then(function(){return e.a.Eb(t,n,r,i).s(function(t){if(hc(t))throw new Zr("operation-not-supported-in-this-environment");return o=t,nc(e.g).then(function(){throw o})}).then(function(){return e.a.Rb()?new Qe(function(){}):nc(e.g).then(function(){return e.oa()}).then(function(){}).s(function(){})})})}function dc(e,t,n,r,i){return e.a.Fb(r,function(e){t.ja(n,null,e,i)},cc.get())}rc.prototype.oa=function(){return this.b.oa()};var mc={};function yc(e,t,n){var r=t+":"+n;return mc[r]||(mc[r]=new rc(e,t,n)),mc[r]}function vc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function gc(e){e.g||(e.g=!0,Ec(e,!1,null,null))}function bc(e){e.g&&!e.i&&Ec(e,!1,null,null)}function wc(e,t){if(e.b=function(){return Ze(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Ec(e,t,n,r){t?r?function(e,t){if(e.b=function(){return et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):wc(e,n):wc(e,{user:null}),e.f=[],e.c=[]}function Sc(){}function Tc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Cc(e,t){this.a=t,jr(this,"verificationId",e)}function Ic(e,t,n,r){return new wo(e).Va(t,n).then(function(e){return new Cc(e,r)})}function kc(e){var t=Ai(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Zr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qr(this,{token:e,expirationTime:Rr(1e3*t.exp),authTime:Rr(1e3*t.auth_time),issuedAtTime:Rr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function _c(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ac(e){this.f=e,this.b=this.a=null,this.c=0}function Nc(e,t){var n=t[La],r=t.refreshToken;t=Oc(t.expiresIn),e.b=n,e.c=t,e.a=r}function Oc(e){return k()+1e3*parseInt(e,10)}function Dc(e,t){return function(e,t){return new Qe(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?za(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(Ps(e)):e.access_token&&e.refresh_token?n(e):r(new Zr("internal-error")):r(new Zr("network-request-failed"))},"POST",Fn(t).toString(),e.g,e.u.get()):r(new Zr("internal-error"))})}(e.f,t).then(function(t){return e.b=t.access_token,e.c=Oc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function xc(e,t){this.a=e||null,this.b=t||null,qr(this,{lastSignInTime:Rr(t||null),creationTime:Rr(e||null)})}function Pc(e,t,n,r,i,o){qr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Rc(e,t){for(var n in Lt.call(this,e),t)this[n]=t[n]}function Mc(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=r.a.SDK_VERSION?gr(r.a.SDK_VERSION):null,this.a=new Ra(this.l,Di(Ni),e),this.b=new Ac(this.a),Bc(this,t[La]),Nc(this.b,t),jr(this,"refreshToken",this.b.a),Kc(this,n||{}),sn.call(this),this.J=!1,this.o&&Sr()&&(this.i=yc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new _c(function(){return e.G(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.b.c-k()-3e5;return 0<t?t:0})}(this),this.W=C(this.Ha,this);var i=this;this.ga=null,this.va=function(e){i.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){Fc(i,e.c)},this.Y=null}function Lc(e,t){e.Z&&$t(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&Gt(t,"languageCodeChanged",e.va)}function Fc(e,t){e.P=t,Ba(e.a,r.a.SDK_VERSION?gr(r.a.SDK_VERSION,e.P):null)}function Uc(e,t){e.Y&&$t(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&Gt(t,"frameworkChanged",e.ua)}function Vc(e){try{return r.a.app(e.m).auth()}catch(t){throw new Zr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function jc(e){e.B||e.w.b||(e.w.start(),$t(e,"tokenChanged",e.W),Gt(e,"tokenChanged",e.W))}function qc(e){$t(e,"tokenChanged",e.W),e.w.stop()}function Bc(e,t){e.ma=t,jr(e,"_lat",t)}function zc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return nt(t).then(function(){return e})}function Wc(e){e.i&&!e.J&&(e.J=!0,sc(e.i,e))}function Kc(e,t){qr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new xc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Qc(){}function Hc(e){return Ze().then(function(){if(e.B)throw new Zr("app-deleted")})}function Gc(e){return q(e.providerData,function(e){return e.providerId})}function Yc(e,t){t&&(Xc(e,t.providerId),e.providerData.push(t))}function Xc(e,t){K(e.providerData,function(e){return e.providerId==t})}function $c(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&jr(e,t,n)}function Jc(e,t){e!=t&&(qr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?jr(e,"metadata",function(e){return new xc(e.a,e.b)}(t.metadata)):jr(e,"metadata",new xc),j(t.providerData,function(t){Yc(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),jr(e,"refreshToken",e.b.a))}function Zc(e){return e.G().then(function(t){var n=e.isAnonymous;return function(e,t){return Ds(e.a,hs,{idToken:t}).then(C(e.zc,e))}(e,t).then(function(){return n||$c(e,"isAnonymous",!1),t})})}function el(e,t){t[La]&&e.ma!=t[La]&&(Nc(e.b,t),e.dispatchEvent(new Rc("tokenChanged")),Bc(e,t[La]),$c(e,"refreshToken",e.b.a))}function tl(e,t){return Zc(e).then(function(){if(z(Gc(e),t))return zc(e).then(function(){throw new Zr("provider-already-linked")})})}function nl(e,t,n){return Br({user:e,credential:So(t),additionalUserInfo:t=Li(t),operationType:n})}function rl(e,t){return el(e,t),e.reload().then(function(){return e})}function il(e,t,n,i,o){if(!Sr())return et(new Zr("operation-not-supported-in-this-environment"));if(e.h&&!o)return et(e.h);var a=Mi(n.providerId),s=Nr(e.uid+":::"),u=null;(!Ir()||lr())&&e.o&&n.isOAuthProvider&&(u=Qs(e.o,e.l,e.m,t,n,null,s,r.a.SDK_VERSION||null,null,null,e.tenantId));var c=or(u,a&&a.Da,a&&a.Ca);return i=i().then(function(){if(al(e),!o)return e.G().then(function(){})}).then(function(){return fc(e.i,c,t,n,s,!!u,e.tenantId)}).then(function(){return new Qe(function(n,r){e.ja(t,null,new Zr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=dc(e.i,e,t,c,s)})}).then(function(e){return c&&ir(c),e?Br(e):null}).s(function(e){throw c&&ir(c),e}),sl(e,i,o)}function ol(e,t,n,r,i){if(!Sr())return et(new Zr("operation-not-supported-in-this-environment"));if(e.h&&!i)return et(e.h);var o=null,a=Nr(e.uid+":::");return r=r().then(function(){if(al(e),!i)return e.G().then(function(){})}).then(function(){return e.ca=a,zc(e)}).then(function(t){return e.da&&(t=(t=e.da).b.set(ll,e.A(),t.a)),t}).then(function(){return pc(e.i,t,n,a,e.tenantId)}).s(function(t){if(o=t,e.da)return fl(e.da);throw o}).then(function(){if(o)throw o}),sl(e,r,i)}function al(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Zr("internal-error");throw new Zr("auth-domain-config-required")}}function sl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),et(e.h)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Rc("userInvalidated")),e.h=t),t})}(e,t,n);return e.I.push(r),r.ka(function(){W(e.I,r)}),r}function ul(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[La]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-k())/1e3;var r=new Mc(t,n,e);return e.providerData&&j(e.providerData,function(e){e&&Yc(r,Br(e))}),e.redirectEventId&&(r.ca=e.redirectEventId),r}function cl(e){this.a=e,this.b=Au()}vc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},vc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Ec(this,!0,null,e.a),Ze()):t.za(n,r)?function(e,t,n){n=n.za(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){Ec(e,s,t,null)}).s(function(t){Ec(e,s,null,t)})}(this,e,t):et(new Zr("invalid-auth-event")):(Ec(this,!1,null,null),Ze())}else et(new Zr("invalid-auth-event"))},vc.prototype.oa=function(){var e=this;return new Qe(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Zr("timeout");e.a&&e.a.cancel(),e.a=hn(lc.get()).then(function(){e.b||(e.g=!0,Ec(e,!0,null,t))})}(e))})},Sc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Ze()):t.za(n,r)?function(e,t){var n=e.b,r=e.c;t.za(r,n)(e.g,e.f,e.R(),e.i).then(function(e){t.ja(r,e,null,n)}).s(function(e){t.ja(r,null,e,n)})}(e,t):et(new Zr("invalid-auth-event"))}else et(new Zr("invalid-auth-event"))},Cc.prototype.confirm=function(e){return e=Eo(this.verificationId,e),this.a(e)},_c.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=hn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(function(){return function(){var e=u.document,t=null;return Pr()||!e?Ze():new Qe(function(n){t=function(){Pr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return t.h()}).then(function(){e(t,!0)}).s(function(n){t.i(n)&&e(t,!1)})}(this,!0)},_c.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ac.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ac.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?et(new Zr("user-token-expired")):e||!this.b||k()>this.c-3e4?this.a?Dc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ze(null):Ze({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},xc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(Rc,Lt),_(Mc,sn),Mc.prototype.sa=function(e){this.ga=e,qa(this.a,e)},Mc.prototype.ha=function(){return this.ga},Mc.prototype.Aa=function(){return H(this.P)},Mc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},jr(Mc.prototype,"providerId","firebase"),(t=Mc.prototype).reload=function(){var e=this;return sl(this,Hc(this).then(function(){return Zc(e).then(function(){return zc(e)}).then(Qc)}))},t.dc=function(e){return this.G(e).then(function(e){return new kc(e)})},t.G=function(e){var t=this;return sl(this,Hc(this).then(function(){return t.b.getToken(e)}).then(function(e){if(!e)throw new Zr("internal-error");return e.accessToken!=t.ma&&(Bc(t,e.accessToken),t.dispatchEvent(new Rc("tokenChanged"))),$c(t,"refreshToken",e.refreshToken),e.accessToken}))},t.zc=function(e){if(!(e=e.users)||!e.length)throw new Zr("internal-error");Kc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?q(e,function(e){return new Pc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)Yc(this,t[n]);$c(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},t.Ac=function(e){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},t.gb=function(e){var t=this,n=null;return sl(this,e.f(this.a,this.uid).then(function(e){return el(t,e),n=nl(t,e,"reauthenticate"),t.h=null,t.reload()}).then(function(){return n}),!0)},t.rc=function(e){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},t.eb=function(e){var t=this,n=null;return sl(this,tl(this,e.providerId).then(function(){return t.G()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=nl(t,e,"link"),rl(t,e)}).then(function(){return n}))},t.sc=function(e,t){var n=this;return sl(this,tl(this,"phone").then(function(){return Ic(Vc(n),e,t,C(n.eb,n))}))},t.Bc=function(e,t){var n=this;return sl(this,Ze().then(function(){return Ic(Vc(n),e,t,C(n.gb,n))}),!0)},t.rb=function(e){var t=this;return sl(this,this.G().then(function(n){return t.a.rb(n,e)}).then(function(e){return el(t,e),t.reload()}))},t.Sc=function(e){var t=this;return sl(this,this.G().then(function(n){return e.b(t.a,n)}).then(function(e){return el(t,e),t.reload()}))},t.sb=function(e){var t=this;return sl(this,this.G().then(function(n){return t.a.sb(n,e)}).then(function(e){return el(t,e),t.reload()}))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Hc(this);var t=this;return sl(this,this.G().then(function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return el(t,e),$c(t,"displayName",e.displayName||null),$c(t,"photoURL",e.photoUrl||null),j(t.providerData,function(e){"password"===e.providerId&&(jr(e,"displayName",t.displayName),jr(e,"photoURL",t.photoURL))}),zc(t)}).then(Qc))},t.Qc=function(e){var t=this;return sl(this,Zc(this).then(function(n){return z(Gc(t),e)?function(e,t,n){return Ds(e,cs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then(function(e){var n={};return j(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),j(Gc(t),function(e){n[e]||Xc(t,e)}),n[wo.PROVIDER_ID]||jr(t,"phoneNumber",null),zc(t)}):zc(t).then(function(){throw new Zr("no-such-provider")})}))},t.delete=function(){var e=this;return sl(this,this.G().then(function(t){return Ds(e.a,us,{idToken:t})}).then(function(){e.dispatchEvent(new Rc("userDeleted"))})).then(function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Lc(e,null),Uc(e,null),e.I=[],e.B=!0,qc(e),jr(e,"refreshToken",null),e.i&&uc(e.i,e)})},t.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},t.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?C(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?C(this.Cb,this):null},t.tc=function(e){var t=this;return il(this,"linkViaPopup",e,function(){return tl(t,e.providerId).then(function(){return zc(t)})},!1)},t.Cc=function(e){return il(this,"reauthViaPopup",e,function(){return Ze()},!0)},t.uc=function(e){var t=this;return ol(this,"linkViaRedirect",e,function(){return tl(t,e.providerId)},!1)},t.Dc=function(e){return ol(this,"reauthViaRedirect",e,function(){return Ze()},!0)},t.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,this.G().then(function(n){return ts(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=nl(i,e,"link"),rl(i,e)}).then(function(){return o}))},t.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,Ze().then(function(){return Hi(ns(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=nl(i,e,"reauthenticate"),el(i,e),i.h=null,i.reload()}).then(function(){return o}),!0)},t.jb=function(e){var t=this,n=null;return sl(this,this.G().then(function(t){return n=t,"undefined"===typeof e||Y(e)?{}:Si(new hi(e))}).then(function(e){return t.a.jb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},t.toJSON=function(){return this.A()},t.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(e,this.metadata.A()),j(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),e};var ll={name:"redirectUser",C:"session"};function fl(e){return Du(e.b,ll,e.a)}function hl(e){this.a=e,this.b=Au(),this.c=null,this.f=function(e){var t=ml("local"),n=ml("session"),r=ml("none");return function(e,t,n){var r=Ou(t,n),i=Nu(e,t.C);return e.get(t,n).then(function(o){var a=null;try{a=Ar(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(dl,e.a).then(function(e){return e?ml(e):t})})})}).then(function(t){return e.c=t,pl(e,t.C)}).s(function(){e.c||(e.c=t)})}(this),this.b.addListener(ml("local"),this.a,C(this.g,this))}function pl(e,t){var n,r=[];for(n in ku)ku[n]!==t&&r.push(Du(e.b,ml(ku[n]),e.a));return r.push(Du(e.b,dl,e.a)),function(e){return new Qe(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)tt(e[s],I(o,s),a);else t(i)})}(r)}hl.prototype.g=function(){var e=this,t=ml("local");bl(this,function(){return Ze().then(function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null}).then(function(n){if(n)return pl(e,"local").then(function(){e.c=t})})})};var dl={name:"persistence",C:"session"};function ml(e){return{name:"authUser",C:e}}function yl(e,t){return bl(e,function(){return e.b.set(e.c,t.A(),e.a)})}function vl(e){return bl(e,function(){return Du(e.b,e.c,e.a)})}function gl(e,t){return bl(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),ul(e||{})})})}function bl(e,t){return e.f=e.f.then(t,t),e.f}function wl(e){if(this.l=!1,jr(this,"settings",new Tc),jr(this,"app",e),!Al(this).options||!Al(this).options.apiKey)throw new Zr("invalid-api-key");e=r.a.SDK_VERSION?gr(r.a.SDK_VERSION):null,this.b=new Ra(Al(this).options&&Al(this).options.apiKey,Di(Ni),e),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(C(this.pc,this)),kl(this,null),this.h=new hl(Al(this).options.apiKey+":"+Al(this).name),this.w=new cl(Al(this).options.apiKey+":"+Al(this).name),this.Y=xl(this,function(e){var t=Al(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ll,e.a).then(function(e){return e&&t&&(e.authDomain=t),ul(e||{})})}(e.w,Al(e).options.authDomain).then(function(t){return(e.B=t)&&(t.da=e.w),fl(e.w)});return xl(e,t)}(e).then(function(){return gl(e.h,t)}).then(function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then(function(){return yl(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:vl(e.h)})):null}).then(function(t){kl(e,t||null)});return xl(e,n)}(this)),this.i=xl(this,function(e){return e.Y.then(function(){return Cl(e)}).s(function(){}).then(function(){if(!e.l)return e.ma()}).s(function(){}).then(function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(ml("local"),t.a,e.ma)}})}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.ua=C(this.bc,this),this.va=C(this.mc,this),this.Ha=C(this.nc,this),this.a=null,function(e){var t=Al(e).options.authDomain,n=Al(e).options.apiKey;t&&Sr()&&(e.Tb=e.Y.then(function(){if(!e.l){if(e.a=yc(t,n,Al(e).name),sc(e.a,e),Nl(e)&&Wc(Nl(e)),e.B){Wc(e.B);var r=e.B;r.sa(e.ha()),Lc(r,e),Fc(r=e.B,e.I),Uc(r,e),e.B=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function El(e){Lt.call(this,"languageCodeChanged"),this.g=e}function Sl(e){Lt.call(this,"frameworkChanged"),this.c=e}function Tl(e){return e.Tb||et(new Zr("auth-domain-config-required"))}function Cl(e){if(!Sr())return et(new Zr("operation-not-supported-in-this-environment"));var t=Tl(e).then(function(){return e.a.oa()}).then(function(e){return e?Br(e):null});return xl(e,t)}function Il(e,t){var n={};return n.apiKey=Al(e).options.apiKey,n.authDomain=Al(e).options.authDomain,n.appName=Al(e).name,e.Y.then(function(){return function(e,t,n,r){var i=new Mc(e,t);return n&&(i.da=n),r&&Fc(i,r),i.reload().then(function(){return i})}(n,t,e.w,e.Aa())}).then(function(t){return Nl(e)&&t.uid==Nl(e).uid?(Jc(Nl(e),t),e.aa(t)):(kl(e,t),Wc(t),e.aa(t))}).then(function(){Dl(e)})}function kl(e,t){Nl(e)&&(function(e,t){K(e.O,function(e){return e==t})}(Nl(e),e.ub),$t(Nl(e),"tokenChanged",e.ua),$t(Nl(e),"userDeleted",e.va),$t(Nl(e),"userInvalidated",e.Ha),qc(Nl(e))),t&&(t.O.push(e.ub),Gt(t,"tokenChanged",e.ua),Gt(t,"userDeleted",e.va),Gt(t,"userInvalidated",e.Ha),0<e.o&&jc(t)),jr(e,"currentUser",t),t&&(t.sa(e.ha()),Lc(t,e),Fc(t,e.I),Uc(t,e))}function _l(e,t){var n=null,r=null;return xl(e,t.then(function(t){return n=So(t),r=Li(t),Il(e,t)}).then(function(){return Br({user:Nl(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Al(e){return e.app}function Nl(e){return e.currentUser}function Ol(e){return Nl(e)&&Nl(e)._lat||null}function Dl(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Ol(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](Ol(e))}}function xl(e,t){return e.O.push(t),t.ka(function(){W(e.O,t)}),t}function Pl(){}function Rl(){this.a={},this.b=1e12}hl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Zr("invalid-persistence-type"),n=new Zr("unsupported-persistence-type");e:{for(r in ku)if(ku[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(hr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Er()&&"none"!==e)throw n}}(e),bl(this,function(){return e!=n.c.C?n.b.get(n.c,n.a).then(function(r){return t=r,pl(n,e)}).then(function(){if(n.c=ml(e),t)return n.b.set(n.c,t,n.a)}):Ze()})},_(wl,sn),_(El,Lt),_(Sl,Lt),(t=wl.prototype).mb=function(e){return xl(this,e=this.h.mb(e))},t.sa=function(e){this.Z===e||this.l||(this.Z=e,qa(this.b,this.Z),this.dispatchEvent(new El(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var e=u.navigator;this.sa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.vc=function(e){this.I.push(e),Ba(this.b,r.a.SDK_VERSION?gr(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new Sl(this.I))},t.Aa=function(){return H(this.I)},t.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Al(this).options.apiKey,authDomain:Al(this).options.authDomain,appName:Al(this).name,currentUser:Nl(this)&&Nl(this).A()}},t.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},t.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?C(this.ac,this):null},t.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=es(i.b,e).then(function(e){return o=So(e),a=Li(e),e});return xl(this,e=i.Y.then(function(){return s}).then(function(e){return Il(i,e)}).then(function(){return Br({user:Nl(i),credential:o,additionalUserInfo:a,operationType:"signIn"})}))},t.Lc=function(e){if(!Sr())return et(new Zr("operation-not-supported-in-this-environment"));var t=this,n=Mi(e.providerId),i=Nr(),o=null;(!Ir()||lr())&&Al(this).options.authDomain&&e.isOAuthProvider&&(o=Qs(Al(this).options.authDomain,Al(this).options.apiKey,Al(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=or(o,n&&n.Da,n&&n.Ca);return xl(this,n=Tl(this).then(function(n){return fc(n,a,"signInViaPopup",e,i,!!o,t.R())}).then(function(){return new Qe(function(e,n){t.ja("signInViaPopup",null,new Zr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=dc(t.a,t,"signInViaPopup",a,i)})}).then(function(e){return a&&ir(a),e?Br(e):null}).s(function(e){throw a&&ir(a),e}))},t.Mc=function(e){if(!Sr())return et(new Zr("operation-not-supported-in-this-environment"));var t=this;return xl(this,Tl(this).then(function(){return function(e){return bl(e,function(){return e.b.set(dl,e.c.C,e.a)})}(t.h)}).then(function(){return pc(t.a,"signInViaRedirect",e,void 0,t.R())}))},t.oa=function(){var e=this;return Cl(this).then(function(t){return e.a&&bc(e.a.b),t}).s(function(t){throw e.a&&bc(e.a.b),t})},t.Rc=function(e){if(!e)return et(new Zr("null-user"));if(this.P!=e.tenantId)return et(new Zr("tenant-id-mismatch"));var t=this,n={};n.apiKey=Al(this).options.apiKey,n.authDomain=Al(this).options.authDomain,n.appName=Al(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[La]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-k())/1e3,t=new Mc(t,o),n&&(t.da=n),r&&Fc(t,r),Jc(t,e),t}(e,n,t.w,t.Aa());return xl(this,this.i.then(function(){if(Al(t).options.apiKey!=e.l)return r.reload()}).then(function(){return Nl(t)&&e.uid==Nl(t).uid?(Jc(Nl(t),e),t.aa(e)):(kl(t,r),Wc(r),t.aa(r))}).then(function(){Dl(t)}))},t.pb=function(){var e=this;return xl(this,this.i.then(function(){return e.a&&bc(e.a.b),Nl(e)?(kl(e,null),vl(e.h).then(function(){Dl(e)})):Ze()}))},t.Nc=function(){var e=this;return gl(this.h,Al(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Nl(e)&&t){n=Nl(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Jc(Nl(e),t),Nl(e).G();(Nl(e)||t)&&(kl(e,t),t&&(Wc(t),t.da=e.w),e.a&&sc(e.a,e),Dl(e))}})},t.aa=function(e){return yl(this.h,e)},t.bc=function(){Dl(this),this.aa(Nl(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Nl(t))})},t.pc=function(e){var t=this;!function(e,t){e.J.push(t),xl(e,e.i.then(function(){!e.l&&z(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Ol(e)))}))}(this,function(){e.next(Nl(t))})},t.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then(function(){g(e)?e(Nl(r)):g(e.next)&&e.next(Nl(r))}),this.Ub(e,t,n)},t.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then(function(){r.W=r.getUid(),g(e)?e(Nl(r)):g(e.next)&&e.next(Nl(r))}),this.Vb(e,t,n)},t.cc=function(e){var t=this;return xl(this,this.i.then(function(){return Nl(t)?Nl(t).G(e).then(function(e){return{accessToken:e}}):null}))},t.Hc=function(e){var t=this;return this.i.then(function(){return _l(t,Ds(t.b,ks,{token:e}))}).then(function(e){var n=e.user;return $c(n,"isAnonymous",!1),t.aa(n),e})},t.Ic=function(e,t){var n=this;return this.i.then(function(){return _l(n,Ds(n.b,_s,{email:e,password:t}))})},t.Xb=function(e,t){var n=this;return this.i.then(function(){return _l(n,Ds(n.b,as,{email:e,password:t}))})},t.Ra=function(e){var t=this;return this.i.then(function(){return _l(t,e.na(t.b))})},t.Gc=function(e){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},t.ob=function(){var e=this;return this.i.then(function(){var t=Nl(e);if(t&&t.isAnonymous){var n=Br({providerId:null,isNewUser:!1});return Br({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return _l(e,e.b.ob()).then(function(t){var n=t.user;return $c(n,"isAnonymous",!0),e.aa(n),t})})},t.getUid=function(){return Nl(this)&&Nl(this).uid||null},t.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Nl(this)&&jc(Nl(this))},t.Ec=function(e){var t=this;j(this.m,function(n){n==e&&t.o--}),0>this.o&&(this.o=0),0==this.o&&Nl(this)&&qc(Nl(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.m.push(e),xl(this,this.i.then(function(){t.l||z(t.m,e)&&e(Ol(t))}))},t.removeAuthTokenListener=function(e){K(this.m,function(t){return t==e})},t.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(ml("local"),e.a,this.ma),this.a&&(uc(this.a,this),bc(this.a.b)),Promise.resolve()},t.$b=function(e){return xl(this,function(e,t){return Ds(e,ss,{identifier:t,continueUri:Tr()?tr():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.b,e))},t.qc=function(e){return!!yo(e)},t.lb=function(e,t){var n=this;return xl(this,Ze().then(function(){var e=new hi(t);if(!e.c)throw new Zr("argument-error",mi+" must be true when sending sign in link to email");return Si(e)}).then(function(t){return n.b.lb(e,t)}).then(function(){}))},t.Uc=function(e){return this.Ka(e).then(function(e){return e.data.email})},t.$a=function(e,t){return xl(this,this.b.$a(e,t).then(function(){}))},t.Ka=function(e){return xl(this,this.b.Ka(e).then(function(e){return new Wr(e)}))},t.Xa=function(e){return xl(this,this.b.Xa(e).then(function(){}))},t.kb=function(e,t){var n=this;return xl(this,Ze().then(function(){return"undefined"===typeof t||Y(t)?{}:Si(new hi(t))}).then(function(t){return n.b.kb(e,t)}).then(function(){}))},t.Kc=function(e,t){return xl(this,Ic(this,e,t,C(this.Ra,this)))},t.Jc=function(e,t){var n=this;return xl(this,Ze().then(function(){var r=t||tr(),i=mo(e,r);if(!(r=yo(r)))throw new Zr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Zr("tenant-id-mismatch");return n.Ra(i)}))},Pl.prototype.render=function(){},Pl.prototype.reset=function(){},Pl.prototype.getResponse=function(){},Pl.prototype.execute=function(){};var Ml=null;function Ll(e,t){return(t=Fl(t))&&e.a[t]||null}function Fl(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Ul(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Wn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Gt(this.f,"click",this.i)}function Vl(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function jl(){}Rl.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ul(e,t),this.b++},Rl.prototype.reset=function(e){var t=Ll(this,e);e=Fl(e),t&&e&&(t.delete(),delete this.a[e])},Rl.prototype.getResponse=function(e){return(e=Ll(this,e))?e.getResponse():null},Rl.prototype.execute=function(e){(e=Ll(this,e))&&e.execute()},Ul.prototype.getResponse=function(){return Vl(this),this.b},Ul.prototype.execute=function(){Vl(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},Ul.prototype.delete=function(){Vl(this),this.g=!0,clearTimeout(this.a),this.a=null,$t(this.f,"click",this.i)},jl.prototype.g=function(){return Ml||(Ml=new Rl),Ze(Ml)},jl.prototype.c=function(){};var ql=null;function Bl(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zl=new Z(ne,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Wl=new xr(3e4,6e4);Bl.prototype.g=function(e){var t=this;return new Qe(function(n,r){var i=setTimeout(function(){r(new Zr("network-request-failed"))},Wl.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new Zr("internal-error"));delete u[t.a]},Ze(_a(ae(zl,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(i),r(new Zr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},Bl.prototype.c=function(){this.b--};var Kl=null;function Ql(e,t,n,r,i,o,a){if(jr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(ql||(ql=new jl),a=ql):(Kl||(Kl=new Bl),a=Kl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Yl])throw new Zr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Xl],!u.document)throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Wn(t)||!this.i&&Wn(t).hasChildNodes())throw new Zr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ra(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var c=this.a[Hl];this.a[Hl]=function(e){if($l(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=wr(c,u);"function"===typeof t&&t(e)}};var l=this.a[Gl];this.a[Gl]=function(){if($l(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=wr(l,u);"function"===typeof e&&e()}}}var Hl="callback",Gl="expired-callback",Yl="sitekey",Xl="size";function $l(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Jl(e,t){return e.h.push(t),t.ka(function(){W(e.h,t)}),t}function Zl(e){if(e.B)throw new Zr("internal-error","RecaptchaVerifier instance has been destroyed.")}function ef(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new Zr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Zr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?gr(r.a.SDK_VERSION,a):null,Ql.call(this,n,e,t,function(){try{var e=o.b.auth().ha()}catch(t){e=null}return e},a,Di(Ni),i)}function tf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Zr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=nf.length)throw new Zr("internal-error","Argument validator received an unsupported number of arguments.");n=nf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Zr("argument-error",e+" failed: "+r)}(t=Ql.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=Jl(this,Ze().then(function(){if(Tr()&&!fr())return ur();throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.v())}).then(function(t){return e.g=t,Ds(e.o,vs,{})}).then(function(t){e.a[Yl]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},t.render=function(){Zl(this);var e=this;return Jl(this,this.Ba().then(function(){if(null===e.c){var t=e.u;if(!e.i){var n=Wn(t);t=Hn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},t.verify=function(){Zl(this);var e=this;return Jl(this,this.render().then(function(t){return new Qe(function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push(function t(r){r&&(function(e,t){K(e.l,function(e){return e==t})}(e,t),n(r))}),e.i&&e.g.execute(e.c)}})}))},t.reset=function(){Zl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Wn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},_(ef,Ql);var nf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rf(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:c}}function of(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:l}}function af(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:b}}function sf(e,t){return{name:e||"",M:"a function",optional:!!t,N:g}}function uf(e,t){return{name:e||"",M:"null",optional:!!t,N:m}}function cf(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function lf(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&c(e.type)&&g(e.verify))}}}function ff(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function hf(e,t){for(var n in t){var r=t[n].name;e[r]=mf(r,e[n],t[n].j)}}function pf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:I(function(e){return this[e]},n),set:I(function(e,t,n,r){tf(e,[n],[r],!0),this[t]=r},r,n,t[n].Ya),enumerable:!0})}}function df(e,t,n,r){e[t]=mf(t,n,r)}function mf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return tf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}hf(wl.prototype,{Xa:{name:"applyActionCode",j:[rf("code")]},Ka:{name:"checkActionCode",j:[rf("code")]},$a:{name:"confirmPasswordReset",j:[rf("code"),rf("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[rf("email"),rf("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[rf("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[rf("emailLink")]},wc:{name:"onAuthStateChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rf("email"),ff(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rf("email"),af("actionCodeSettings")]},mb:{name:"setPersistence",j:[rf("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[cf()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[cf()]},Hc:{name:"signInWithCustomToken",j:[rf("token")]},Ic:{name:"signInWithEmailAndPassword",j:[rf("email"),rf("password")]},Jc:{name:"signInWithEmailLink",j:[rf("email"),rf("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[ff({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Mc)}},uf(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[rf("code")]}}),pf(wl.prototype,{lc:{name:"languageCode",Ya:ff(rf(),uf(),"languageCode")},ti:{name:"tenantId",Ya:ff(rf(),uf(),"tenantId")}}),wl.Persistence=ku,wl.Persistence.LOCAL="local",wl.Persistence.SESSION="session",wl.Persistence.NONE="none",hf(Mc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[of("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[of("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[cf()]},eb:{name:"linkWithCredential",j:[cf()]},sc:{name:"linkWithPhoneNumber",j:[rf("phoneNumber"),lf()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[cf()]},gb:{name:"reauthenticateWithCredential",j:[cf()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[ff(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Qc:{name:"unlink",j:[rf("provider")]},rb:{name:"updateEmail",j:[rf("email")]},sb:{name:"updatePassword",j:[rf("password")]},Sc:{name:"updatePhoneNumber",j:[cf("phone")]},tb:{name:"updateProfile",j:[af("profile")]}}),hf(Rl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hf(Pl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hf(Qe.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),pf(Tc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:of("appVerificationDisabledForTesting")}}),hf(Cc.prototype,{confirm:{name:"confirm",j:[rf("verificationCode")]}}),df(Qi,"fromJSON",function(e){e=c(e)?JSON.parse(e):e;for(var t,n=[Zi,ho,go,Xi],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[ff(rf(),af(),"json")]),df(po,"credential",function(e,t){return new fo(e,t)},[rf("email"),rf("password")]),hf(fo.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(ro.prototype,{wa:{name:"addScope",j:[rf("scope")]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(ro,"credential",io,[ff(rf(),af(),"token")]),df(po,"credentialWithLink",mo,[rf("email"),rf("emailLink")]),hf(oo.prototype,{wa:{name:"addScope",j:[rf("scope")]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(oo,"credential",ao,[ff(rf(),af(),"token")]),hf(so.prototype,{wa:{name:"addScope",j:[rf("scope")]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(so,"credential",uo,[ff(rf(),ff(af(),uf()),"idToken"),ff(rf(),uf(),"accessToken",!0)]),hf(co.prototype,{Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(co,"credential",lo,[ff(rf(),af(),"token"),rf("secret",!0)]),hf(no.prototype,{wa:{name:"addScope",j:[rf("scope")]},credential:{name:"credential",j:[ff(rf(),ff(af(),uf()),"optionsOrIdToken"),ff(rf(),uf(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),hf($i.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(Gi.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),df(wo,"credential",Eo,[rf("verificationId"),rf("verificationCode")]),hf(wo.prototype,{Va:{name:"verifyPhoneNumber",j:[rf("phoneNumber"),lf()]}}),hf(vo.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(Zr.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(Oo.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(No.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(ef.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),df(ri,"parseLink",fi,[rf("link")]),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wl,AuthCredential:Qi,Error:Zr};df(e,"EmailAuthProvider",po,[]),df(e,"FacebookAuthProvider",ro,[]),df(e,"GithubAuthProvider",oo,[]),df(e,"GoogleAuthProvider",so,[]),df(e,"TwitterAuthProvider",co,[]),df(e,"OAuthProvider",no,[rf("providerId")]),df(e,"SAMLAuthProvider",to,[rf("providerId")]),df(e,"PhoneAuthProvider",wo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof wl)}}]),df(e,"RecaptchaVerifier",ef,[ff(rf(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),af("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof r.a.app.App)}}]),df(e,"ActionCodeURL",ri,[]),r.a.INTERNAL.registerService("auth",function(e,t){return t({INTERNAL:{getUid:C((e=new wl(e)).getUid,e),getToken:C(e.cc,e),addAuthTokenListener:C(e.Wb,e),removeAuthTokenListener:C(e.Ec,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(n){}}),r.a.INTERNAL.extendNamespace({User:Mc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(21))},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){var n,r;function i(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}t=t&&t.hasOwnProperty("default")?t.default:t,(r=n=n||{})[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var o=n.INFO,a=(Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),s.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.DEBUG].concat(e))},s.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.VERBOSE].concat(e))},s.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.INFO].concat(e))},s.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.WARN].concat(e))},s.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.ERROR].concat(e))},s);function s(e){this.name=e,this._logLevel=o,this._logHandler=i}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t,n,r){return new(n=n||Promise)(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p,d=(c(m,p=Error),m);function m(e,t){var n=p.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,y.prototype.create),n}var y=(v.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return o.replace(b,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}(0,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},v);function v(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var g,b=/\{\$([^}]+)}/g,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},E=E||{},S=w;function T(e){return"string"==typeof e}function C(e){return"number"==typeof e}function I(e,t){e=e.split("."),t=t||S;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function k(){}function _(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function A(e){return"array"==_(e)}function N(e){var t=_(e);return"array"==t||"object"==t&&"number"==typeof e.length}function O(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var D="closure_uid_"+(1e9*Math.random()>>>0),x=0;function P(e,t,n){return e.call.apply(e.bind,arguments)}function R(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function M(e,t,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:R).apply(null,arguments)}function L(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var F=Date.now||function(){return+new Date};function U(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function V(){this.j=this.j,this.i=this.i}V.prototype.j=!1,V.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[D]||(this[D]=++x))},V.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(T(e))return T(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=T(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function B(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e){return/^[\s\xa0]*$/.test(e)}var K,Q=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function H(e,t){return-1!=e.indexOf(t)}function G(e,t){return e<t?-1:t<e?1:0}e:{var Y=S.navigator;if(Y){var X=Y.userAgent;if(X){K=X;break e}}K=""}function $(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function J(e){var t,n={};for(t in e)n[t]=e[t];return n}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Z.length;o++)n=Z[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){return te[" "](e),e}te[" "]=k;var ne,re,ie=H(K,"Opera"),oe=H(K,"Trident")||H(K,"MSIE"),ae=H(K,"Edge"),se=ae||oe,ue=H(K,"Gecko")&&!(H(K.toLowerCase(),"webkit")&&!H(K,"Edge"))&&!(H(K,"Trident")||H(K,"MSIE"))&&!H(K,"Edge"),ce=H(K.toLowerCase(),"webkit")&&!H(K,"Edge");function le(){var e=S.document;return e?e.documentMode:void 0}e:{var fe="",he=(re=K,ue?/rv:([^\);]+)(\)|;)/.exec(re):ae?/Edge\/([\d\.]+)/.exec(re):oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(re):ce?/WebKit\/(\S+)/.exec(re):ie?/(?:Version)[ \/]?(\S+)/.exec(re):void 0);if(he&&(fe=he?he[1]:""),oe){var pe=le();if(null!=pe&&pe>parseFloat(fe)){ne=String(pe);break e}}ne=fe}var de,me={};function ye(e){return function(t,n){var r=me;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=function(){for(var t=0,n=Q(String(ne)).split("."),r=Q(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=G(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||G(0==a[2].length,0==s[2].length)||G(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}var ve=S.document;de=ve&&oe?le()||("CSS1Compat"==ve.compatMode?parseInt(ne,10):5):void 0;var ge=!oe||9<=Number(de),be=oe&&!ye("9"),we=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{S.addEventListener("test",k,t),S.removeEventListener("test",k,t)}catch(e){}return e}();function Ee(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function Se(e,t){if(Ee.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ue){e:{try{te(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=T(e.pointerType)?e.pointerType:Te[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}Ee.prototype.b=function(){this.Ja=!1},U(Se,Ee);var Te={2:"touch",3:"pen",4:"mouse"};Se.prototype.b=function(){Se.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,be)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function ke(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++Ie,this.X=this.Z=!1}function _e(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function Ae(e){this.src=e,this.a={},this.b=0}function Ne(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=j(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(_e(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Oe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}Ae.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Oe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ke(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var De="closure_lm_"+(1e6*Math.random()|0),xe={};function Pe(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(A(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=qe(r),t&&t[Ce]?t.Ba(n,r,O(i)?!!i.capture:!!i,o):Re(t,n,r,!0,i,o)}(e,t,n,r,i);if(A(t)){for(var o=0;o<t.length;o++)Pe(e,t[o],n,r,i);return null}return n=qe(n),e&&e[Ce]?e.Aa(t,n,O(r)?!!r.capture:!!r,i):Re(e,t,n,!1,r,i)}function Re(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=O(i)?!!i.capture:!!i;if(a&&!ge)return null;var s=Ve(e);if(s||(e[De]=s=new Ae(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Ue,t=ge?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=r).src=e,r.listener=n,e.addEventListener)we||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Le(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Me(e){if(!C(e)&&e&&!e.X){var t=e.src;if(t&&t[Ce])Ne(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Le(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ve(t))?(Ne(n,e),0==n.b&&(n.src=null,t[De]=null)):_e(e)}}}function Le(e){return e in xe?xe[e]:xe[e]="on"+e}function Fe(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Me(e),n.call(r,t)}function Ue(e,t){return!!e.X||Fe(e,ge?new Se(t,this):t=new Se(t||I("window.event"),this))}function Ve(e){return(e=e[De])instanceof Ae?e:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(e){return"function"==_(e)?e:(e[je]||(e[je]=function(t){return e.handleEvent(t)}),e[je])}function Be(){V.call(this),this.c=new Ae(this),(this.J=this).B=null}function ze(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Ne(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}U(Be,V),Be.prototype[Ce]=!0,(g=Be.prototype).addEventListener=function(e,t,n,r){Pe(this,e,t,n,r)},g.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(A(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=O(i)?!!i.capture:!!i,r=qe(r),t&&t[Ce]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Oe(a=t.a[n],r,i,o))&&(_e(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&Ve(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Oe(n,r,i,o)),(r=-1<t?n[t]:null)&&Me(r))}(this,e,t,n,r)},g.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(T(e))e=new Ee(e,n);else if(e instanceof Ee)e.target=e.target||n;else{var i=e;ee(e=new Ee(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=ze(a,r,!0,e)&&i}if(i=ze(a=e.a=n,r,!0,e)&&i,i=ze(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ze(a=e.a=t[o],r,!1,e)&&i;return i},g.G=function(){if(Be.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)_e(n[r]);delete t.a[e],t.b--}}this.B=null},g.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},g.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var We=S.JSON.stringify;function Ke(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Qe(){this.b=this.a=null}Ke.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var He,Ge=new Ke(function(){return new Ye},function(e){e.reset()});function Ye(){this.next=this.b=this.a=null}function Xe(e){S.setTimeout(function(){throw e},0)}function $e(e,t){He||function(){var e=S.Promise.resolve(void 0);He=function(){e.then(et)}}(),Je||(He(),Je=!0),Ze.add(e,t)}Qe.prototype.add=function(e,t){var n=Ge.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ye.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Je=!(Ye.prototype.reset=function(){this.next=this.b=this.a=null}),Ze=new Qe;function et(){for(var e;r=n=void 0,r=null,(n=Ze).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),e=r;){try{e.a.call(e.b)}catch(e){Xe(e)}var t=Ge;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,r;Je=!1}function tt(e,t){Be.call(this),this.b=e||1,this.a=t||S,this.f=M(this.gb,this),this.g=F()}function nt(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function rt(e,t,n){if("function"==_(e))n&&(e=M(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=M(e.handleEvent,e)}return 2147483647<Number(t)?-1:S.setTimeout(e,t||0)}function it(e,t,n){V.call(this),this.f=null!=n?M(e,n):e,this.c=t,this.b=M(this.ab,this),this.a=[]}function ot(e){e.U=rt(e.b,e.c),e.f.apply(null,e.a)}function at(e){V.call(this),this.b=e,this.a={}}U(tt,Be),(g=tt.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var e=F()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(nt(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=F())},g.G=function(){tt.N.G.call(this),nt(this),delete this.a},U(it,V),(g=it.prototype).ea=!1,g.U=null,g.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ot(this)},g.G=function(){it.N.G.call(this),this.U&&(S.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.ab=function(){this.U=null,this.ea&&(this.ea=!1,ot(this))},U(at,V);var st=[];function ut(e,t,n,r){A(n)||(n&&(st[0]=n.toString()),n=st);for(var i=0;i<n.length;i++){var o=Pe(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ct(e){$(e.a,function(e,t){this.a.hasOwnProperty(t)&&Me(e)},e),e.a={}}function lt(){}at.prototype.G=function(){at.N.G.call(this),ct(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=new Be;function ht(e){Ee.call(this,"serverreachability",e)}function pt(e){ft.dispatchEvent(new ht(ft,e))}function dt(e){Ee.call(this,"statevent",e)}function mt(e){ft.dispatchEvent(new dt(ft,e))}function yt(e){Ee.call(this,"timingevent",e)}function vt(e,t){if("function"!=_(e))throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){e()},t)}U(ht,Ee),U(dt,Ee),U(yt,Ee);var gt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},bt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function wt(){}function Et(e){var t;return(t=e.a)||(t=e.a={}),t}function St(){}wt.prototype.a=null;var Tt,Ct={OPEN:"a",ib:"b",Na:"c",rb:"d"};function It(){Ee.call(this,"d")}function kt(){Ee.call(this,"c")}function _t(){}function At(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new at(this),this.O=Nt,e=se?125:void 0,this.P=new tt(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}U(It,Ee),U(kt,Ee),U(_t,wt),Tt=new _t;var Nt=45e3,Ot={},Dt={};function xt(e,t,n){e.F=1,e.f=rn(Xt(t)),e.l=n,e.H=!0,Rt(e,null)}function Pt(e,t,n,r){e.F=1,e.f=rn(Xt(t)),e.l=null,e.H=n,Rt(e,r)}function Rt(e,t){e.v=F(),Ft(e),e.D=Xt(e.f),nn(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new it(M(e.Ka,e,e.a),e.J)),ut(e.I,e.a,"readystatechange",e.eb),t=e.h?J(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),pt(1)}function Mt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=Lt(e,n);if(i==Dt){4==t&&(e.c=4,mt(14),r=!1);break}if(i==Ot){e.c=4,mt(15),r=!1;break}Bt(e,i)}4==t&&0==n.length&&(e.c=1,mt(16),r=!1),e.b=e.b&&r,r||(qt(e),jt(e))}function Lt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?Dt:(n=Number(t.substring(n,r)),isNaN(n)?Ot:(r+=1)+n>t.length?Dt:(t=t.substr(r,n),e.A=r+n,t))}function Ft(e){e.R=F()+e.O,Ut(e,e.O)}function Ut(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=vt(M(e.bb,e),t)}function Vt(e){e.i&&(S.clearTimeout(e.i),e.i=null)}function jt(e){e.g.Da()||e.m||e.g.na(e)}function qt(e){Vt(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,nt(e.P),ct(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Bt(e,t){try{e.g.Ga(e,t),pt(4)}catch(e){}}function zt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(N(e)||T(e))q(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(N(e)||T(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(T(e))return e.split("");if(N(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Wt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Kt(e,t){Ht(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Qt(e))}function Qt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ht(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ht(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(g=At.prototype).setTimeout=function(e){this.O=e},g.eb=function(e){e=e.target;var t=this.B;t&&3==Xn(e)?t.Ua():this.Ka(e)},g.Ka=function(e){try{if(e==this.a)e:{var t=Xn(this.a),n=this.a.ya(),r=this.a.T();if(!(t<3||3==t&&!se&&!this.a.aa())){this.m||4!=t||7==n||pt(8==n||r<=0?3:2),Vt(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=$n(this.a,"X-HTTP-Initial-Response");if(a&&!W(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,mt(12),qt(this),jt(this);break e}this.s=!0,Bt(this,s)}this.H?(Mt(this,t,o),se&&this.b&&3==t&&(ut(this.I,this.P,"tick",this.cb),this.P.start())):Bt(this,o),4==t&&qt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Ft(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,mt(12)):(this.c=0,mt(13)),qt(this),jt(this)}}}catch(e){}},g.cb=function(){if(this.a){var e=Xn(this.a),t=this.a.aa();this.A<t.length&&(Vt(this),Mt(this,e,t),this.b&&4!=e&&Ft(this))}},g.cancel=function(){this.m=!0,qt(this)},g.bb=function(){this.i=null;var e=F();0<=e-this.R?(2!=this.F&&(pt(3),mt(17)),qt(this),this.c=2,jt(this)):Ut(this,this.R-e)},(g=Wt.prototype).C=function(){Qt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},g.K=function(){return Qt(this),this.a.concat()},g.get=function(e,t){return Ht(this.b,e)?this.b[e]:t},g.set=function(e,t){Ht(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},g.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Gt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Yt?(this.h=void 0!==t?t:e.h,$t(this,e.f),this.j=e.j,Jt(this,e.b),Zt(this,e.i),this.a=e.a,en(this,gn(e.c)),this.g=e.g):e&&(n=String(e).match(Gt))?(this.h=!!t,$t(this,n[1]||"",!0),this.j=on(n[2]||""),Jt(this,n[3]||"",!0),Zt(this,n[4]),this.a=on(n[5]||"",!0),en(this,n[6]||"",!0),this.g=on(n[7]||"")):(this.h=!!t,this.c=new pn(null,this.h))}function Xt(e){return new Yt(e)}function $t(e,t,n){e.f=n?on(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Jt(e,t,n){e.b=n?on(t,!0):t}function Zt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function en(e,t,n){t instanceof pn?(e.c=t,function(e,t){t&&!e.f&&(dn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),vn(this,n,e))},e)),e.f=t}(e.c,e.h)):(n||(t=an(t,fn)),e.c=new pn(t,e.h))}function tn(e,t,n){e.c.set(t,n)}function nn(e,t,n){A(n)||(n=[String(n)]),vn(e.c,t,n)}function rn(e){return tn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^F()).toString(36)),e}function on(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function an(e,t,n){return T(e)?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(an(t,un,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(an(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(an(n,"/"==n.charAt(0)?ln:cn,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",an(n,hn)),e.join("")},Yt.prototype.resolve=function(e){var t=Xt(this),n=!!e.f;n?$t(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Jt(t,e.b):n=null!=e.i;var r=e.a;if(n)Zt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(H(i,"./")||H(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?en(t,gn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var un=/[#\/\?@]/g,cn=/[#\?:]/g,ln=/[#\?]/g,fn=/[#\?@]/g,hn=/#/g;function pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function dn(e){e.a||(e.a=new Wt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mn(e,t){dn(e),t=bn(e,t),Ht(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Kt(e.a,t))}function yn(e,t){return dn(e),t=bn(e,t),Ht(e.a.b,t)}function vn(e,t,n){mn(e,t),0<n.length&&(e.c=null,e.a.set(bn(e,t),z(n)),e.b+=n.length)}function gn(e){var t=new pn;return t.c=e.c,e.a&&(t.a=new Wt(e.a),t.b=e.b),t}function bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function wn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function En(e){var t=e.a.F.a;if(null!=t)mt(4),t?(mt(10),cr(e.a,e,!1)):(mt(11),cr(e.a,e,!0));else{e.b=new At(e,void 0,void 0),e.b.h=e.h,t=dr(t=e.a,t.Y()?e.f:null,e.i),mt(4),nn(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&tn(t,n,r),Pt(e.b,t,!1,e.f)}}function Sn(){this.a=this.b=null}function Tn(){this.a=new Wt}function Cn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[D]||(e[D]=++x)):t.charAt(0)+e}function In(e,t){this.b=e,this.a=t}function kn(e){this.g=e||_n,e=S.PerformanceNavigationTiming?0<(e=S.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(S.ka&&S.ka.Ea&&S.ka.Ea()&&S.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Tn),this.b=null,this.c=[]}(g=pn.prototype).add=function(e,t){dn(this),this.c=null,e=bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},g.forEach=function(e,t){dn(this),this.a.forEach(function(n,r){q(n,function(n){e.call(t,n,r,this)},this)},this)},g.K=function(){dn(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},g.C=function(e){dn(this);var t=[];if(T(e))yn(this,e)&&(t=B(t,this.a.get(bn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=B(t,e[n])}return t},g.set=function(e,t){return dn(this),this.c=null,yn(this,e=bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},g.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},U(function(){},function(){}),(g=wn.prototype).M=null,g.$=function(e){return this.a.$(e)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Da=function(){return!1},g.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=$n(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=$n(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void hr(t,2)}this.f=r[0]}else(t=this.a).m=this.c,hr(t,2)}else 1==this.M&&(this.g?mt(6):"11111"==t?(mt(5),this.g=!0,(!oe||10<=Number(de))&&(this.c=200,this.b.cancel(),mt(11),cr(this.a,this,!0))):(mt(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,En(this)):1==this.M&&(this.g?(mt(11),cr(this.a,this,!0)):(mt(10),cr(this.a,this,!1)));else{0==this.M?mt(8):1==this.M&&mt(9);var e=this.a;e.m=this.c,hr(e,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},Tn.prototype.add=function(e){this.a.set(Cn(e),e)},Tn.prototype.C=function(){return this.a.C()};var _n=10;function An(e,t){!e.a&&(H(t,"spdy")||H(t,"quic")||H(t,"h2"))&&(e.f=e.g,e.a=new Tn,e.b&&(xn(e,e.b),e.b=null))}function Nn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function On(e){return e.b?1:e.a?e.a.a.c:0}function Dn(e,t){return e.b?e.b==t:!!e.a&&(t=Cn(t),Ht(e.a.a.b,t))}function xn(e,t){e.a?e.a.add(t):e.b=t}function Pn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=Cn(t),n=Ht(e.a.a.b,n)),n&&Kt(e.a.a,Cn(t)))}function Rn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return z(e.c);var t=e.c;return q(e.a.C(),function(e){t=t.concat(e.j)}),t}function Mn(){}function Ln(){this.a=new Mn}function Fn(e,t,n){var r=n||"";try{zt(e,function(e,n){var i=e;O(e)&&(i=We(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}kn.prototype.cancel=function(){this.c=Rn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(q(this.a.C(),function(e){e.cancel()}),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},Mn.prototype.stringify=function(e){return S.JSON.stringify(e,void 0)},Mn.prototype.parse=function(e){return S.JSON.parse(e,void 0)};var Vn=S.JSON.parse;function jn(e){Be.call(this),this.headers=new Wt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=qn,this.D=this.F=!1}U(jn,Be);var qn="",Bn=/^https?$/i,zn=["POST","PUT"];function Wn(e){return"content-type"==e.toLowerCase()}function Kn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Qn(e),Gn(e)}function Qn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Hn(e){if(e.b&&void 0!==E&&(!e.s[1]||4!=Xn(e)||2!=e.T()))if(e.l&&4==Xn(e))rt(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Xn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.A).match(Gt)[1]||null;if(!o&&S.self&&S.self.location){var a=S.self.location.protocol;o=a.substr(0,a.length-1)}i=!Bn.test(o?o.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Qn(e))}finally{Gn(e)}}}function Gn(e,t){if(e.a){Yn(e);var n=e.a,r=e.s[0]?k:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Yn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(S.clearTimeout(e.m),e.m=null)}function Xn(e){return e.a?e.a.readyState:0}function $n(e,t){return e.a?e.a.getResponseHeader(t):null}function Jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return $(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),T(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return tn(e,t,n),e}function Zn(e){this.f=[],this.F=new Sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!I("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=I("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=I("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=I("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=I("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new kn(e&&e.concurrentRequestLimit),this.ja=new Ln,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function er(e){if(tr(e),3==e.u){var t=e.P++,n=Xt(e.B);tn(n,"SID",e.H),tn(n,"RID",t),tn(n,"TYPE","terminate"),or(e,n),(t=new At(e,t,void 0)).F=2,t.f=rn(Xt(n)),n=!1,S.navigator&&S.navigator.sendBeacon&&(n=S.navigator.sendBeacon(t.f.toString(),"")),!n&&S.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=F(),Ft(t)}pr(e)}function tr(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(S.clearTimeout(e.l),e.l=null),lr(e),e.b.cancel(),e.h&&(C(e.h)&&S.clearTimeout(e.h),e.h=null)}function nr(e,t){e.f.push(new In(e.Ra++,t)),3==e.u&&rr(e)}function rr(e){Nn(e.b)||e.h||(e.h=!0,$e(e.Ia,e),e.A=0)}function ir(e,t){var n;n=t?t.W:e.P++;var r=Xt(e.B);tn(r,"SID",e.H),tn(r,"RID",n),tn(r,"AID",e.O),or(e,r),e.g&&e.i&&Jn(r,e.g,e.i),n=new At(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=ar(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),xn(e.b,n),xt(n,r,t)}function or(e,t){e.c&&zt({},function(e,n){tn(t,n,e)})}function ar(e,t,n){n=Math.min(e.f.length,n);var r=e.c?M(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{Fn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function sr(e){e.a||e.l||(e.S=1,$e(e.Ha,e),e.v=0)}function ur(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=vt(M(e.Ha,e),fr(e,e.v)),e.v++,!0)}function cr(e,t,n){var r=t.l;r&&An(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=dr(e,null,e.ha),rr(e)}function lr(e){null!=e.s&&(S.clearTimeout(e.s),e.s=null)}function fr(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function hr(e,t){if(2==t){var n=null;e.c&&(n=null);var r=M(e.fb,e);n||(n=new Yt("//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||$t(n,"https"),rn(n)),function(e,t){var n=new lt;if(S.Image){var r=new Image;r.onload=L(Un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=L(Un,n,r,"TestLoadImage: error",!1,t),r.onabort=L(Un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=L(Un,n,r,"TestLoadImage: timeout",!1,t),S.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else mt(2);e.u=0,e.c&&e.c.ta(t),pr(e),tr(e)}function pr(e){e.u=0,e.m=-1,e.c&&(0==Rn(e.b).length&&0==e.f.length||(e.b.c.length=0,z(e.f),e.f.length=0),e.c.sa())}function dr(e,t,n){var r=function(e){return e instanceof Yt?Xt(e):new Yt(e,void 0)}(n);if(""!=r.b)t&&Jt(r,t+"."+r.b),Zt(r,r.i);else{var i,o=S.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Yt(null,void 0);return e&&$t(i,e),t&&Jt(i,t),n&&Zt(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&$(e.V,function(e,t){tn(r,t,e)}),t=e.j,n=e.I,t&&n&&tn(r,t,n),tn(r,"VER",e.wa),or(e,r),r}function mr(){}function yr(){if(oe&&!(10<=Number(de)))throw Error("Environmental error: no available transport.")}function vr(e,t){Be.call(this),this.a=new Zn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!W(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!W(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new wr(this)}function gr(e){It.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function br(){kt.call(this),this.status=1}function wr(e){this.a=e}(g=jn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Et(this.H):Et(Tt),this.a.onreadystatechange=M(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Kn(this,e)}e=n||"";var i=new Wt(this.headers);r&&zt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Wn,n=e.length,r=T(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:T(e)?e.charAt(t):e[t]}(i.K()),n=S.FormData&&e instanceof S.FormData,0<=j(zn,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yn(this),0<this.o&&((this.D=function(e){return oe&&ye(9)&&C(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=M(this.Ca,this)):this.m=rt(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Kn(this,e)}},g.Ca=function(){void 0!==E&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Gn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gn(this,!0)),jn.N.G.call(this)},g.Fa=function(){this.j||(this.w||this.l||this.g?Hn(this):this.$a())},g.$a=function(){Hn(this)},g.T=function(){try{return 2<Xn(this)?this.a.status:-1}catch(r){return-1}},g.za=function(){try{return 2<Xn(this)?this.a.statusText:""}catch(r){return""}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},g.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vn(t)}},g.ya=function(){return this.h},g.Ya=function(){return T(this.f)?this.f:String(this.f)},(g=Zn.prototype).wa=8,g.u=1,g.Da=function(){return 0==this.u},g.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new At(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?ee(r=J(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&T(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ar(this,n,t),tn(i=Xt(this.B),"RID",e),tn(i,"CVER",22),this.o&&this.j&&tn(i,"X-HTTP-Session-Id",this.j),or(this,i),this.g&&r&&Jn(i,this.g,r),xn(this.b,n),this.W?(tn(i,"$req",t),tn(i,"SID","null"),n.S=!0,xt(n,i,null)):xt(n,i,t),this.u=2}}else 3==this.u&&(e?ir(this,e):0==this.f.length||Nn(this.b)||ir(this))},g.Ha=function(){this.l=null,this.a=new At(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Xt(this.pa);tn(e,"RID","rpc"),tn(e,"SID",this.H),tn(e,"CI",this.ia?"0":"1"),tn(e,"AID",this.O),or(this,e),tn(e,"TYPE","xmlhttp"),this.g&&this.i&&Jn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Pt(this.a,e,!0,this.ga)},g.Ga=function(e,t){if(0!=this.u&&(this.a==e||Dn(this.b,e)))if(this.m=e.o,!e.s&&Dn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(A(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;lr(this),this.a.cancel(),this.a=null}ur(this),mt(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=vt(M(this.Za,this),6e3));if(On(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else hr(this,11)}else if(!e.s&&this.a!=e||lr(this),!W(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&C(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=$n(r,"X-Client-Wire-Protocol"))&&An(this.b,i),this.j&&(r=$n(r,"X-HTTP-Session-Id")))&&(this.I=r,tn(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=dr(this,this.Y()?this.ga:null,this.ha),r.s?(Pn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Vt(r),Ft(r)),this.a=r):sr(this),0<this.f.length&&rr(this)}else"stop"!=r[0]&&"close"!=r[0]||hr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?hr(this,7):er(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},g.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,ur(this),mt(19))},g.na=function(e){var t=null;if(this.a==e){lr(this),this.a=null;var n=2}else{if(!Dn(this.b,e))return;t=e.j,Pn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=F()-e.v,ft.dispatchEvent(new yt(ft,e.l?e.l.length:0,t,this.A)),rr(this)):sr(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(On(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=vt(M(e.Ia,e,t),fr(e,e.A)),e.A++,!0))}(this,e)||2==n&&ur(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:hr(this,5);break;case 4:hr(this,10);break;case 3:hr(this,6);break;default:hr(this,2)}}},g.fb=function(e){mt(e?2:1)},g.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(this.La)).F=this.R,e},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=mr.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Ta=function(){},yr.prototype.a=function(e,t){return new vr(e,t)},U(vr,Be),(g=vr.prototype).addEventListener=function(e,t,n,r){vr.N.addEventListener.call(this,e,t,n,r)},g.removeEventListener=function(e,t,n,r){vr.N.removeEventListener.call(this,e,t,n,r)},g.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;mt(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new wn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Jn(t,e.g,e.i)),(e=e.w).i=n,t=dr(e.a,null,e.i),mt(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,En(e)):(nn(t,"MODE","init"),!e.a.o&&e.a.j&&nn(t,"X-HTTP-Session-Id",e.a.j),e.b=new At(e,void 0,void 0),e.b.h=e.h,Pt(e.b,t,!1,null),e.M=0)},g.close=function(){er(this.a)},g.Xa=function(e){if(T(e)){var t={};t.__data__=e,nr(this.a,t)}else this.h?((t={}).__data__=We(e),nr(this.a,t)):nr(this.a,e)},g.G=function(){this.a.c=null,delete this.f,er(this.a),delete this.a,vr.N.G.call(this)},U(gr,It),U(br,kt),U(wr,mr),wr.prototype.va=function(){this.a.dispatchEvent("a")},wr.prototype.ua=function(e){this.a.dispatchEvent(new gr(e))},wr.prototype.ta=function(e){this.a.dispatchEvent(new br(e))},wr.prototype.sa=function(){this.a.dispatchEvent("b")};var Er=L(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},yr);yr.prototype.createWebChannel=yr.prototype.a,vr.prototype.send=vr.prototype.Xa,vr.prototype.open=vr.prototype.Wa,vr.prototype.close=vr.prototype.close,gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,bt.COMPLETE="complete",(St.EventType=Ct).OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Be.prototype.listen=Be.prototype.Aa,jn.prototype.listenOnce=jn.prototype.Ba,jn.prototype.getLastError=jn.prototype.Ya,jn.prototype.getLastErrorCode=jn.prototype.ya,jn.prototype.getStatus=jn.prototype.T,jn.prototype.getStatusText=jn.prototype.za,jn.prototype.getResponseJson=jn.prototype.Va,jn.prototype.getResponseText=jn.prototype.aa,jn.prototype.send=jn.prototype.ca;var Sr,Tr,Cr={createWebChannelTransport:Er,ErrorCode:gt,EventType:bt,WebChannel:St,XhrIo:jn},Ir=Cr.createWebChannelTransport,kr=Cr.ErrorCode,_r=Cr.EventType,Ar=Cr.WebChannel,Nr=Cr.XhrIo,Or=t.SDK_VERSION,Dr=new a("@firebase/firestore");function xr(){return Dr.logLevel===n.DEBUG?Sr.DEBUG:Dr.logLevel===n.SILENT?Sr.SILENT:Sr.ERROR}function Pr(e){switch(e){case Sr.DEBUG:Dr.logLevel=n.DEBUG;break;case Sr.ERROR:Dr.logLevel=n.ERROR;break;case Sr.SILENT:Dr.logLevel=n.SILENT;break;default:Dr.error("Firestore ("+Or+"): Invalid value passed to `setLogLevel`")}}function Rr(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(Dr.logLevel<=n.DEBUG){var o=r.map(Lr);Dr.debug.apply(Dr,["Firestore ("+Or+") ["+e+"]: "+t].concat(o))}}function Mr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Dr.logLevel<=n.ERROR){var i=t.map(Lr);Dr.error.apply(Dr,["Firestore ("+Or+"): "+e].concat(i))}}function Lr(e){if("string"==typeof e)return e;var t=Vr.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function Fr(e){var t="FIRESTORE ("+Or+") INTERNAL ASSERTION FAILED: "+e;throw Mr(t),new Error(t)}function Ur(e,t){e||Fr(t)}(Tr=Sr=Sr||{})[Tr.DEBUG=0]="DEBUG",Tr[Tr.ERROR=1]="ERROR",Tr[Tr.SILENT=2]="SILENT";var Vr=(jr.setPlatform=function(e){jr.platform&&Fr("Platform already defined"),jr.platform=e},jr.getPlatform=function(){return jr.platform||Fr("Platform not set"),jr.platform},jr);function jr(){}function qr(){return Vr.getPlatform().emptyByteString}var Br,zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wr=(c(Kr,Br=Error),Kr);function Kr(e,t){var n=Br.call(this,t)||this;return n.code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Qr(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Wr(zr.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Hr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gr(e,t){return void 0!==e?e:t}function Yr(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function Xr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $r(e){for(var t in Ur(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jr(e,t){if(0!==t.length)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+di(t.length,"argument")+".")}function Zr(e,t,n){if(t.length!==n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires "+di(n,"argument")+", but was called with "+di(t.length,"argument")+".")}function ei(e,t,n){if(t.length<n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires at least "+di(n,"argument")+", but was called with "+di(t.length,"argument")+".")}function ti(e,t,n,r){if(t.length<n||t.length>r)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+di(t.length,"argument")+".")}function ni(e,t,n,r){si(e,t,pi(n)+" argument",r)}function ri(e,t,n,r){void 0!==r&&ni(e,t,n,r)}function ii(e,t,n,r){si(e,t,n+" option",r)}function oi(e,t,n,r){void 0!==r&&ii(e,t,n,r)}function ai(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(ci(u))}var c=ci(r);throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function si(e,t,n,r){if(!("object"===t?ui(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=ci(r);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function ui(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ci(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Fr("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function li(e,t,n){if(void 0===n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+pi(t)+" argument, but it was undefined.")}function fi(e,t,n){Xr(t,function(t,r){if(n.indexOf(t)<0)throw new Wr(zr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function hi(e,t,n,r){var i=ci(r);return new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+pi(n)+" argument to be a "+t+", but it was: "+i)}function pi(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function di(e,t){return e+" "+t+(1===e?"":"s")}var mi=(yi.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return Ur(20===t.length,"Invalid auto ID: "+t),t},yi);function yi(){}function vi(e,t){return e<t?-1:t<e?1:0}function gi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function bi(e){return e+"\0"}function wi(){if("undefined"==typeof Uint8Array)throw new Wr(zr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ei(){if(!Vr.getPlatform().base64Available)throw new Wr(zr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Si=(Ti.fromBase64String=function(e){Zr("Blob.fromBase64String",arguments,1),ni("Blob.fromBase64String","string",1,e),Ei();try{return new Ti(Vr.getPlatform().atob(e))}catch(e){throw new Wr(zr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},Ti.fromUint8Array=function(e){if(Zr("Blob.fromUint8Array",arguments,1),wi(),!(e instanceof Uint8Array))throw hi("Blob.fromUint8Array","Uint8Array",1,e);return new Ti(Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join(""))},Ti.prototype.toBase64=function(){return Zr("Blob.toBase64",arguments,0),Ei(),Vr.getPlatform().btoa(this._binaryString)},Ti.prototype.toUint8Array=function(){Zr("Blob.toUint8Array",arguments,0),wi();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},Ti.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Ti.prototype.isEqual=function(e){return this._binaryString===e._binaryString},Ti.prototype._compareTo=function(e){return vi(this._binaryString,e._binaryString)},Ti);function Ti(e){Ei(),this._binaryString=e}var Ci=Qr(Si,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ii=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},ki="(default)",_i=(Object.defineProperty(Ai.prototype,"isDefaultDatabase",{get:function(){return this.database===ki},enumerable:!0,configurable:!0}),Ai.prototype.isEqual=function(e){return e instanceof Ai&&e.projectId===this.projectId&&e.database===this.database},Ai.prototype.compareTo=function(e){return vi(this.projectId,e.projectId)||vi(this.database,e.database)},Ai);function Ai(e,t){this.projectId=e,this.database=t||ki}var Ni=(Oi.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Oi.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},Oi.INVALID=-1,Oi);function Oi(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}var Di="__name__",xi=(Object.defineProperty(Pi.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Pi.prototype.isEqual=function(e){return 0===Pi.comparator(this,e)},Pi.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(function(e){t.push(e)}):t.push(e),this.construct(t)},Pi.prototype.limit=function(){return this.offset+this.length},Pi.prototype.popFirst=function(e){return e=void 0===e?1:e,Ur(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},Pi.prototype.popLast=function(){return Ur(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Pi.prototype.firstSegment=function(){return Ur(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Pi.prototype.lastSegment=function(){return this.get(this.length-1)},Pi.prototype.get=function(e){return Ur(e<this.length,"Index out of range"),this.segments[this.offset+e]},Pi.prototype.isEmpty=function(){return 0===this.length},Pi.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Pi.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Pi.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Pi.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Pi.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},Pi);function Pi(e,t,n){void 0===t?t=0:t>e.length&&Fr("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&Fr("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}var Ri,Mi=(c(Li,Ri=xi),Li.prototype.construct=function(e,t,n){return new Li(e,t,n)},Li.prototype.canonicalString=function(){return this.toArray().join("/")},Li.prototype.toString=function(){return this.canonicalString()},Li.fromString=function(e){if(0<=e.indexOf("//"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new Li(e.split("/").filter(function(e){return 0<e.length}))},Li.EMPTY_PATH=new Li([]),Li);function Li(){return null!==Ri&&Ri.apply(this,arguments)||this}var Fi,Ui=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vi=(c(ji,Fi=xi),ji.prototype.construct=function(e,t,n){return new ji(e,t,n)},ji.isValidIdentifier=function(e){return Ui.test(e)},ji.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),ji.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},ji.prototype.toString=function(){return this.canonicalString()},ji.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Di},ji.keyField=function(){return new ji([Di])},ji.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new Wr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Wr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ji(t)},ji.EMPTY_PATH=new ji([]),ji);function ji(){return null!==Fi&&Fi.apply(this,arguments)||this}var qi=(Bi.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},Bi.prototype.isEqual=function(e){return null!==e&&0===Mi.comparator(this.path,e.path)},Bi.prototype.toString=function(){return this.path.toString()},Bi.comparator=function(e,t){return Mi.comparator(e.path,t.path)},Bi.isDocumentKey=function(e){return e.length%2==0},Bi.fromSegments=function(e){return new Bi(new Mi(e.slice()))},Bi.fromPathString=function(e){return new Bi(Mi.fromString(e))},Bi.EMPTY=new Bi(new Mi([])),Bi);function Bi(e){this.path=e,Ur(Bi.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}var zi,Wi,Ki=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};(Wi=zi=zi||{}).All="all",Wi.ListenStreamIdle="listen_stream_idle",Wi.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Wi.WriteStreamIdle="write_stream_idle",Wi.WriteStreamConnectionBackoff="write_stream_connection_backoff",Wi.OnlineStateTimeout="online_state_timeout",Wi.ClientMetadataRefresh="client_metadata_refresh",Wi.LruGarbageCollection="lru_garbage_collection",Wi.RetryTransaction="retry_transaction";var Qi=(Hi.createAndSchedule=function(e,t,n,r,i){var o=new Hi(e,t,Date.now()+n,r,i);return o.start(n),o},Hi.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},Hi.prototype.skipDelay=function(){return this.handleDelayElapsed()},Hi.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wr(zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},Hi.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},Hi.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Hi);function Hi(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}var Gi=(Object.defineProperty(Yi.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),Yi.prototype.enqueueAndForget=function(e){this.enqueue(e)},Yi.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},Yi.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},Yi.prototype.enqueueAndInitiateShutdown=function(e){return l(this,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Yi.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(e){}):this.enqueueInternal(e)},Yi.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw Mr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n},Yi.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),Ur(0<=t,"Attempted to schedule an operation with a negative delay of "+t),-1<this.timerIdsToSkip.indexOf(e)&&(t=0);var i=Qi.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},Yi.prototype.verifyNotFailed=function(){this.failure&&Fr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},Yi.prototype.verifyOperationInProgress=function(){Ur(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},Yi.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},Yi.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Yi.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){Ur(e===zi.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==zi.All&&i.timerId===e)break}return t.drain()})},Yi.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},Yi.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);Ur(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},Yi);function Yi(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}var Xi="\x01",$i="\x01",Ji="\x10",Zi="\x11";function eo(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=no(t)),t=to(e.get(n),t);return no(t)}function to(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=Xi+Ji;break;case Xi:n+=Xi+Zi;break;default:n+=o}}return n}function no(e){return e+Xi+$i}function ro(e){var t=e.length;if(Ur(2<=t,"Invalid path "+e),2===t)return Ur(e.charAt(0)===Xi&&e.charAt(1)===$i,"Non-empty path "+e+" had length 2"),Mi.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(Xi,o);switch((a<0||n<a)&&Fr('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case $i:var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case Ji:i+=e.substring(o,a),i+="\0";break;case Zi:i+=e.substring(o,a+1);break;default:Fr('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Mi(r)}var io=(oo.now=function(){return oo.fromMillis(Date.now())},oo.fromDate=function(e){return oo.fromMillis(e.getTime())},oo.fromMillis=function(e){var t=Math.floor(e/1e3);return new oo(t,1e6*(e-1e3*t))},oo.prototype.toDate=function(){return new Date(this.toMillis())},oo.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},oo.prototype._compareTo=function(e){return this.seconds===e.seconds?vi(this.nanoseconds,e.nanoseconds):vi(this.seconds,e.seconds)},oo.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},oo.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},oo);function oo(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}var ao=(so.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new so(new io(t,e%1e6*1e3))},so.fromTimestamp=function(e){return new so(e)},so.forDeletedDoc=function(){return so.MIN},so.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},so.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},so.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},so.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},so.prototype.toTimestamp=function(){return this.timestamp},so.MIN=new so(new io(0,0)),so);function so(e){this.timestamp=e}var uo=(co.prototype.insert=function(e,t){return new co(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ho.BLACK,null,null))},co.prototype.remove=function(e){return new co(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))},co.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},co.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},co.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(co.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),co.prototype.minKey=function(){return this.root.minKey()},co.prototype.maxKey=function(){return this.root.maxKey()},co.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},co.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},co.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},co.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},co.prototype.getIterator=function(){return new lo(this.root,null,this.comparator,!1)},co.prototype.getIteratorFrom=function(e){return new lo(this.root,e,this.comparator,!1)},co.prototype.getReverseIterator=function(){return new lo(this.root,null,this.comparator,!0)},co.prototype.getReverseIteratorFrom=function(e){return new lo(this.root,e,this.comparator,!0)},co);function co(e,t){this.comparator=e,this.root=t||ho.EMPTY}var lo=(fo.prototype.getNext=function(){Ur(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},fo.prototype.hasNext=function(){return 0<this.nodeStack.length},fo.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},fo);function fo(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}var ho=(po.prototype.copy=function(e,t,n,r,i){return new po(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},po.prototype.isEmpty=function(){return!1},po.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},po.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},po.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},po.prototype.minKey=function(){return this.min().key},po.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},po.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},po.prototype.removeMin=function(){if(this.left.isEmpty())return po.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},po.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return po.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},po.prototype.isRed=function(){return this.color},po.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},po.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},po.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},po.prototype.rotateLeft=function(){var e=this.copy(null,null,po.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},po.prototype.rotateRight=function(){var e=this.copy(null,null,po.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},po.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},po.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},po.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Fr("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw Fr("Black depths differ");return e+(this.isRed()?0:1)},po.EMPTY=null,po.RED=!0,po.BLACK=!1,po);function po(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:po.RED,this.left=null!=r?r:po.EMPTY,this.right=null!=i?i:po.EMPTY,this.size=this.left.size+1+this.right.size}var mo=(Object.defineProperty(yo.prototype,"key",{get:function(){throw Fr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(yo.prototype,"value",{get:function(){throw Fr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(yo.prototype,"color",{get:function(){throw Fr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(yo.prototype,"left",{get:function(){throw Fr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(yo.prototype,"right",{get:function(){throw Fr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),yo.prototype.copy=function(e,t,n,r,i){return this},yo.prototype.insert=function(e,t,n){return new ho(e,t)},yo.prototype.remove=function(e,t){return this},yo.prototype.isEmpty=function(){return!0},yo.prototype.inorderTraversal=function(e){return!1},yo.prototype.reverseTraversal=function(e){return!1},yo.prototype.minKey=function(){return null},yo.prototype.maxKey=function(){return null},yo.prototype.isRed=function(){return!1},yo.prototype.checkMaxDepth=function(){return!0},yo.prototype.check=function(){return 0},yo);function yo(){this.size=0}ho.EMPTY=new mo;var vo=(go.fromMapKeys=function(e){var t=new go(e.comparator);return e.forEach(function(e){t=t.add(e)}),t},go.prototype.has=function(e){return null!==this.data.get(e)},go.prototype.first=function(){return this.data.minKey()},go.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(go.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),go.prototype.indexOf=function(e){return this.data.indexOf(e)},go.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},go.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},go.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},go.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},go.prototype.getIterator=function(){return new bo(this.data.getIterator())},go.prototype.getIteratorFrom=function(e){return new bo(this.data.getIteratorFrom(e))},go.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},go.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},go.prototype.isEmpty=function(){return this.data.isEmpty()},go.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},go.prototype.isEqual=function(e){if(!(e instanceof go))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},go.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},go.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},go.prototype.copy=function(e){var t=new go(this.comparator);return t.data=e,t},go);function go(e){this.comparator=e,this.data=new uo(this.comparator)}var bo=(wo.prototype.getNext=function(){return this.iter.getNext().key},wo.prototype.hasNext=function(){return this.iter.hasNext()},wo);function wo(e){this.iter=e}var Eo=new uo(qi.comparator);function So(){return Eo}function To(){return So()}var Co=new uo(qi.comparator);function Io(){return Co}var ko=new uo(qi.comparator);function _o(){return ko}var Ao=new vo(qi.comparator);function No(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ao,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Oo=new vo(vi);function Do(){return Oo}var xo=(Po.prototype.applyToRemoteDocument=function(e,t,n){t&&Ur(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;Ur(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},Po.prototype.applyToLocalView=function(e,t){t&&Ur(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},Po.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))}),n},Po.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},No())},Po.prototype.isEqual=function(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations)&&gi(this.baseMutations,e.baseMutations)},Po);function Po(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,Ur(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var Ro=(Mo.from=function(e,t,n,r){Ur(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var i=_o(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new Mo(e,t,n,r,i)},Mo);function Mo(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var Lo=(Fo.prototype.catch=function(e){return this.next(void 0,e)},Fo.prototype.next=function(e,t){var n=this;return this.callbackAttached&&Fr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fo(function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}})},Fo.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},Fo.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof Fo?t:Fo.resolve(t)}catch(e){return Fo.reject(e)}},Fo.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):Fo.resolve(t)},Fo.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):Fo.reject(t)},Fo.resolve=function(e){return new Fo(function(t,n){t(e)})},Fo.reject=function(e){return new Fo(function(t,n){n(e)})},Fo.waitFor=function(e){return new Fo(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(e){return n(e)})}),o=!0,i===r&&t()})},Fo.or=function(e){for(var t=Fo.resolve(!1),n=function(e){t=t.next(function(t){return t?Fo.resolve(t):e()})},r=0,i=e;r<i.length;r++)n(i[r]);return t},Fo.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},Fo);function Fo(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}var Uo,Vo,jo=(qo.forUser=function(e,t,n,r){return Ur(""!==e.uid,"UserID must not be an empty string."),new qo(e.isAuthenticated()?e.uid:"",t,n,r)},qo.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ko(e).iterate({index:du.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},qo.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=Wo(n),Ho(e).put(t)})},qo.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},qo.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=Wo(t),Ho(e).put(n)})},qo.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Qo(e),a=Ko(e);return a.add({}).next(function(s){Ur("number"==typeof s,"Auto-generated key is not a number");var u=new xo(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=yu.key(i.userId,p.key.path,s);l.push(a.put(c)),l.push(o.put(d,yu.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,p.key.path.popLast()))}return Lo.waitFor(l).next(function(){return u})})},qo.prototype.lookupMutationBatch=function(e,t){var n=this;return Ko(e).get(t).next(function(e){return e?(Ur(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},qo.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Lo.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null})},qo.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ko(e).iterate({index:du.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Ur(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()}).next(function(){return o})},qo.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ko(e).iterate({index:du.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},qo.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ko(e).loadAll(du.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},qo.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=yu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Qo(e).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=ro(u);if(s===n.userId&&t.path.isEqual(l))return Ko(e).get(c).next(function(e){if(!e)throw Fr("Dangling document-mutation reference found: "+r+" which points to "+c);Ur(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))});a.done()}).next(function(){return o})},qo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new vo(vi),i=[];return t.forEach(function(t){var o=yu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Qo(e).iterate({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=ro(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Lo.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},qo.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;Ur(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=yu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new vo(vi);return Qo(e).iterate({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=ro(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(e,s)})},qo.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Ko(e).get(t).next(function(e){if(null===e)throw Fr("Dangling document-mutation reference found, which points to "+t);Ur(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),Lo.waitFor(i).next(function(){return r})},qo.prototype.removeMutationBatch=function(e,t){var n=this;return zo(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),Lo.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},qo.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},qo.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Lo.resolve();var r=IDBKeyRange.lowerBound(yu.prefixForUser(t.userId)),i=[];return Qo(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var o=ro(e[1]);i.push(o)}else r.done()}).next(function(){Ur(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},qo.prototype.containsKey=function(e,t){return Bo(e,this.userId,t)},qo.prototype.getMutationQueueMetadata=function(e){var t=this;return Ho(e).get(this.userId).next(function(e){return e||new hu(t.userId,-1,"")})},qo);function qo(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function Bo(e,t,n){var r=yu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Qo(e).iterate({range:o,keysOnly:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function zo(e,t,n){var r=e.store(du.store),i=e.store(yu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){Ur(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=yu.key(t,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return Lo.waitFor(o).next(function(){return c})}function Wo(e){return e instanceof Uint8Array?(Ur("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Ko(e){return cc.getStore(e,du.store)}function Qo(e){return cc.getStore(e,yu.store)}function Ho(e){return cc.getStore(e,hu.store)}(Vo=Uo=Uo||{})[Vo.QueryCache=0]="QueryCache",Vo[Vo.SyncEngine=1]="SyncEngine";var Go=(Yo.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},Yo.prototype.after=function(e){return this.seek(e+2),this.next()},Yo.prototype.seek=function(e){Ur((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},Yo.forQueryCache=function(){return new Yo(Uo.QueryCache,2)},Yo.forSyncEngine=function(){return new Yo(Uo.SyncEngine)},Yo);function Yo(e,t){Ur((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}var Xo="SimpleDb",$o=(Jo.openOrCreate=function(e,t,n){return Ur(Jo.isAvailable(),"IndexedDB not supported in current environment."),Rr(Xo,"Opening database:",e),new Lo(function(r,i){var o=window.indexedDB.open(e,t);o.onsuccess=function(e){var t=e.target.result;r(new Jo(t))},o.onblocked=function(){i(new Wr(zr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?i(new Wr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(t)},o.onupgradeneeded=function(t){Rr(Xo,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var r=t.target.result,i=new ta(o.transaction);n.createOrUpgrade(r,i,t.oldVersion,au).next(function(){Rr(Xo,"Database upgrade to version "+au+" complete")})}}).toPromise()},Jo.delete=function(e){return Rr(Xo,"Removing database:",e),oa(window.indexedDB.deleteDatabase(e)).toPromise()},Jo.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE;var e=h(),t=Jo.getIOSVersion(e),n=0<t&&t<10,r=Jo.getAndroidVersion(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)},Jo.getStore=function(e,t){return e.store(t)},Jo.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Jo.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Jo.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},Jo.prototype.runTransaction=function(e,t,n){var r=ta.open(this.db,e,t),i=n(r).catch(function(e){return r.abort(e),Lo.reject(e)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},Jo.prototype.close=function(){this.db.close()},Jo);function Jo(e){this.db=e,12.2===Jo.getIOSVersion(h())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var Zo=(Object.defineProperty(ea.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(ea.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(ea.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),ea.prototype.done=function(){this.shouldStop=!0},ea.prototype.skip=function(e){this.nextKey=e},ea.prototype.delete=function(){return oa(this.dbCursor.delete())},ea);function ea(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}var ta=(na.open=function(e,t,n){return new na(e.transaction(n,t))},Object.defineProperty(na.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),na.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(Rr(Xo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},na.prototype.store=function(e){var t=this.transaction.objectStore(e);return Ur(!!t,"Object store not part of transaction: "+e),new ra(t)},na);function na(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Ki,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=sa(e.target.error);t.completionDeferred.reject(n)}}var ra=(ia.prototype.put=function(e,t){return oa(void 0!==t?(Rr(Xo,"PUT",this.store.name,e,t),this.store.put(t,e)):(Rr(Xo,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},ia.prototype.add=function(e){return Rr(Xo,"ADD",this.store.name,e,e),oa(this.store.add(e))},ia.prototype.get=function(e){var t=this;return oa(this.store.get(e)).next(function(n){return void 0===n&&(n=null),Rr(Xo,"GET",t.store.name,e,n),n})},ia.prototype.delete=function(e){return Rr(Xo,"DELETE",this.store.name,e),oa(this.store.delete(e))},ia.prototype.count=function(){return Rr(Xo,"COUNT",this.store.name),oa(this.store.count())},ia.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},ia.prototype.deleteAll=function(e,t){Rr(Xo,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},ia.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},ia.prototype.iterateSerial=function(e){var t=this.cursor({});return new Lo(function(n,r){t.onerror=function(e){var t=sa(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},ia.prototype.iterateCursor=function(e,t){var n=[];return new Lo(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Zo(i),a=t(i.primaryKey,i.value,o);if(a instanceof Lo){var s=a.catch(function(e){return o.done(),Lo.reject(e)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Lo.waitFor(n)})},ia.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(Ur(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},ia.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},ia);function ia(e){this.store=e}function oa(e){return new Lo(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sa(e.target.error);n(t)}})}var aa=!1;function sa(e){var t=$o.getIOSVersion(h());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var r=new Wr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return aa||(aa=!0,setTimeout(function(){throw r},0)),r}}return e}var ua=(ca.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},ca.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return ao.fromTimestamp(new io(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},ca.prototype.getHighestSequenceNumber=function(e){return ha(e.simpleDbTransaction)},ca.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},ca.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},ca.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},ca.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return la(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return Ur(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},ca.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return la(e).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))}).next(function(){return Lo.waitFor(o)}).next(function(){return i})},ca.prototype.forEachTarget=function(e,t){var n=this;return la(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},ca.prototype.retrieveMetadata=function(e){return fa(e.simpleDbTransaction)},ca.prototype.saveMetadata=function(e,t){return function(e){return cc.getStore(e,Au.store)}(e).put(Au.key,t)},ca.prototype.saveQueryData=function(e,t){return la(e).put(this.serializer.toDbTarget(t))},ca.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},ca.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},ca.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return la(e).iterate({range:i,index:Cu.queryTargetsIndexName},function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},ca.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=pa(e);return t.forEach(function(t){var a=eo(t.path);i.push(o.put(new ku(n,a))),i.push(r.referenceDelegate.addReference(e,t))}),Lo.waitFor(i)},ca.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=pa(e);return Lo.forEach(t,function(t){var o=eo(t.path);return Lo.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])})},ca.prototype.removeMatchingKeysForTargetId=function(e,t){var n=pa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},ca.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pa(e),i=No();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=ro(e[1]),o=new qi(r);i=i.add(o)}).next(function(){return i})},ca.prototype.containsKey=function(e,t){var n=eo(t.path),r=IDBKeyRange.bound([n],[bi(n)],!1,!0),i=0;return pa(e).iterate({index:ku.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},ca.prototype.getQueryDataForTarget=function(e,t){var n=this;return la(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},ca);function ca(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Go.forQueryCache()}function la(e){return cc.getStore(e,Cu.store)}function fa(e){return $o.getStore(e,Au.store).get(Au.key).next(function(e){return Ur(null!==e,"Missing metadata row."),e})}function ha(e){return fa(e).next(function(e){return e.highestListenSequenceNumber})}function pa(e){return cc.getStore(e,ku.store)}var da=(ma.fromSet=function(e){return new ma(e)},ma.fromArray=function(e){var t=new vo(Vi.comparator);return e.forEach(function(e){return t=t.add(e)}),new ma(t)},ma.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},ma.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},ma);function ma(e){this.fields=e}var ya=(va.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},va);function va(e,t){this.field=e,this.transform=t}var ga,ba,wa=function(e,t){this.version=e,this.transformResults=t};(ba=ga=ga||{})[ba.Set=0]="Set",ba[ba.Patch=1]="Patch",ba[ba.Transform=2]="Transform",ba[ba.Delete=3]="Delete";var Ea=(Sa.exists=function(e){return new Sa(void 0,e)},Sa.updateTime=function(e){return new Sa(e)},Object.defineProperty(Sa.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),Sa.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Rs&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Rs:(Ur(this.isNone,"Precondition should be empty"),!0)},Sa.prototype.isEqual=function(e){return function(e,t){return null!=e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},Sa.NONE=new Sa,Sa);function Sa(e,t){this.updateTime=e,this.exists=t,Ur(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}var Ta=(Ca.prototype.verifyKeyMatches=function(e){null!=e&&Ur(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Ca.getPostMutationVersion=function(e){return e instanceof Rs?e.version:ao.MIN},Ca);function Ca(){}var Ia,ka=(c(_a,Ia=Ta),_a.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),Ur(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Rs(this.key,n,{hasCommittedMutations:!0},this.value)},_a.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Ta.getPostMutationVersion(e);return new Rs(this.key,r,{hasLocalMutations:!0},this.value)},_a.prototype.extractBaseValue=function(e){return null},_a.prototype.isEqual=function(e){return e instanceof _a&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},_a);function _a(e,t,n){var r=Ia.call(this)||this;return r.key=e,r.value=t,r.precondition=n,r.type=ga.Set,r}var Aa,Na=(c(Oa,Aa=Ta),Oa.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Ur(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new js(this.key,t.version);var n=this.patchDocument(e);return new Rs(this.key,t.version,{hasCommittedMutations:!0},n)},Oa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Ta.getPostMutationVersion(e),i=this.patchDocument(e);return new Rs(this.key,r,{hasLocalMutations:!0},i)},Oa.prototype.extractBaseValue=function(e){return null},Oa.prototype.isEqual=function(e){return e instanceof Oa&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},Oa.prototype.patchDocument=function(e){var t;return t=e instanceof Rs?e.data():ks.EMPTY,this.patchObject(t)},Oa.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}}),e},Oa);function Oa(e,t,n,r){var i=Aa.call(this)||this;return i.key=e,i.data=t,i.fieldMask=n,i.precondition=r,i.type=ga.Patch,i}var Da,xa=(c(Pa,Da=Ta),Pa.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Ur(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new js(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new Rs(this.key,i,{hasCommittedMutations:!0},o)},Pa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new Rs(this.key,r.version,{hasLocalMutations:!0},o)},Pa.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Rs?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?ks.EMPTY.set(i.field,a):t.set(i.field,a))}return t},Pa.prototype.isEqual=function(e){return e instanceof Pa&&this.key.isEqual(e.key)&&gi(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},Pa.prototype.requireDocument=function(e){Ur(e instanceof Rs,"Unknown MaybeDocument type "+e);var t=e;return Ur(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},Pa.prototype.serverTransformResults=function(e,t){var n=[];Ur(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Rs&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},Pa.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Rs&&(u=t.field(a.field)),null===u&&n instanceof Rs&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},Pa.prototype.transformObject=function(e,t){Ur(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},Pa);function Pa(e,t){var n=Da.call(this)||this;return n.key=e,n.fieldTransforms=t,n.type=ga.Transform,n.precondition=Ea.exists(!0),n}var Ra,Ma,La,Fa,Ua,Va=(c(ja,Ra=Ta),ja.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),Ur(null==t.transformResults,"Transform results received by DeleteMutation."),new Fs(this.key,t.version,{hasCommittedMutations:!0})},ja.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&Ur(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Fs(this.key,ao.forDeletedDoc())):e},ja.prototype.extractBaseValue=function(e){return null},ja.prototype.isEqual=function(e){return e instanceof ja&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},ja);function ja(e,t){var n=Ra.call(this)||this;return n.key=e,n.precondition=t,n.type=ga.Delete,n}(La=Ma=Ma||{})[La.NullValue=0]="NullValue",La[La.BooleanValue=1]="BooleanValue",La[La.NumberValue=2]="NumberValue",La[La.TimestampValue=3]="TimestampValue",La[La.StringValue=4]="StringValue",La[La.BlobValue=5]="BlobValue",La[La.RefValue=6]="RefValue",La[La.GeoPointValue=7]="GeoPointValue",La[La.ArrayValue=8]="ArrayValue",La[La.ObjectValue=9]="ObjectValue",(Ua=Fa=Fa||{})[Ua.Default=0]="Default",Ua[Ua.Estimate=1]="Estimate",Ua[Ua.Previous=2]="Previous";var qa=(Ba.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new Ba(Fa.Estimate,t);case"previous":return new Ba(Fa.Previous,t);case"none":case void 0:return new Ba(Fa.Default,t);default:return Fr("fromSnapshotOptions() called with invalid options.")}},Ba);function Ba(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}var za=(Wa.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},Wa.prototype.defaultCompareTo=function(e){return Ur(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),vi(this.typeOrder,e.typeOrder)},Wa);function Wa(){}var Ka,Qa=(c(Ha,Ka=za),Ha.prototype.value=function(e){return null},Ha.prototype.isEqual=function(e){return e instanceof Ha},Ha.prototype.compareTo=function(e){return e instanceof Ha?0:this.defaultCompareTo(e)},Ha.INSTANCE=new Ha,Ha);function Ha(){var e=Ka.call(this)||this;return e.typeOrder=Ma.NullValue,e.internalValue=null,e}var Ga,Ya=(c(Xa,Ga=za),Xa.prototype.value=function(e){return this.internalValue},Xa.prototype.isEqual=function(e){return e instanceof Xa&&this.internalValue===e.internalValue},Xa.prototype.compareTo=function(e){return e instanceof Xa?vi(this,e):this.defaultCompareTo(e)},Xa.of=function(e){return e?Xa.TRUE:Xa.FALSE},Xa.TRUE=new Xa(!0),Xa.FALSE=new Xa(!1),Xa);function Xa(e){var t=Ga.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.BooleanValue,t}var $a,Ja=(c(Za,$a=za),Za.prototype.value=function(e){return this.internalValue},Za.prototype.compareTo=function(e){return e instanceof Za?function(e,t){return e<t?-1:t<e?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},Za);function Za(e){var t=$a.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.NumberValue,t}function es(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ts,ns=(c(rs,ts=Ja),rs.prototype.isEqual=function(e){return e instanceof rs&&es(this.internalValue,e.internalValue)},rs);function rs(){return null!==ts&&ts.apply(this,arguments)||this}var is,os=(c(as,is=Ja),as.prototype.isEqual=function(e){return e instanceof as&&es(this.internalValue,e.internalValue)},as.NAN=new as(NaN),as.POSITIVE_INFINITY=new as(1/0),as.NEGATIVE_INFINITY=new as(-1/0),as);function as(){return null!==is&&is.apply(this,arguments)||this}var ss,us=(c(cs,ss=za),cs.prototype.value=function(e){return this.internalValue},cs.prototype.isEqual=function(e){return e instanceof cs&&this.internalValue===e.internalValue},cs.prototype.compareTo=function(e){return e instanceof cs?vi(this.internalValue,e.internalValue):this.defaultCompareTo(e)},cs);function cs(e){var t=ss.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.StringValue,t}var ls,fs=(c(hs,ls=za),hs.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},hs.prototype.isEqual=function(e){return e instanceof hs&&this.internalValue.isEqual(e.internalValue)},hs.prototype.compareTo=function(e){return e instanceof hs?this.internalValue._compareTo(e.internalValue):e instanceof ds?-1:this.defaultCompareTo(e)},hs);function hs(e){var t=ls.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.TimestampValue,t}var ps,ds=(c(ms,ps=za),ms.prototype.value=function(e){return e&&e.serverTimestampBehavior===Fa.Estimate?new fs(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Fa.Previous&&this.previousValue?this.previousValue.value(e):null},ms.prototype.isEqual=function(e){return e instanceof ms&&this.localWriteTime.isEqual(e.localWriteTime)},ms.prototype.compareTo=function(e){return e instanceof ms?this.localWriteTime._compareTo(e.localWriteTime):e instanceof fs?1:this.defaultCompareTo(e)},ms.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},ms);function ms(e,t){var n=ps.call(this)||this;return n.localWriteTime=e,n.previousValue=t,n.typeOrder=Ma.TimestampValue,n}var ys,vs=(c(gs,ys=za),gs.prototype.value=function(e){return this.internalValue},gs.prototype.isEqual=function(e){return e instanceof gs&&this.internalValue.isEqual(e.internalValue)},gs.prototype.compareTo=function(e){return e instanceof gs?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},gs);function gs(e){var t=ys.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.BlobValue,t}var bs,ws=(c(Es,bs=za),Es.prototype.value=function(e){return this.key},Es.prototype.isEqual=function(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},Es.prototype.compareTo=function(e){if(e instanceof Es){var t=this.databaseId.compareTo(e.databaseId);return 0!==t?t:qi.comparator(this.key,e.key)}return this.defaultCompareTo(e)},Es);function Es(e,t){var n=bs.call(this)||this;return n.databaseId=e,n.key=t,n.typeOrder=Ma.RefValue,n}var Ss,Ts=(c(Cs,Ss=za),Cs.prototype.value=function(e){return this.internalValue},Cs.prototype.isEqual=function(e){return e instanceof Cs&&this.internalValue.isEqual(e.internalValue)},Cs.prototype.compareTo=function(e){return e instanceof Cs?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},Cs);function Cs(e){var t=Ss.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.GeoPointValue,t}var Is,ks=(c(_s,Is=za),_s.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},_s.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},_s.prototype.isEqual=function(e){if(e instanceof _s){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!t.hasNext()&&!n.hasNext()}return!1},_s.prototype.compareTo=function(e){if(e instanceof _s){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext(),o=vi(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return vi(t.hasNext(),n.hasNext())}return this.defaultCompareTo(e)},_s.prototype.set=function(e,t){if(Ur(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),t);var n=this.child(e.firstSegment());n instanceof _s||(n=_s.EMPTY);var r=n.set(e.popFirst(),t);return this.setChild(e.firstSegment(),r)},_s.prototype.delete=function(e){if(Ur(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new _s(this.internalValue.remove(e.firstSegment()));var t=this.child(e.firstSegment());if(t instanceof _s){var n=t.delete(e.popFirst());return new _s(this.internalValue.insert(e.firstSegment(),n))}return this},_s.prototype.contains=function(e){return null!==this.field(e)},_s.prototype.field=function(e){Ur(!e.isEmpty(),"Can't get field of empty path");var t=this;return e.forEach(function(e){t=t instanceof _s?t.internalValue.get(e):null}),t},_s.prototype.fieldMask=function(){var e=new vo(Vi.comparator);return this.internalValue.forEach(function(t,n){var r=new Vi([t]);if(n instanceof _s){var i=n.fieldMask().fields;i.isEmpty()?e=e.add(r):i.forEach(function(t){e=e.add(r.child(t))})}else e=e.add(r)}),da.fromSet(e)},_s.prototype.toString=function(){return this.internalValue.toString()},_s.prototype.child=function(e){return this.internalValue.get(e)||void 0},_s.prototype.setChild=function(e,t){return new _s(this.internalValue.insert(e,t))},_s.EMPTY=new _s(new uo(vi)),_s);function _s(e){var t=Is.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.ObjectValue,t}var As,Ns=(c(Os,As=za),Os.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},Os.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},Os.prototype.forEach=function(e){this.internalValue.forEach(e)},Os.prototype.isEqual=function(e){if(e instanceof Os){if(this.internalValue.length!==e.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(e.internalValue[t]))return!1;return!0}return!1},Os.prototype.compareTo=function(e){if(e instanceof Os){for(var t=Math.min(this.internalValue.length,e.internalValue.length),n=0;n<t;n++){var r=this.internalValue[n].compareTo(e.internalValue[n]);if(r)return r}return vi(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},Os.prototype.toString=function(){return"["+this.internalValue.map(function(e){return e.toString()}).join(",")+"]"},Os);function Os(e){var t=As.call(this)||this;return t.internalValue=e,t.typeOrder=Ma.ArrayValue,t}var Ds=(xs.compareByKey=function(e,t){return qi.comparator(e.key,t.key)},xs);function xs(e,t){this.key=e,this.version=t}var Ps,Rs=(c(Ms,Ps=Ds),Ms.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},Ms.prototype.data=function(){var e=this;if(!this.objectValue){var t=ks.EMPTY;Xr(this.proto.fields,function(n,r){t=t.set(new Vi([n]),e.converter(r))}),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},Ms.prototype.value=function(){return this.data().value()},Ms.prototype.isEqual=function(e){return e instanceof Ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},Ms.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Ms.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Ms.prototype.getProtoField=function(e){Ur(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},Ms.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):Fr("Trying to compare documents on fields that don't exist")},Ms);function Ms(e,t,n,r,i,o){var a=Ps.call(this,e,t)||this;return a.objectValue=r,a.proto=i,a.converter=o,Ur(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var Ls,Fs=(c(Us,Ls=Ds),Us.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Us.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Us.prototype.isEqual=function(e){return e instanceof Us&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Us);function Us(e,t,n){var r=Ls.call(this,e,t)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var Vs,js=(c(qs,Vs=Ds),qs.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(qs.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),qs.prototype.isEqual=function(e){return e instanceof qs&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},qs);function qs(){return null!==Vs&&Vs.apply(this,arguments)||this}var Bs=(zs.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},zs.prototype.has=function(e){return void 0!==this.get(e)},zs.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},zs.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},zs.prototype.forEach=function(e){Xr(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},zs.prototype.isEmpty=function(){return $r(this.inner)},zs);function zs(e){this.mapKeyFn=e,this.inner={}}var Ws=(Ks.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},Ks.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},Ks.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Lo.resolve(n):this.getFromCache(e,t)},Ks.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},Ks.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},Ks.prototype.assertNotApplied=function(){Ur(!this.changesApplied,"Changes have already been applied.")},Ks);function Ks(){this.changes=new Bs(function(e){return e.toString()}),this.changesApplied=!1}var Qs,Hs="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Gs=(Object.defineProperty(Ys.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),Ys.prototype.start=function(e){var t=$o.getStore(e,Pu.store);return this.synchronizeLastDocumentChangeId(t)},Ys.prototype.addEntry=function(e,t,n){var r=this;return Js(e).put(eu(t),n).next(function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())})},Ys.prototype.removeEntry=function(e,t){var n=Js(e),r=eu(t);return n.delete(r)},Ys.prototype.updateMetadata=function(e,t,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.setMetadata(e,i).next(function(){if(r.keepDocumentChangeLog)return Zs(e).put({changes:r.serializer.toDbResourcePaths(t)})})})},Ys.prototype.getEntry=function(e,t){var n=this;return Js(e).get(eu(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},Ys.prototype.getSizedEntry=function(e,t){var n=this;return Js(e).get(eu(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:tu(e)}:null})},Ys.prototype.getEntries=function(e,t){var n=this,r=To();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},Ys.prototype.getSizedEntries=function(e,t){var n=this,r=To(),i=new uo(qi.comparator);return this.forEachDbEntry(e,t,function(e,t){i=t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i.insert(e,tu(t))):(r=r.insert(e,null),i.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},Ys.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Lo.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Js(e).iterate({range:r},function(e,t,r){for(var a=qi.fromSegments(e);o&&qi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},Ys.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Io(),i=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return Js(e).iterate({range:a},function(e,o,a){if(e.length===i){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof Rs&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},Ys.prototype.getNewDocumentChanges=function(e){var t=this;Ur(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=No(),r=So(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Zs(e);return a.iterate({range:i},function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next(function(){return Lo.reject(new Wr(zr.DATA_LOSS,Hs))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new Fs(n,ao.forDeletedDoc());r=r.insert(n,t)}))}),Lo.waitFor(i)}).next(function(){return r})},Ys.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Zs(e).delete(n)},Ys.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},Ys.prototype.newChangeBuffer=function(){return new Ys.RemoteDocumentChangeBuffer(this)},Ys.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},Ys.prototype.getMetadata=function(e){return $s(e).get(Su.key).next(function(e){return Ur(!!e,"Missing document cache metadata"),e})},Ys.prototype.setMetadata=function(e,t){return $s(e).put(Su.key,t)},Ys.RemoteDocumentChangeBuffer=(c(Xs,Qs=Ws),Xs.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=No();return this.changes.forEach(function(o,a){var s=t.documentSizes.get(o);if(Ur(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){var u=t.documentCache.serializer.toDbRemoteDocument(a),c=tu(u);r+=c-s,n.push(t.documentCache.addEntry(e,o,u))}else r-=s,n.push(t.documentCache.removeEntry(e,o));i=i.add(o)}),n.push(this.documentCache.updateMetadata(e,i,r)),Lo.waitFor(n)},Xs.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},Xs.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next(function(e){var t=e.maybeDocuments;return e.sizeMap.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},Xs),Ys);function Ys(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}function Xs(e){var t=Qs.call(this)||this;return t.documentCache=e,t.documentSizes=new Bs(function(e){return e.toString()}),t}function $s(e){return cc.getStore(e,Su.store)}function Js(e){return cc.getStore(e,wu.store)}function Zs(e){return cc.getStore(e,Pu.store)}function eu(e){return e.path.toArray()}function tu(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fr("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var nu=(ru.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Lo.resolve()},ru.prototype.getCollectionParents=function(e,t){return Lo.resolve(this.collectionParentIndex.getEntries(t))},ru);function ru(){this.collectionParentIndex=new iu}var iu=(ou.prototype.add=function(e){Ur(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vo(Mi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},ou.prototype.getEntries=function(e){return(this.index[e]||new vo(Mi.comparator)).toArray()},ou);function ou(){this.index={}}var au=8,su=(uu.prototype.createOrUpgrade=function(e,t,n,r){var i=this;Ur(n<r&&0<=n&&r<=au,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=r&&(function(e){e.createObjectStore(lu.store)}(e),function(e){e.createObjectStore(hu.store,{keyPath:hu.keyPath}),e.createObjectStore(du.store,{keyPath:du.keyPath,autoIncrement:!0}).createIndex(du.userMutationsIndex,du.userMutationsKeyPath,{unique:!0}),e.createObjectStore(yu.store)}(e),xu(e),function(e){e.createObjectStore(wu.store)}(e));var o=Lo.resolve();return n<3&&3<=r&&(0!==n&&(function(e){e.deleteObjectStore(ku.store),e.deleteObjectStore(Cu.store),e.deleteObjectStore(Au.store)}(e),xu(e)),o=o.next(function(){return function(e){var t=e.store(Au.store),n=new Au(0,0,ao.MIN.toTimestamp(),0);return t.put(Au.key,n)}(t)})),n<4&&4<=r&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store(du.store).loadAll().next(function(n){e.deleteObjectStore(du.store),e.createObjectStore(du.store,{keyPath:du.keyPath,autoIncrement:!0}).createIndex(du.userMutationsIndex,du.userMutationsKeyPath,{unique:!0});var r=t.store(du.store),i=n.map(function(e){return r.put(e)});return Lo.waitFor(i)})}(e,t)})),o=o.next(function(){!function(e){e.createObjectStore(Mu.store,{keyPath:Mu.keyPath})}(e),function(e){e.createObjectStore(Pu.store,{keyPath:"id",autoIncrement:!0})}(e)})),n<5&&5<=r&&(o=o.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&6<=r&&(o=o.next(function(){return function(e){e.createObjectStore(Su.store)}(e),i.addDocumentGlobal(t)})),n<7&&7<=r&&(o=o.next(function(){return i.ensureSequenceNumbers(t)})),n<8&&8<=r&&(o=o.next(function(){return i.createCollectionParentIndex(e,t)})),o},uu.prototype.addDocumentGlobal=function(e){var t=0;return e.store(wu.store).iterate(function(e,n){t+=tu(n)}).next(function(){var n=new Su(t);return e.store(Su.store).put(Su.key,n)})},uu.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(hu.store),r=e.store(du.store);return n.loadAll().next(function(n){return Lo.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(du.userMutationsIndex,i).next(function(r){return Lo.forEach(r,function(r){Ur(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return zo(e,n.userId,i).next(function(){})})})})})},uu.prototype.ensureSequenceNumbers=function(e){var t=e.store(ku.store),n=e.store(wu.store);return ha(e).next(function(e){var r=[];return n.iterate(function(n,i){var o=new Mi(n),a=[0,eo(o)];r.push(t.get(a).next(function(n){return n?Lo.resolve():function(n){return t.put(new ku(0,eo(n),e))}(o)}))}).next(function(){return Lo.waitFor(r)})})},uu.prototype.createCollectionParentIndex=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:eo(n)})}}e.createObjectStore(Ou.store,{keyPath:Ou.keyPath});var r=t.store(Ou.store),i=new iu;return t.store(wu.store).iterate({keysOnly:!0},function(e,t){return n(new Mi(e).popLast())}).next(function(){return t.store(yu.store).iterate({keysOnly:!0},function(e,t){e[0];var r=e[1];return n((e[2],ro(r)).popLast())})})},uu);function uu(e){this.serializer=e}var cu=function(e,t){this.seconds=e,this.nanoseconds=t},lu=(fu.store="owner",fu.key="owner",fu);function fu(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var hu=(pu.store="mutationQueues",pu.keyPath="userId",pu);function pu(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}var du=(mu.store="mutations",mu.keyPath="batchId",mu.userMutationsIndex="userMutationsIndex",mu.userMutationsKeyPath=["userId","batchId"],mu);function mu(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var yu=(vu.prefixForUser=function(e){return[e]},vu.prefixForPath=function(e,t){return[e,eo(t)]},vu.key=function(e,t,n){return[e,eo(t),n]},vu.store="documentMutations",vu.PLACEHOLDER=new vu,vu);function vu(){}var gu=function(e,t){this.path=e,this.readTime=t},bu=function(e,t){this.path=e,this.version=t},wu=(Eu.store="remoteDocuments",Eu);function Eu(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}var Su=(Tu.store="remoteDocumentGlobal",Tu.key="remoteDocumentGlobalKey",Tu);function Tu(e){this.byteSize=e}var Cu=(Iu.store="targets",Iu.keyPath="targetId",Iu.queryTargetsIndexName="queryTargetsIndex",Iu.queryTargetsKeyPath=["canonicalId","targetId"],Iu);function Iu(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}var ku=(_u.store="targetDocuments",_u.keyPath=["targetId","path"],_u.documentTargetsIndex="documentTargetsIndex",_u.documentTargetsKeyPath=["path","targetId"],_u);function _u(e,t,n){this.targetId=e,this.path=t,Ur(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Au=(Nu.key="targetGlobalKey",Nu.store="targetGlobal",Nu);function Nu(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var Ou=(Du.store="collectionParents",Du.keyPath=["collectionId","parent"],Du);function Du(e,t){this.collectionId=e,this.parent=t}function xu(e){e.createObjectStore(ku.store,{keyPath:ku.keyPath}).createIndex(ku.documentTargetsIndex,ku.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Cu.store,{keyPath:Cu.keyPath}).createIndex(Cu.queryTargetsIndexName,Cu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Au.store)}var Pu=(Ru.store="remoteDocumentChanges",Ru.keyPath="id",Ru);function Ru(e){this.changes=e}var Mu=(Lu.store="clientMetadata",Lu.keyPath="clientId",Lu);function Lu(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}var Fu,Uu,Vu=[hu.store,du.store,yu.store,wu.store,Cu.store,lu.store,Au.store,ku.store].concat([Mu.store,Pu.store]).concat([Su.store]).concat([Ou.store]),ju=(qu.prototype.addToCollectionParentIndex=function(e,t){if(Ur(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){Ur(1<=t.length,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Bu(e).put({collectionId:n,parent:eo(r)})}return Lo.resolve()},qu.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bi(t),""],!1,!0);return Bu(e).loadAll(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ro(o.parent))}return n})},qu);function qu(){this.collectionParentsCache=new iu}function Bu(e){return cc.getStore(e,Ou.store)}(Uu=Fu=Fu||{})[Uu.Listen=0]="Listen",Uu[Uu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Uu[Uu.LimboResolution=2]="LimboResolution";var zu=(Wu.prototype.withSequenceNumber=function(e){return new Wu(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},Wu.prototype.withResumeToken=function(e,t){return new Wu(this.query,this.targetId,this.purpose,this.sequenceNumber,t,e)},Wu.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},Wu);function Wu(e,t,n,r,i,o){void 0===i&&(i=ao.MIN),void 0===o&&(o=qr()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}var Ku=(Qu.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=qi.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Fs(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=qi.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new js(t,n)):Fr("Unexpected DbRemoteDocument")},Qu.prototype.toDbRemoteDocument=function(e){if(e instanceof Rs){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new wu(null,null,t,n)}if(e instanceof Fs){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return n=e.hasCommittedMutations,new wu(null,new gu(r,i),null,n)}return e instanceof js?(r=e.key.path.toArray(),i=this.toDbTimestamp(e.version),new wu(new bu(r,i),null,null,!0)):Fr("Unexpected MaybeDocumment")},Qu.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new cu(t.seconds,t.nanoseconds)},Qu.prototype.fromDbTimestamp=function(e){var t=new io(e.seconds,e.nanoseconds);return ao.fromTimestamp(t)},Qu.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map(function(e){return n.remoteSerializer.toMutation(e)}),i=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new du(e,t.batchId,t.localWriteTime.toMillis(),r,i)},Qu.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map(function(e){return t.remoteSerializer.fromMutation(e)}),r=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),i=io.fromMillis(e.localWriteTimeMs);return new xo(e.batchId,i,n,r)},Qu.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(eo(e.path))}),t},Qu.prototype.fromDbResourcePaths=function(e){for(var t=No(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new qi(ro(i)))}return t},Qu.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new zu(t,e.targetId,Fu.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},Qu.prototype.toDbTarget=function(e){Ur(Fu.Listen===e.purpose,"Only queries with purpose "+Fu.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(Ur("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new Cu(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},Qu);function Qu(e){this.remoteSerializer=e}function Hu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=vi(n,i);return 0===a?vi(r,o):a}var Gu=(Yu.prototype.nextIndex=function(){return++this.previousIndex},Yu.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Hu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(Yu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Yu);function Yu(e){this.maxElements=e,this.buffer=new vo(Hu),this.previousIndex=0}var Xu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$u=(Ju.withCacheSize=function(e){return new Ju(e,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Ju.COLLECTION_DISABLED=-1,Ju.MINIMUM_CACHE_SIZE_BYTES=1048576,Ju.DEFAULT=new Ju(Ju.DEFAULT_CACHE_SIZE_BYTES=41943040,Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Ju.DISABLED=new Ju(Ju.COLLECTION_DISABLED,0,0),Ju);function Ju(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}var Zu=(ec.prototype.start=function(){Ur(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==$u.COLLECTION_DISABLED&&this.scheduleGC()},ec.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(ec.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),ec.prototype.scheduleGC=function(){var e=this;Ur(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;Rr("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(zi.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch(fc)})},ec);function ec(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}var tc=(nc.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},nc.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Lo.resolve(Ni.INVALID);var r=new Gu(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},nc.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},nc.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},nc.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===$u.COLLECTION_DISABLED?(Rr("LruGarbageCollector","Garbage collection skipped; disabled"),Lo.resolve(Xu)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Rr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Xu):n.runGarbageCollection(e,t)})},nc.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},nc.prototype.runGarbageCollection=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(Rr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),xr()<=Sr.DEBUG&&Rr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Lo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},nc);function nc(e,t){this.delegate=e,this.params=t}var rc,ic="IndexedDbPersistence",oc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ac="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",sc=(c(uc,rc=function(){}),uc);function uc(e,t){var n=rc.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=t,n}var cc=(lc.getStore=function(e,t){if(e instanceof sc)return $o.getStore(e.simpleDbTransaction,t);throw Fr("IndexedDbPersistence must use instances of IndexedDbTransaction")},lc.createIndexedDbPersistence=function(e){return l(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:if(!lc.isAvailable())throw new Wr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(t=new lc(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,t]}})})},lc.prototype.start=function(){var e=this;return Ur(!this.started,"IndexedDbPersistence double-started!"),Ur(null!==this.window,"Expected 'window' to be defined"),$o.openOrCreate(this.dbName,au,new su(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[Au.store],function(t){return ha(t).next(function(t){e.listenSequence=new Ni(t,e.sequenceNumberSyncer)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},lc.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Vu,function(t){return e.remoteDocumentCache.start(t)})},lc.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return l(t,void 0,void 0,function(){return f(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},lc.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener(function(n){return l(t,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},lc.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return l(t,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},lc.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Vu,function(t){return pc(t).put(new Mu(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},lc.prototype.verifyPrimaryLease=function(e){var t=this;return hc(e).get(lu.key).next(function(e){return Lo.resolve(t.isLocalClient(e))})},lc.prototype.removeClientMetadata=function(e){return pc(e).delete(this.clientId)},lc.prototype.maybeGarbageCollectMultiClientState=function(){return l(this,void 0,void 0,function(){var e,t,n=this;return f(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),t=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(r){var i=lc.getStore(r,Mu.store);return i.loadAll().next(function(r){e=n.filterActiveClients(r,18e5),t=r.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Lo.forEach(t,function(e){return i.delete(e.clientId)})}).next(function(){if(0<(e=e.filter(function(e){return e.clientId!==n.clientId})).length){var t=e.map(function(e){return e.lastProcessedDocumentChangeId||0}),i=Math.min.apply(Math,t);return n.remoteDocumentCache.removeDocumentChangesThroughChangeId(r,i)}})})]);case 1:r.sent(),t.forEach(function(e){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(e.clientId))}),r.label=2;case 2:return[2]}})})},lc.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(zi.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},lc.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},lc.prototype.canActAsPrimary=function(e){var t=this;return hc(e).get(lu.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,ac);return!1}}return!(!t.networkEnabled||!t.inForeground)||pc(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&Rr(ic,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},lc.prototype.shutdown=function(){return l(this,void 0,void 0,function(){var e=this;return f(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[lu.store,Mu.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},lc.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},lc.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Mu.store],function(t){return pc(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},lc.clearPersistence=function(e){return l(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return lc.isAvailable()?(t=e+lc.MAIN_DATABASE,[4,$o.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(lc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),lc.prototype.getMutationQueue=function(e){return Ur(this.started,"Cannot initialize MutationQueue before persistence is started."),jo.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},lc.prototype.getQueryCache=function(){return Ur(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},lc.prototype.getRemoteDocumentCache=function(){return Ur(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},lc.prototype.getIndexManager=function(){return Ur(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},lc.prototype.runTransaction=function(e,t,n){var r=this;return Rr(ic,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Vu,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw Mr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new Wr(zr.FAILED_PRECONDITION,oc);return n(new sc(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new sc(i,r.listenSequence.next()))})})},lc.prototype.verifyAllowTabSynchronization=function(e){var t=this;return hc(e).get(lu.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,ac)})},lc.prototype.acquireOrExtendPrimaryLease=function(e){var t=new lu(this.clientId,this.allowTabSynchronization,Date.now());return hc(e).put(lu.key,t)},lc.isAvailable=function(){return $o.isAvailable()},lc.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},lc.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=hc(e);return n.get(lu.key).next(function(e){return t.isLocalClient(e)?(Rr(ic,"Releasing primary lease."),n.delete(lu.key)):Lo.resolve()})},lc.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Mr("Detected an update time that is in the future: "+e+" > "+n),1))},lc.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},lc.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Ur(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},lc.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},lc.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Ur("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},lc.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return Rr(ic,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Mr(ic,"Failed to get zombied client id.",e),!1}},lc.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(r){Mr("Failed to set zombie client id.",r)}},lc.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(r){}},lc.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},lc.MAIN_DATABASE="main",lc);function lc(e,t,n,r,i,o,a,s){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new dc(this,i),this.dbName=t+lc.MAIN_DATABASE,this.serializer=new Ku(a),this.document=r.document,this.queryCache=new ua(this.referenceDelegate,this.serializer),this.indexManager=new ju,this.remoteDocumentCache=new Gs(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function fc(e){return l(this,void 0,void 0,function(){return f(this,function(t){if(!function(e){return e.code===zr.FAILED_PRECONDITION&&e.message===oc}(e))throw e;return Rr(ic,"Unexpectedly lost primary lease"),[2]})})}function hc(e){return e.store(lu.store)}function pc(e){return e.store(Mu.store)}var dc=(mc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next(function(e){return t.next(function(t){return e+t})})},mc.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},mc.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},mc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},mc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},mc.prototype.addReference=function(e,t){return yc(e,t)},mc.prototype.removeReference=function(e,t){return yc(e,t)},mc.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},mc.prototype.removeMutationReference=function(e,t){return yc(e,t)},mc.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Lo.resolve(!0):function(e,t){var n=!1;return Ho(e).iterateSerial(function(r){return Bo(e,r,t).next(function(e){return e&&(n=!0),Lo.resolve(!e)})}).next(function(){return n})}(e,t)},mc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,function(a,s){if(s<=t){var u=n.isPinned(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),pa(e).delete([0,eo(a.path)])})});i.push(u)}}).next(function(){return Lo.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},mc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},mc.prototype.updateLimboDocument=function(e,t){return yc(e,t)},mc.prototype.forEachOrphanedDocument=function(e,t){var n,r=pa(e),i=Ni.INVALID;return r.iterate({index:ku.documentTargetsIndex},function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Ni.INVALID&&t(new qi(ro(n)),i),i=s,n=a):i=Ni.INVALID}).next(function(){i!==Ni.INVALID&&t(new qi(ro(n)),i)})},mc.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},mc);function mc(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new tc(this,t)}function yc(e,t){return pa(e).put(function(e,t){return new ku(0,eo(e.path),t)}(t,e.currentSequenceNumber))}var vc=(gc.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},gc.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e})},gc.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=To();return t.forEach(function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)}),r},gc.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},gc.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=So();return i.forEach(function(e,t){t=t||new Fs(e,ao.forDeletedDoc()),o=o.insert(e,t)}),o})},gc.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},gc.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new qi(t)).next(function(e){var t=Io();return e instanceof Rs&&(t=t.insert(e.key,e)),t})},gc.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;Ur(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=Io();return this.indexManager.getCollectionParents(e,r).next(function(o){return Lo.forEach(o,function(o){var a=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next(function(e){e.forEach(function(e,t){i=i.insert(e,t)})})}).next(function(){return i})})},gc.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return r=t,i.addMissingBaseDocuments(e,r,n).next(function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof Rs?n.insert(c,f):n.remove(c)}})}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},gc.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=No(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Na&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next(function(e){return e.forEach(function(e,t){null!==t&&t instanceof Rs&&(c=c.insert(e,t))}),c})},gc);function gc(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}var bc=(wc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},wc.prototype.addReference=function(e,t){var n=new Ec(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},wc.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},wc.prototype.removeReference=function(e,t){this.removeRef(new Ec(e,t))},wc.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},wc.prototype.removeReferencesForId=function(e){var t=this,n=qi.EMPTY,r=new Ec(n,e),i=new Ec(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),o.push(e.key)}),o},wc.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},wc.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},wc.prototype.referencesForId=function(e){var t=qi.EMPTY,n=new Ec(t,e),r=new Ec(t,e+1),i=No();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},wc.prototype.containsKey=function(e){var t=new Ec(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},wc);function wc(){this.refsByKey=new vo(Ec.compareByKey),this.refsByTarget=new vo(Ec.compareByTargetId)}var Ec=(Sc.compareByKey=function(e,t){return qi.comparator(e.key,t.key)||vi(e.targetOrBatchId,t.targetOrBatchId)},Sc.compareByTargetId=function(e,t){return vi(e.targetOrBatchId,t.targetOrBatchId)||qi.comparator(e.key,t.key)},Sc);function Sc(e,t){this.key=e,this.targetOrBatchId=t}var Tc="LocalStore",Cc=(Ic.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new vc(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],o=[],a=No(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p],o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++)h=y[m],a=a.add(h.key)}return t.localDocuments.getDocuments(n,a).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}})})})},Ic.prototype.localWrite=function(e){var t=this,n=io.now(),r=e.reduce(function(e,t){return e.add(t.key)},No());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return t.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new Na(u.key,c,c.fieldMask(),Ea.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next(function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}})})})},Ic.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):Lo.resolve(null)})})},Ic.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},Ic.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return Ur(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},Ic.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)})},Ic.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},Ic.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},Ic.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},Ic.prototype.applyRemoteEvent=function(e){var t=this,n=this.remoteDocuments.newChangeBuffer(),r=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[];Yr(e.targetChanges,function(e,n){var a=t.queryDataByTarget[e];if(a){o.push(t.queryCache.removeMatchingKeys(i,n.removedDocuments,e).next(function(){return t.queryCache.addMatchingKeys(i,n.addedDocuments,e)}));var s=n.resumeToken;if(0<s.length){var u=a.withResumeToken(s,r);t.queryDataByTarget[e]=u,Ic.shouldPersistQueryData(a,u,n)&&o.push(t.queryCache.updateQueryData(i,u))}}});var a=So(),s=No();if(e.documentUpdates.forEach(function(e,t){s=s.add(e)}),o.push(n.getEntries(i,s).next(function(r){e.documentUpdates.forEach(function(s,u){var c=r.get(s);u instanceof Fs&&u.version.isEqual(ao.MIN)?(n.removeEntry(s),a=a.insert(s,u)):null==c||0<u.version.compareTo(c.version)||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(ao.MIN.isEqual(e.snapshotVersion)&&Mr(Tc,"Cannot add a document when the remote version is zero"),n.addEntry(u),a=a.insert(s,u)):Rr(Tc,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(s)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,s))})})),!r.isEqual(ao.MIN)){var u=t.queryCache.getLastRemoteSnapshotVersion(i).next(function(e){return Ur(0<=r.compareTo(e),"Watch stream reverted to previous snapshot?? "+r+" < "+e),t.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,r)});o.push(u)}return Lo.waitFor(o).next(function(){return n.apply(i)}).next(function(){return t.localDocuments.getLocalViewOfDocuments(i,a)})})},Ic.shouldPersistQueryData=function(e,t,n){return Ur(0<t.resumeToken.length,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Ic.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Lo.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Lo.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},Ic.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},Ic.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},Ic.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,Lo.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new zu(e,i,Fu.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return Ur(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r})})},Ic.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){Ur(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?Lo.resolve():Lo.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},Ic.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},Ic.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},Ic.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Ic.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},Ic.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},Ic.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=Lo.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(e,r)}).next(function(e){var o=e,a=t.docVersions.get(r);Ur(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):Ur(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},Ic.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},Ic.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},Ic.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},Ic.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Ic);function Ic(e,t){this.persistence=e,this.localViewReferences=new bc,this.queryDataByTarget={},Ur(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new vc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}var kc=(_c.prototype.checkEmpty=function(e){return Lo.resolve(0===this.mutationQueue.length)},_c.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Ur(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Ur(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Lo.resolve()},_c.prototype.getLastStreamToken=function(e){return Lo.resolve(this.lastStreamToken)},_c.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Lo.resolve()},_c.prototype.addMutationBatch=function(e,t,n,r){Ur(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Ur(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new xo(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Ec(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Lo.resolve(o)},_c.prototype.lookupMutationBatch=function(e,t){return Lo.resolve(this.findMutationBatch(t))},_c.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return Ur(null!=n,"Failed to find local mutation batch."),Lo.resolve(n.keys())},_c.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Lo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},_c.prototype.getHighestUnacknowledgedBatchId=function(){return Lo.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},_c.prototype.getAllMutationBatches=function(e){return Lo.resolve(this.mutationQueue.slice())},_c.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Ec(t,0),i=new Ec(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){Ur(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);Ur(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Lo.resolve(o)},_c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new vo(vi);return t.forEach(function(e){var t=new Ec(e,0),i=new Ec(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){Ur(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),Lo.resolve(this.findMutationBatches(r))},_c.prototype.getAllMutationBatchesAffectingQuery=function(e,t){Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;qi.isDocumentKey(i)||(i=i.child(""));var o=new Ec(new qi(i),0),a=new vo(vi);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)},o),Lo.resolve(this.findMutationBatches(a))},_c.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},_c.prototype.removeMutationBatch=function(e,t){var n=this;Ur(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Lo.forEach(t.mutations,function(i){var o=new Ec(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)}).next(function(){n.batchesByDocumentKey=r})},_c.prototype.removeCachedMutationKeys=function(e){},_c.prototype.containsKey=function(e,t){var n=new Ec(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Lo.resolve(t.isEqual(r&&r.key))},_c.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&Ur(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Lo.resolve()},_c.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return Ur(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},_c.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},_c.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return Ur(n.batchId===e,"If found batch must match"),n},_c);function _c(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=qr(),this.batchesByDocumentKey=new vo(Ec.compareByKey)}var Ac=(Nc.prototype.getTargetCount=function(e){return Lo.resolve(this.targetCount)},Nc.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),Lo.resolve()},Nc.prototype.getLastRemoteSnapshotVersion=function(e){return Lo.resolve(this.lastRemoteSnapshotVersion)},Nc.prototype.getHighestSequenceNumber=function(e){return Lo.resolve(this.highestSequenceNumber)},Nc.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Lo.resolve(t)},Nc.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Lo.resolve()},Nc.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},Nc.prototype.addQueryData=function(e,t){return Ur(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Lo.resolve()},Nc.prototype.updateQueryData=function(e,t){return Ur(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Lo.resolve()},Nc.prototype.removeQueryData=function(e,t){return Ur(0<this.targetCount,"Removing a target from an empty cache"),Ur(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Lo.resolve()},Nc.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Lo.waitFor(o).next(function(){return i})},Nc.prototype.getQueryCount=function(e){return Lo.resolve(this.targetCount)},Nc.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Lo.resolve(n)},Nc.prototype.getQueryDataForTarget=function(e,t){return Fr("Not yet implemented.")},Nc.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),Lo.waitFor(i)},Nc.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),Lo.waitFor(i)},Nc.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Lo.resolve()},Nc.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Lo.resolve(n)},Nc.prototype.containsKey=function(e,t){return Lo.resolve(this.references.containsKey(t))},Nc);function Nc(e){this.persistence=e,this.queries=new Bs(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=ao.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new bc,this.targetCount=0,this.targetIdGenerator=Go.forQueryCache()}var Oc,Dc=(xc.prototype.addEntry=function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},xc.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},xc.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Lo.resolve(n?n.maybeDocument:null)},xc.prototype.getEntries=function(e,t){var n=this,r=To();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),Lo.resolve(r)},xc.prototype.getDocumentsMatchingQuery=function(e,t){Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Io(),r=new qi(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof Rs&&t.matches(s)&&(n=n.insert(s.key,s))}return Lo.resolve(n)},xc.prototype.forEachDocumentKey=function(e,t){return Lo.forEach(this.docs,function(e){return t(e)})},xc.prototype.getNewDocumentChanges=function(e){var t=this,n=So();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new Fs(e,ao.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=No(),Lo.resolve(n)},xc.prototype.newChangeBuffer=function(){return new xc.RemoteDocumentChangeBuffer(this)},xc.prototype.getSize=function(e){return Lo.resolve(this.size)},xc.RemoteDocumentChangeBuffer=(c(Pc,Oc=Ws),Pc.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i?n.push(t.documentCache.addEntry(e,i)):t.documentCache.removeEntry(r)}),Lo.waitFor(n)},Pc.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},Pc.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},Pc),xc);function xc(e,t){this.indexManager=e,this.sizer=t,this.docs=new uo(qi.comparator),this.newDocumentChanges=No(),this.size=0}function Pc(e){var t=Oc.call(this)||this;return t.documentCache=e,t}var Rc=(Mc.createLruPersistence=function(e,t,n){return new Mc(e,function(e){return new Vc(e,new Ku(t),n)})},Mc.createEagerPersistence=function(e){return new Mc(e,function(e){return new Fc(e)})},Mc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Mc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Mc.prototype.getActiveClients=function(){return l(this,void 0,void 0,function(){return f(this,function(e){return[2,[this.clientId]]})})},Mc.prototype.setPrimaryStateListener=function(e){return e(!0)},Mc.prototype.setDatabaseDeletedListener=function(){},Mc.prototype.setNetworkEnabled=function(e){},Mc.prototype.getIndexManager=function(){return this.indexManager},Mc.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new kc(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},Mc.prototype.getQueryCache=function(){return this.queryCache},Mc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Mc.prototype.runTransaction=function(e,t,n){var r=this;Rr("MemoryPersistence","Starting transaction:",e);var i=new Lc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},Mc.prototype.mutationQueuesContainKey=function(e,t){return Lo.or(function(e){var t=[];return Xr(e,function(e,n){return t.push(n)}),t}(this.mutationQueues).map(function(n){return function(){return n.containsKey(e,t)}}))},Mc);function Mc(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Ni(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Ac(this),this.indexManager=new nu,this.remoteDocumentCache=new Dc(this.indexManager,function(e){return n.referenceDelegate.documentSize(e)})}var Lc=function(e){this.currentSequenceNumber=e},Fc=(Object.defineProperty(Uc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw Fr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Uc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Uc.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Lo.resolve()},Uc.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Lo.resolve()},Uc.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Lo.resolve()},Uc.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},Uc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Uc.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lo.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(e){e||n.removeEntry(r)})}).next(function(){return t._orphanedDocuments=null,n.apply(e)})},Uc.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},Uc.prototype.documentSize=function(e){return 0},Uc.prototype.isReferenced=function(e,t){var n=this;return Lo.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Lo.resolve(n.inMemoryPins.containsKey(t))}])},Uc);function Uc(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}var Vc=(jc.prototype.onTransactionStarted=function(){},jc.prototype.onTransactionCommitted=function(e){return Lo.resolve()},jc.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},jc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},jc.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},jc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Lo.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?Lo.resolve():t(i)})})},jc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},jc.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},jc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,function(i){return n.isPinned(e,i,t).next(function(e){e||(r++,o.removeEntry(i))})}).next(function(){return o.apply(e)}).next(function(){return r})},jc.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Lo.resolve()},jc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},jc.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Lo.resolve()},jc.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Lo.resolve()},jc.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Lo.resolve()},jc.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Fr("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},jc.prototype.isPinned=function(e,t,n){var r=this;return Lo.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Lo.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Lo.resolve(void 0!==e&&n<e)}])},jc.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},jc);function jc(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Bs(function(e){return eo(e.path)}),this.garbageCollector=new tc(this,n)}var qc=Number,Bc=qc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),zc=qc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Wc=qc.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Kc(e){return null==e}function Qc(e){return Wc(e)&&e<=zc&&Bc<=e}var Hc=(Gc.prototype.reset=function(){this.currentBaseMs=0},Gc.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Gc.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Rr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Gc.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Gc.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Gc);function Gc(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var Yc,Xc,$c="PersistentStream";(Xc=Yc=Yc||{})[Xc.Initial=0]="Initial",Xc[Xc.Starting=1]="Starting",Xc[Xc.Open=2]="Open",Xc[Xc.Error=3]="Error",Xc[Xc.Backoff=4]="Backoff";var Jc=(Zc.prototype.isStarted=function(){return this.state===Yc.Starting||this.state===Yc.Open||this.state===Yc.Backoff},Zc.prototype.isOpen=function(){return this.state===Yc.Open},Zc.prototype.start=function(){this.state!==Yc.Error?(Ur(this.state===Yc.Initial,"Already started"),this.auth()):this.performBackoff()},Zc.prototype.stop=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Yc.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},Zc.prototype.inhibitBackoff=function(){Ur(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Yc.Initial,this.backoff.reset()},Zc.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},Zc.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},Zc.prototype.handleIdleCloseTimer=function(){return l(this,void 0,void 0,function(){return f(this,function(e){return this.isOpen()?[2,this.close(Yc.Initial)]:[2]})})},Zc.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},Zc.prototype.close=function(e,t){return l(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return Ur(this.isStarted(),"Only started streams should be closed."),Ur(e===Yc.Error||Kc(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Yc.Error?this.backoff.reset():t&&t.code===zr.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===zr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},Zc.prototype.tearDown=function(){},Zc.prototype.auth=function(){var e=this;Ur(this.state===Yc.Initial,"Must be in initial state to auth"),this.state=Yc.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new Wr(zr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},Zc.prototype.startStream=function(e){var t=this;Ur(this.state===Yc.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return Ur(t.state===Yc.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Yc.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},Zc.prototype.performBackoff=function(){var e=this;Ur(this.state===Yc.Error,"Should only perform backoff when in Error state"),this.state=Yc.Backoff,this.backoff.backoffAndRun(function(){return l(e,void 0,void 0,function(){return f(this,function(e){return Ur(this.state===Yc.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Yc.Initial,this.start(),Ur(this.isStarted(),"PersistentStream should have started"),[2]})})})},Zc.prototype.handleStreamClose=function(e){return Ur(this.isStarted(),"Can't handle server close on non-started stream"),Rr($c,"close with error: "+e),this.stream=null,this.close(Yc.Error,e)},Zc.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(Rr($c,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Zc);function Zc(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Yc.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Hc(e,t)}var el,tl=(c(nl,el=Jc),nl.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},nl.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},nl.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},nl.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},nl);function nl(e,t,n,r,i){var o=el.call(this,e,zi.ListenStreamConnectionBackoff,zi.ListenStreamIdle,t,n,i)||this;return o.serializer=r,o}var rl,il=(c(ol,rl=Jc),Object.defineProperty(ol.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),ol.prototype.start=function(){this.handshakeComplete_=!1,rl.prototype.start.call(this)},ol.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},ol.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},ol.prototype.onMessage=function(e){if(Ur(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return Ur(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},ol.prototype.writeHandshake=function(){Ur(this.isOpen(),"Writing handshake requires an opened stream"),Ur(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},ol.prototype.writeMutations=function(e){var t=this;Ur(this.isOpen(),"Writing mutations requires an opened stream"),Ur(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Ur(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},ol);function ol(e,t,n,r,i){var o=rl.call(this,e,zi.WriteStreamConnectionBackoff,zi.WriteStreamIdle,t,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=qr(),o}var al=(sl.prototype.newPersistentWriteStream=function(e){return new il(this.queue,this.connection,this.credentials,this.serializer,e)},sl.prototype.newPersistentWatchStream=function(e){return new tl(this.queue,this.connection,this.credentials,this.serializer,e)},sl.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},sl.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=So();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);Ur(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},sl.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},sl.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},sl);function sl(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}var ul,cl,ll,fl,hl=(pl.prototype.lookup=function(e){return l(this,void 0,void 0,function(){var t,n=this;return f(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Wr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach(function(e){e instanceof Fs||e instanceof Rs?n.recordVersion(e):Fr("Document in a transaction was a "+e.constructor.name)}),[2,t]}})})},pl.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},pl.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},pl.prototype.delete=function(e){this.write([new Va(e,this.precondition(e))]),this.writtenDocs.add(e)},pl.prototype.commit=function(){return l(this,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new Wr(zr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},pl.prototype.recordVersion=function(e){var t;if(e instanceof Rs)t=e.version;else{if(!(e instanceof Fs))throw Fr("Document in a transaction was a "+e.constructor.name);t=ao.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Wr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},pl.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Ea.updateTime(t):Ea.NONE},pl.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(this.writtenDocs.has(e)||!t)return Ea.exists(!0);if(t.isEqual(ao.forDeletedDoc()))throw new Wr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ea.updateTime(t)},pl.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},pl.prototype.ensureCommitNotCalled=function(){Ur(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},pl);function pl(e){this.datastore=e,this.readVersions=_o(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(cl=ul=ul||{})[cl.Unknown=0]="Unknown",cl[cl.Online=1]="Online",cl[cl.Offline=2]="Offline",(fl=ll=ll||{})[fl.RemoteStore=0]="RemoteStore",fl[fl.SharedClientState=1]="SharedClientState";var dl,ml,yl=(vl.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(ul.Unknown),Ur(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(zi.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,Ur(e.state===ul.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(ul.Offline),Promise.resolve()}))},vl.prototype.handleWatchStreamFailure=function(e){this.state===ul.Online?(this.setAndBroadcast(ul.Unknown),Ur(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Ur(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(ul.Offline)))},vl.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===ul.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},vl.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},vl.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Mr(t),this.shouldWarnClientIsOffline=!1):Rr("OnlineStateTracker",t)},vl.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},vl);function vl(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=ul.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function gl(e){switch(e){case zr.OK:return Fr("Treated status OK as error");case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0;default:return Fr("Unknown status code: "+e)}}function bl(e){if(void 0===e)return Mr("GRPC error has no .code"),zr.UNKNOWN;switch(e){case dl.OK:return zr.OK;case dl.CANCELLED:return zr.CANCELLED;case dl.UNKNOWN:return zr.UNKNOWN;case dl.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case dl.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case dl.INTERNAL:return zr.INTERNAL;case dl.UNAVAILABLE:return zr.UNAVAILABLE;case dl.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case dl.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case dl.NOT_FOUND:return zr.NOT_FOUND;case dl.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case dl.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case dl.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case dl.ABORTED:return zr.ABORTED;case dl.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case dl.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case dl.DATA_LOSS:return zr.DATA_LOSS;default:return Fr("Unknown status code: "+e)}}(ml=dl=dl||{})[ml.OK=0]="OK",ml[ml.CANCELLED=1]="CANCELLED",ml[ml.UNKNOWN=2]="UNKNOWN",ml[ml.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ml[ml.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ml[ml.NOT_FOUND=5]="NOT_FOUND",ml[ml.ALREADY_EXISTS=6]="ALREADY_EXISTS",ml[ml.PERMISSION_DENIED=7]="PERMISSION_DENIED",ml[ml.UNAUTHENTICATED=16]="UNAUTHENTICATED",ml[ml.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ml[ml.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ml[ml.ABORTED=10]="ABORTED",ml[ml.OUT_OF_RANGE=11]="OUT_OF_RANGE",ml[ml.UNIMPLEMENTED=12]="UNIMPLEMENTED",ml[ml.INTERNAL=13]="INTERNAL",ml[ml.UNAVAILABLE=14]="UNAVAILABLE",ml[ml.DATA_LOSS=15]="DATA_LOSS";var wl,El,Sl,Tl,Cl=(Il.emptySet=function(e){return new Il(e.comparator)},Il.prototype.has=function(e){return null!=this.keyedMap.get(e)},Il.prototype.get=function(e){return this.keyedMap.get(e)},Il.prototype.first=function(){return this.sortedSet.minKey()},Il.prototype.last=function(){return this.sortedSet.maxKey()},Il.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Il.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(Il.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),Il.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},Il.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Il.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Il.prototype.isEqual=function(e){if(!(e instanceof Il))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Il.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Il.prototype.copy=function(e,t){var n=new Il;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Il);function Il(e){this.comparator=e?function(t,n){return e(t,n)||qi.comparator(t.key,n.key)}:function(e,t){return qi.comparator(e.key,t.key)},this.keyedMap=Io(),this.sortedSet=new uo(this.comparator)}(El=wl=wl||{})[El.Added=0]="Added",El[El.Removed=1]="Removed",El[El.Modified=2]="Modified",El[El.Metadata=3]="Metadata",(Tl=Sl=Sl||{})[Tl.Local=0]="Local",Tl[Tl.Synced=1]="Synced";var kl=(_l.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==wl.Added&&n.type===wl.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===wl.Metadata&&n.type!==wl.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===wl.Modified&&n.type===wl.Modified?this.changeMap=this.changeMap.insert(t,{type:wl.Modified,doc:e.doc}):e.type===wl.Modified&&n.type===wl.Added?this.changeMap=this.changeMap.insert(t,{type:wl.Added,doc:e.doc}):e.type===wl.Removed&&n.type===wl.Added?this.changeMap=this.changeMap.remove(t):e.type===wl.Removed&&n.type===wl.Modified?this.changeMap=this.changeMap.insert(t,{type:wl.Removed,doc:n.doc}):e.type===wl.Added&&n.type===wl.Removed?this.changeMap=this.changeMap.insert(t,{type:wl.Modified,doc:e.doc}):Fr("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},_l.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},_l);function _l(){this.changeMap=new uo(qi.comparator)}var Al=(Nl.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach(function(e){i.push({type:wl.Added,doc:e})}),new Nl(e,t,Cl.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(Nl.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Nl.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Nl);function Nl(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var Ol=(Dl.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n,r=((n={})[e]=xl.createSynthesizedTargetChangeForCurrentChange(e,t),n);return new Dl(ao.MIN,r,Do(),So(),No())},Dl);function Dl(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var xl=(Pl.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Pl(qr(),t,No(),No(),No())},Pl);function Pl(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var Rl,Ml,Ll=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Fl=function(e,t){this.targetId=e,this.existenceFilter=t};(Ml=Rl=Rl||{})[Ml.NoChange=0]="NoChange",Ml[Ml.Added=1]="Added",Ml[Ml.Removed=2]="Removed",Ml[Ml.Current=3]="Current",Ml[Ml.Reset=4]="Reset";var Ul=function(e,t,n,r){void 0===n&&(n=qr()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Vl=(Object.defineProperty(jl.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(jl.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(jl.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(jl.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),jl.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},jl.prototype.toTargetChange=function(){var e=No(),t=No(),n=No();return this.documentChanges.forEach(function(r,i){switch(i){case wl.Added:e=e.add(r);break;case wl.Modified:t=t.add(r);break;case wl.Removed:n=n.add(r);break;default:Fr("Encountered invalid change type: "+i)}}),new xl(this._resumeToken,this._current,e,t,n)},jl.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Wl()},jl.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},jl.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},jl.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},jl.prototype.recordTargetResponse=function(){this.pendingResponses-=1},jl.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},jl);function jl(){this.pendingResponses=0,this.documentChanges=Wl(),this._resumeToken=qr(),this._current=!1,this._hasPendingChanges=!0}var ql=(Bl.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Rs?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Fs&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,e.key,e.newDoc)},Bl.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Rl.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Rl.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Rl.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),Ur(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Rl.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Rl.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:Fr("Unknown target watch change state: "+e.state)}})},Bl.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Yr(this.targetStates,t)},Bl.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new qi(i.path);this.removeDocumentFromTarget(t,o,new Fs(o,ao.forDeletedDoc()))}else Ur(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},Bl.prototype.createRemoteEvent=function(e){var t=this,n={};Yr(this.targetStates,function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new qi(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Fs(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=No();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Fu.LimboResolution||(i=!1)}),i&&(r=r.add(e))});var i=new Ol(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=So(),this.pendingDocumentTargetMapping=zl(),this.pendingTargetResets=new vo(vi),i},Bl.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?wl.Modified:wl.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},Bl.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,wl.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},Bl.prototype.removeTarget=function(e){delete this.targetStates[e]},Bl.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},Bl.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},Bl.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Vl),this.targetStates[e]},Bl.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new vo(vi),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},Bl.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||Rr("WatchChangeAggregator","Detected inactive target",e),t},Bl.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},Bl.prototype.resetTarget=function(e){var t=this;Ur(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Vl,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},Bl.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},Bl);function Bl(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=So(),this.pendingDocumentTargetMapping=zl(),this.pendingTargetResets=new vo(vi)}function zl(){return new uo(qi.comparator)}function Wl(){return new uo(qi.comparator)}var Kl="RemoteStore",Ql=(Hl.prototype.start=function(){return this.enableNetwork()},Hl.prototype.enableNetwork=function(){return l(this,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(ul.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},Hl.prototype.disableNetwork=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(ul.Offline),[2]}})})},Hl.prototype.disableNetworkInternal=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(Rr(Kl,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},Hl.prototype.shutdown=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return Rr(Kl,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(ul.Unknown),[2]}})})},Hl.prototype.listen=function(e){Ur(!Hr(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},Hl.prototype.unlisten=function(e){Ur(Hr(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),$r(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(ul.Unknown))},Hl.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},Hl.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},Hl.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},Hl.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},Hl.prototype.startWatchStream=function(){Ur(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new ql(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},Hl.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!$r(this.listenTargets)},Hl.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},Hl.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},Hl.prototype.onWatchStreamOpen=function(){return l(this,void 0,void 0,function(){var e=this;return f(this,function(t){return Yr(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},Hl.prototype.onWatchStreamClose=function(e){return l(this,void 0,void 0,function(){return f(this,function(t){return void 0===e&&Ur(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(ul.Unknown),[2]})})},Hl.prototype.onWatchStreamChange=function(e,t){return l(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(ul.Online),e instanceof Ul&&e.state===Rl.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Ll?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Fl?this.watchChangeAggregator.handleExistenceFilter(e):(Ur(e instanceof Ul,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(ao.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},Hl.prototype.raiseWatchSnapshot=function(e){var t=this;Ur(!e.isEqual(ao.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Yr(n.targetChanges,function(n,r){if(0<r.resumeToken.length){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(qr(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new zu(n.query,e,Fu.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},Hl.prototype.handleTargetError=function(e){var t=this;Ur(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return l(t,void 0,void 0,function(){return f(this,function(t){return Hr(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},Hl.prototype.fillWritePipeline=function(){return l(this,void 0,void 0,function(){var e,t;return f(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},Hl.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},Hl.prototype.outstandingWrites=function(){return this.writePipeline.length},Hl.prototype.addToWritePipeline=function(e){Ur(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},Hl.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},Hl.prototype.startWriteStream=function(){Ur(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},Hl.prototype.onWriteStreamOpen=function(){return l(this,void 0,void 0,function(){return f(this,function(e){return this.writeStream.writeHandshake(),[2]})})},Hl.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(fc)},Hl.prototype.onMutationResult=function(e,t){var n=this;Ur(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Ro.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},Hl.prototype.onWriteStreamClose=function(e){return l(this,void 0,void 0,function(){var t=this;return f(this,function(n){return void 0===e&&Ur(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]:[2]})})},Hl.prototype.handleHandshakeError=function(e){return l(this,void 0,void 0,function(){return f(this,function(t){return gl(e.code)?(Rr(Kl,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=qr(),[2,this.localStore.setLastStreamToken(qr()).catch(fc)]):[2]})})},Hl.prototype.handleWriteError=function(e){return l(this,void 0,void 0,function(){var t,n=this;return f(this,function(r){return function(e){return gl(e)&&e!==zr.ABORTED}(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2]})})},Hl.prototype.createTransaction=function(){return new hl(this.datastore)},Hl.prototype.restartNetwork=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(ul.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}})})},Hl.prototype.handleCredentialChange=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(Rr(Kl,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},Hl.prototype.applyPrimaryState=function(e){return l(this,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(ul.Unknown),t.label=4;case 4:return[2]}})})},Hl);function Hl(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(e){n.enqueueAndForget(function(){return l(o,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(Rr(Kl,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new yl(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Gl=(Object.defineProperty(Yl.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(Yl.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),Yl.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Yl.prototype._compareTo=function(e){return vi(this._lat,e._lat)||vi(this._long,e._long)},Yl);function Yl(e,t){if(Zr("GeoPoint",arguments,2),ni("GeoPoint","number",1,e),ni("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new Wr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Wr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}var Xl=($l.atPath=function(e){return new $l(e)},Object.defineProperty($l.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[If]:this.memoizedOrderBy=[new Tf(e),If];else{Ur(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:bf.ASCENDING;this.memoizedOrderBy.push(a===bf.ASCENDING?If:kf)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),$l.prototype.addFilter=function(e){Ur(null==this.getInequalityFilterField()||!(e instanceof tf)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Ur(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new $l(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},$l.prototype.addOrderBy=function(e){Ur(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new $l(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},$l.prototype.withLimit=function(e){return new $l(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},$l.prototype.withStartAt=function(e){return new $l(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},$l.prototype.withEndAt=function(e){return new $l(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},$l.prototype.asCollectionQueryAtPath=function(e){return new $l(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},$l.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";Kc(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},$l.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),Kc(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},$l.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},$l.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return Ur(n,"orderBy used that doesn't compare on key field"),0},$l.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},$l.prototype.hasLimit=function(){return!Kc(this.limit)},$l.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},$l.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof tf&&n.isInequality())return n.field}return null},$l.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof tf&&0<=e.indexOf(r.op))return r.op}return null},$l.prototype.isDocumentQuery=function(){return qi.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},$l.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},$l.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):qi.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},$l.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},$l.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},$l.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},$l.prototype.assertValidBound=function(e){Ur(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},$l);function $l(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var Jl=(Zl.fromString=function(e){switch(e){case"<":return Zl.LESS_THAN;case"<=":return Zl.LESS_THAN_OR_EQUAL;case"==":return Zl.EQUAL;case">=":return Zl.GREATER_THAN_OR_EQUAL;case">":return Zl.GREATER_THAN;case"array-contains":return Zl.ARRAY_CONTAINS;case"in":return Zl.IN;case"array-contains-any":return Zl.ARRAY_CONTAINS_ANY;default:return Fr("Unknown FieldFilter operator: "+e)}},Zl.prototype.toString=function(){return this.name},Zl.prototype.isEqual=function(e){return this.name===e.name},Zl.LESS_THAN=new Zl("<"),Zl.LESS_THAN_OR_EQUAL=new Zl("<="),Zl.EQUAL=new Zl("=="),Zl.GREATER_THAN=new Zl(">"),Zl.GREATER_THAN_OR_EQUAL=new Zl(">="),Zl.ARRAY_CONTAINS=new Zl("array-contains"),Zl.IN=new Zl("in"),Zl.ARRAY_CONTAINS_ANY=new Zl("array-contains-any"),Zl);function Zl(e){this.name=e}var ef,tf=(c(nf,ef=function(){}),nf.create=function(e,t,n){if(e.isKeyField())return t===Jl.IN?(Ur(n instanceof Ns,"Comparing on key with IN, but filter value not an ArrayValue"),Ur(n.internalValue.every(function(e){return e instanceof ws}),"Comparing on key with IN, but an array value was not a RefValue"),new uf(e,n)):(Ur(n instanceof ws,"Comparing on key, but filter value not a RefValue"),Ur(t!==Jl.ARRAY_CONTAINS&&t!==Jl.ARRAY_CONTAINS_ANY,"'"+t.toString()+"' queries don't make sense on document keys."),new of(e,t,n));if(n.isEqual(Qa.INSTANCE)){if(t!==Jl.EQUAL)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new nf(e,t,n)}if(n.isEqual(os.NAN)){if(t!==Jl.EQUAL)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new nf(e,t,n)}return t===Jl.ARRAY_CONTAINS?new ff(e,n):t===Jl.IN?(Ur(n instanceof Ns,"IN filter has invalid value: "+n.toString()),new df(e,n)):t===Jl.ARRAY_CONTAINS_ANY?(Ur(n instanceof Ns,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new vf(e,n)):new nf(e,t,n)},nf.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},nf.prototype.matchesComparison=function(e){switch(this.op){case Jl.LESS_THAN:return e<0;case Jl.LESS_THAN_OR_EQUAL:return e<=0;case Jl.EQUAL:return 0===e;case Jl.GREATER_THAN:return 0<e;case Jl.GREATER_THAN_OR_EQUAL:return 0<=e;default:return Fr("Unknown FieldFilter operator: "+this.op)}},nf.prototype.isInequality=function(){return 0<=[Jl.LESS_THAN,Jl.LESS_THAN_OR_EQUAL,Jl.GREATER_THAN,Jl.GREATER_THAN_OR_EQUAL].indexOf(this.op)},nf.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},nf.prototype.isEqual=function(e){return e instanceof nf&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},nf.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},nf);function nf(e,t,n){var r=ef.call(this)||this;return r.field=e,r.op=t,r.value=n,r}var rf,of=(c(af,rf=tf),af.prototype.matches=function(e){var t=this.value,n=qi.comparator(e.key,t.key);return this.matchesComparison(n)},af);function af(){return null!==rf&&rf.apply(this,arguments)||this}var sf,uf=(c(cf,sf=tf),cf.prototype.matches=function(e){return this.value.internalValue.some(function(t){return e.key.isEqual(t.key)})},cf);function cf(e,t){var n=sf.call(this,e,Jl.IN,t)||this;return n.value=t,n}var lf,ff=(c(hf,lf=tf),hf.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Ns&&t.contains(this.value)},hf);function hf(e,t){return lf.call(this,e,Jl.ARRAY_CONTAINS,t)||this}var pf,df=(c(mf,pf=tf),mf.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},mf);function mf(e,t){var n=pf.call(this,e,Jl.IN,t)||this;return n.value=t,n}var yf,vf=(c(gf,yf=tf),gf.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Ns&&n.internalValue.some(function(e){return t.value.contains(e)})},gf);function gf(e,t){var n=yf.call(this,e,Jl.ARRAY_CONTAINS_ANY,t)||this;return n.value=t,n}var bf=(wf.prototype.toString=function(){return this.name},wf.ASCENDING=new wf("asc"),wf.DESCENDING=new wf("desc"),wf);function wf(e){this.name=e}var Ef=(Sf.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},Sf.prototype.sortsBeforeDocument=function(e,t){Ur(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())Ur(o instanceof ws,"Bound has a non-key value where the key path is being used."),n=qi.comparator(o.key,t.key);else{var a=t.field(i.field);Ur(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===bf.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Sf.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},Sf);function Sf(e,t){this.position=e,this.before=t}var Tf=(Cf.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Rs.compareByKey(e,t):Rs.compareByField(this.field,e,t);switch(this.dir){case bf.ASCENDING:return n;case bf.DESCENDING:return-1*n;default:return Fr("Unknown direction: "+this.dir)}},Cf.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},Cf.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},Cf.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},Cf);function Cf(e,t){this.field=e,void 0===t&&(t=bf.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}var If=new Tf(Vi.keyField(),bf.ASCENDING),kf=new Tf(Vi.keyField(),bf.DESCENDING),_f=(Af.prototype.applyToLocalView=function(e,t){return new ds(t,e)},Af.prototype.applyToRemoteDocument=function(e,t){return t},Af.prototype.computeBaseValue=function(e){return null},Af.prototype.isEqual=function(e){return e instanceof Af},Af.instance=new Af,Af);function Af(){}var Nf=(Of.prototype.applyToLocalView=function(e,t){return this.apply(e)},Of.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Of.prototype.apply=function(e){for(var t=Mf(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ns(t)},Of.prototype.computeBaseValue=function(e){return null},Of.prototype.isEqual=function(e){return e instanceof Of&&gi(e.elements,this.elements)},Of);function Of(e){this.elements=e}var Df=(xf.prototype.applyToLocalView=function(e,t){return this.apply(e)},xf.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},xf.prototype.apply=function(e){for(var t=Mf(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ns(t)},xf.prototype.computeBaseValue=function(e){return null},xf.prototype.isEqual=function(e){return e instanceof xf&&gi(e.elements,this.elements)},xf);function xf(e){this.elements=e}var Pf=(Rf.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof ns&&this.operand instanceof ns){var r=n.internalValue+this.operand.internalValue;return new ns(r)}return r=n.internalValue+this.operand.internalValue,new os(r)},Rf.prototype.applyToRemoteDocument=function(e,t){return Ur(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},Rf.prototype.computeBaseValue=function(e){return e instanceof Ja?e:new ns(0)},Rf.prototype.isEqual=function(e){return e instanceof Rf&&this.operand.isEqual(e.operand)},Rf);function Rf(e){this.operand=e}function Mf(e){return e instanceof Ns?e.internalValue.slice():[]}var Lf=(Ff.prototype.isEqual=function(e){return e&&e.count===this.count},Ff);function Ff(e){this.count=e}var Uf,Vf,jf=((Uf={})[bf.ASCENDING.name]="ASCENDING",Uf[bf.DESCENDING.name]="DESCENDING",Uf),qf=((Vf={})[Jl.LESS_THAN.name]="LESS_THAN",Vf[Jl.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Vf[Jl.GREATER_THAN.name]="GREATER_THAN",Vf[Jl.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Vf[Jl.EQUAL.name]="EQUAL",Vf[Jl.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Vf[Jl.IN.name]="IN",Vf[Jl.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Vf),Bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zf(e,t){Ur(!Kc(e),t+" is missing")}function Wf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):Fr("can't parse "+e)}var Kf=(Qf.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},Qf.prototype.unsafeCastProtoByteString=function(e){return e},Qf.prototype.fromRpcStatus=function(e){var t=void 0===e.code?zr.UNKNOWN:bl(e.code);return new Wr(t,e.message||"")},Qf.prototype.toInt32Value=function(e){return Kc(e)?void 0:{value:e}},Qf.prototype.fromInt32Value=function(e){var t;return Kc(t="object"==typeof e?e.value:e)?null:t},Qf.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},Qf.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);Ur(!!e,"Cannot deserialize null or undefined timestamp.");var t=Wf(e.seconds||"0"),n=e.nanos||0;return new io(t,n)},Qf.prototype.fromIso8601String=function(e){var t=0,n=Bf.exec(e);if(Ur(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new io(o,t)},Qf.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},Qf.prototype.fromBlob=function(e){return"string"==typeof e?(Ur(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Si.fromBase64String(e)):(Ur(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Si.fromUint8Array(e))},Qf.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},Qf.prototype.fromVersion=function(e){return Ur(!!e,"Trying to deserialize version that isn't set"),ao.fromTimestamp(this.fromTimestamp(e))},Qf.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},Qf.prototype.fromResourceName=function(e){var t=Mi.fromString(e);return Ur(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},Qf.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},Qf.prototype.fromName=function(e){var t=this.fromResourceName(e);return Ur(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),Ur(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new qi(this.extractLocalPathFromResourceName(t))},Qf.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},Qf.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Mi.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(Qf.prototype,"encodedDatabaseId",{get:function(){return new Mi(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),Qf.prototype.fullyQualifiedPrefixPath=function(e){return new Mi(["projects",e.projectId,"databases",e.database])},Qf.prototype.extractLocalPathFromResourceName=function(e){return Ur(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},Qf.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},Qf.prototype.toValue=function(e){if(e instanceof Qa)return{nullValue:"NULL_VALUE"};if(e instanceof Ya)return{booleanValue:e.value()};if(e instanceof ns)return{integerValue:""+e.value()};if(e instanceof os){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof us?{stringValue:e.value()}:e instanceof ks?{mapValue:this.toMapValue(e)}:e instanceof Ns?{arrayValue:this.toArrayValue(e)}:e instanceof fs?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ts?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof vs?{bytesValue:this.toBytes(e.value())}:e instanceof ws?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:Fr("Unknown FieldValue "+JSON.stringify(e))},Qf.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Qa.INSTANCE;if("booleanValue"in e)return Ya.of(e.booleanValue);if("integerValue"in e)return new ns(Wf(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return os.NAN;if("Infinity"===e.doubleValue)return os.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return os.NEGATIVE_INFINITY}return new os(e.doubleValue)}if("stringValue"in e)return new us(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){zf(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Ns(n.map(function(e){return t.fromValue(e)}))}if("timestampValue"in e)return zf(e.timestampValue,"timestampValue"),new fs(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){zf(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Ts(new Gl(r,i))}if("bytesValue"in e){zf(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new vs(o)}if("referenceValue"in e){zf(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new _i(a.get(1),a.get(3)),u=new qi(this.extractLocalPathFromResourceName(a));return new ws(s,u)}return Fr("Unknown Value proto "+JSON.stringify(e))},Qf.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},Qf.prototype.toDocument=function(e){return Ur(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},Qf.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Rs(r,i,{hasCommittedMutations:!!t},void 0,e,function(e){return n.fromValue(e)})},Qf.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},Qf.prototype.fromFields=function(e){var t=this,n=e,r=ks.EMPTY;return Xr(n,function(e,n){r=r.set(new Vi([e]),t.fromValue(n))}),r},Qf.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},Qf.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},Qf.prototype.fromFound=function(e){var t=this;Ur(!!e.found,"Tried to deserialize a found document from a missing document."),zf(e.found.name,"doc.found.name"),zf(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Rs(n,r,{},void 0,e.found,function(e){return t.fromValue(e)})},Qf.prototype.fromMissing=function(e){Ur(!!e.missing,"Tried to deserialize a missing document from a found document."),Ur(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Fs(t,n)},Qf.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):Fr("invalid batch get response: "+JSON.stringify(e))},Qf.prototype.toWatchTargetChangeState=function(e){switch(e){case Rl.Added:return"ADD";case Rl.Current:return"CURRENT";case Rl.NoChange:return"NO_CHANGE";case Rl.Removed:return"REMOVE";case Rl.Reset:return"RESET";default:return Fr("Unknown WatchTargetChangeState: "+e)}},Qf.prototype.toTestWatchChange=function(e){if(e instanceof Fl)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Ll){if(e.newDoc instanceof Rs){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Fs)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Ul){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return dl.OK;switch(e){case zr.OK:return dl.OK;case zr.CANCELLED:return dl.CANCELLED;case zr.UNKNOWN:return dl.UNKNOWN;case zr.DEADLINE_EXCEEDED:return dl.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return dl.RESOURCE_EXHAUSTED;case zr.INTERNAL:return dl.INTERNAL;case zr.UNAVAILABLE:return dl.UNAVAILABLE;case zr.UNAUTHENTICATED:return dl.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return dl.INVALID_ARGUMENT;case zr.NOT_FOUND:return dl.NOT_FOUND;case zr.ALREADY_EXISTS:return dl.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return dl.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return dl.FAILED_PRECONDITION;case zr.ABORTED:return dl.ABORTED;case zr.OUT_OF_RANGE:return dl.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return dl.UNIMPLEMENTED;case zr.DATA_LOSS:return dl.DATA_LOSS;default:return Fr("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return Fr("Unrecognized watch change: "+JSON.stringify(e))},Qf.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){zf(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Ul(r,i,o,s||null)}else if("documentChange"in e){zf(e.documentChange,"documentChange"),zf(e.documentChange.document,"documentChange.name"),zf(e.documentChange.document.name,"documentChange.document.name"),zf(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new Rs(c,l,{},void 0,u.document,function(e){return n.fromValue(e)}),h=u.targetIds||[],p=u.removedTargetIds||[];t=new Ll(h,p,f.key,f)}else if("documentDelete"in e){zf(e.documentDelete,"documentDelete"),zf(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):ao.forDeletedDoc(),f=new Fs(c,l),p=d.removedTargetIds||[],t=new Ll([],p,f.key,f)}else if("documentRemove"in e){zf(e.documentRemove,"documentRemove"),zf(e.documentRemove.document,"documentRemove");var m=e.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[],t=new Ll([],p,c,null)}else{if(!("filter"in e))return Fr("Unknown change type "+JSON.stringify(e));zf(e.filter,"filter"),zf(e.filter.targetId,"filter.targetId");var y=e.filter,v=y.count||0,g=new Lf(v),b=y.targetId;t=new Fl(b,g)}return t},Qf.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Rl.NoChange:"ADD"===e?Rl.Added:"REMOVE"===e?Rl.Removed:"CURRENT"===e?Rl.Current:"RESET"===e?Rl.Reset:Fr("Got unexpected TargetChange.state: "+e)},Qf.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return ao.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?ao.MIN:t.readTime?this.fromVersion(t.readTime):ao.MIN},Qf.prototype.toMutation=function(e){var t,n=this;if(e instanceof ka)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Va)t={delete:this.toName(e.key)};else if(e instanceof Na)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof xa))return Fr("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},Qf.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Ea.NONE;if(e.update){zf(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Na(r,i,o,n)}return new ka(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new Va(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return Ur(!0===n.exists,'Transforms only support precondition "exists == true"'),new xa(r,a)}return Fr("unknown mutation proto: "+JSON.stringify(e))},Qf.prototype.toPrecondition=function(e){return Ur(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fr("Unknown precondition")},Qf.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Ea.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Ea.exists(e.exists):Ea.NONE},Qf.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&0<e.transformResults.length&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new wa(r,i)},Qf.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(Ur(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},Qf.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof _f)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof Df)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof Pf)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw Fr("Unknown transform: "+e.transform)},Qf.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)Ur("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=_f.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Nf(r.map(function(e){return t.fromValue(e)}))}else if("removeAllFromArray"in e)r=e.removeAllFromArray.values||[],n=new Df(r.map(function(e){return t.fromValue(e)}));else if("increment"in e){var i=this.fromValue(e.increment);Ur(i instanceof Ja,"NUMERIC_ADD transform requires a NumberValue"),n=new Pf(i)}else Fr("Unknown transform proto: "+JSON.stringify(e));var o=Vi.fromServerFormat(e.fieldPath);return new ya(o,n)},Qf.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},Qf.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;Ur(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Xl.atPath(this.fromQueryPath(n))},Qf.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(Ur(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Ur(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},Qf.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Ur(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Xl(t,i,s,a,u,c,l)},Qf.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},Qf.prototype.toLabel=function(e){switch(e){case Fu.Listen:return null;case Fu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Fu.LimboResolution:return"limbo-document";default:return Fr("Unrecognized query purpose: "+e)}},Qf.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},Qf.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof tf?t.toUnaryOrFieldFilter(e):Fr("Unrecognized filter: "+JSON.stringify(e))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Qf.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):Fr("Unknown filter: "+JSON.stringify(e)):[]},Qf.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},Qf.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},Qf.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},Qf.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new Ef(r,n)},Qf.prototype.toDirection=function(e){return jf[e.name]},Qf.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return bf.ASCENDING;case"DESCENDING":return bf.DESCENDING;default:return}},Qf.prototype.toOperatorName=function(e){return qf[e.name]},Qf.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Jl.EQUAL;case"GREATER_THAN":return Jl.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Jl.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Jl.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Jl.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Jl.ARRAY_CONTAINS;case"IN":return Jl.IN;case"ARRAY_CONTAINS_ANY":return Jl.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Fr("Unspecified operator");default:return Fr("Unknown operator")}},Qf.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},Qf.prototype.fromFieldPathReference=function(e){return Vi.fromServerFormat(e.fieldPath)},Qf.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},Qf.prototype.fromPropertyOrder=function(e){return new Tf(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},Qf.prototype.fromFieldFilter=function(e){return tf.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},Qf.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Jl.EQUAL){if(e.value.isEqual(os.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Qa.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},Qf.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return tf.create(t,Jl.EQUAL,os.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return tf.create(n,Jl.EQUAL,Qa.INSTANCE);case"OPERATOR_UNSPECIFIED":return Fr("Unspecified filter");default:return Fr("Unknown filter")}},Qf.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},Qf.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return Vi.fromServerFormat(e)});return da.fromArray(t)},Qf);function Qf(e,t){this.databaseId=e,this.options=t}var Hf=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Gf=(Yf.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new Hf,this.queries.set(t,r)),r.listeners.push(e),Ur(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e}):Promise.resolve(r.targetId)},Yf.prototype.unlisten=function(e){return l(this,void 0,void 0,function(){var t,n,r,i;return f(this,function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(i=r.listeners.indexOf(e))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},Yf.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(i)&&(t=!0);a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},Yf.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},Yf.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(e)&&(t=!0)}),t&&this.raiseSnapshotsInSyncEvent()},Yf.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},Yf.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},Yf.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(e){e.next()})},Yf);function Yf(e){this.syncEngine=e,this.queries=new Bs(function(e){return e.canonicalId()}),this.onlineState=ul.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var Xf=($f.prototype.onViewSnapshot=function(e){if(Ur(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==wl.Metadata&&t.push(i)}e=new Al(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},$f.prototype.onError=function(e){this.queryObserver.error(e)},$f.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},$f.prototype.shouldRaiseInitialEvent=function(e,t){if(Ur(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==ul.Offline;return this.options.waitForSyncWhenOnline&&n?(Ur(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===ul.Offline},$f.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},$f.prototype.raiseInitialEvent=function(e){Ur(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},$f);function $f(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=ul.Unknown,this.options=n||{}}var Jf=(Zf.fromSnapshot=function(e,t){for(var n=No(),r=No(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case wl.Added:n=n.add(a.doc.key);break;case wl.Removed:r=r.add(a.doc.key)}}return new Zf(e,n,r)},Zf);function Zf(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}var eh=function(e){this.key=e},th=function(e){this.key=e},nh=(Object.defineProperty(rh.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),rh.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new kl,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var c=i.get(e),l=t instanceof Rs?t:null;l&&(Ur(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?f!==h&&(r.track({type:wl.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:wl.Modified,doc:l}),p=!0,u&&0<n.query.docComparator(l,u)&&(s=!0)):!c&&l?(r.track({type:wl.Added,doc:l}),p=!0):c&&!l&&(r.track({type:wl.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(o=l?(a=a.add(l),h?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:wl.Removed,doc:c})}return Ur(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},rh.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},rh.prototype.applyChanges=function(e,t,n){var r=this;Ur(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort(function(e,t){return function(e,t){function n(e){switch(e){case wl.Added:return 1;case wl.Modified:case wl.Metadata:return 2;case wl.Removed:return 0;default:return Fr("Unknown ChangeType: "+e)}}return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Sl.Synced:Sl.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Al(this.query,e.documentSet,i,o,e.mutatedKeys,s===Sl.Local,u,!1),limboChanges:a}:{limboChanges:a}},rh.prototype.applyOnlineStateChange=function(e){return this.current&&e===ul.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new kl,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},rh.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},rh.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return Ur(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},rh.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=No(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new th(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new eh(e))}),n},rh.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=No();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},rh.prototype.computeInitialSnapshot=function(){return Al.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Sl.Local)},rh);function rh(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=No(),this.mutatedKeys=No(),this.documentSet=new Cl(e.docComparator.bind(e))}var ih=(oh.prototype.run=function(){this.runWithBackOff()},oh.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun(function(){return l(e,void 0,void 0,function(){var e,t,n=this;return f(this,function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.handleTransactionError(e)})})}).catch(function(e){n.handleTransactionError(e)}),[2]})})})},oh.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Kc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},oh.prototype.handleTransactionError=function(e){var t=this;0<this.retries&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return t.runWithBackOff(),Promise.resolve()})):this.deferred.reject(e)},oh.prototype.isRetryableTransactionError=function(e){if("FirebaseError"!==e.name)return!1;var t=e.code;return"aborted"===t||"failed-precondition"===t||!gl(t)},oh);function oh(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new Hc(this.asyncQueue,zi.RetryTransaction)}var ah="SyncEngine",sh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},uh=function(e){this.key=e,this.receivedDocument=!1},ch=(Object.defineProperty(lh.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),lh.prototype.subscribe=function(e){Ur(null!==e,"SyncEngine listener cannot be null"),Ur(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},lh.prototype.listen=function(e){return l(this,void 0,void 0,function(){var t,n,r,i,o;return f(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},lh.prototype.initializeViewAndComputeSnapshot=function(e,t){return l(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return f(this,function(l){switch(l.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=l.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=l.sent(),o=new nh(n,i),a=o.computeDocChanges(r),s=xl.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==ul.Offline),Ur(0===(u=o.applyChanges(a,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),Ur(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new sh(n,e.targetId,o),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,u.snapshot]}})})},lh.prototype.synchronizeViewAndComputeSnapshot=function(e){return l(this,void 0,void 0,function(){var t,n,r;return f(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}})})},lh.prototype.unlisten=function(e){return l(this,void 0,void 0,function(){var t,n=this;return f(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Ur(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)}).catch(fc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},lh.prototype.write=function(e,t){return l(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},lh.prototype.runTransaction=function(e,t,n){new ih(e,this.remoteStore,t,n).run()},lh.prototype.applyRemoteEvent=function(e){return l(this,void 0,void 0,function(){var t,n=this;return f(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),Xr(e.targetChanges,function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(Ur(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<t.addedDocuments.size?r.receivedDocument=!0:0<t.modifiedDocuments.size?Ur(r.receivedDocument,"Received change for limbo target document without add."):0<t.removedDocuments.size&&(Ur(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,fc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},lh.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===ll.RemoteStore||!this.isPrimary&&t===ll.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);Ur(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},lh.prototype.rejectListen=function(e,t){return l(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return f(this,function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new uo(qi.comparator)).insert(r,new Fs(r,ao.forDeletedDoc())),o=No().add(r),a=new Ol(ao.MIN,{},new vo(vi),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Ur(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return u.removeAndCleanupQuery(s)}).catch(fc)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,t),c.label=3;case 3:return[2]}})})},lh.prototype.applyBatchState=function(e,t,n){return l(this,void 0,void 0,function(){var r;return f(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(Rr(ah,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):Fr("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},lh.prototype.applySuccessfulWrite=function(e){return l(this,void 0,void 0,function(){var t,n;return f(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,fc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},lh.prototype.rejectFailedWrite=function(e,t){return l(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,fc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},lh.prototype.registerPendingWritesCallback=function(e){return l(this,void 0,void 0,function(){var t,n;return f(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Rr(ah,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?e.resolve():((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n)),[2]}})})},lh.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach(function(e){e.resolve()}),this.pendingWritesCallbacks.delete(e)},lh.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach(function(t){t.forEach(function(t){t.reject(new Wr(zr.CANCELLED,e))})}),this.pendingWritesCallbacks.clear()},lh.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new uo(vi)).insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},lh.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(Ur(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},lh.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},lh.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},lh.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof eh?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof th?(Rr(ah,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):Fr("Unknown limbo change: "+JSON.stringify(i))}},lh.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){Rr(ah,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Xl.atPath(t.path);this.limboResolutionsByTarget[n]=new uh(t),this.remoteStore.listen(new zu(r,n,Fu.LimboResolution,Ni.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},lh.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},lh.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return l(this,void 0,void 0,function(){var n,r,i,o=this;return f(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Jf.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},lh.prototype.assertSubscribed=function(e){Ur(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},lh.prototype.handleCredentialChange=function(e){return l(this,void 0,void 0,function(){var t,n;return f(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},lh.prototype.applyPrimaryState=function(e){return l(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u=this;return f(this,function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Yr(this.queryViewsByTarget,function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then(function(){return u.unlisten(t.query)}),u.remoteStore.unlisten(t.targetId)}),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})},lh.prototype.resetLimboDocuments=function(){var e=this;Yr(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new uo(qi.comparator)},lh.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return l(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c;return f(this,function(l){switch(l.label){case 0:t=[],n=[],r=0,i=e,l.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return l.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=l.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=l.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return Ur(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Ur(!!(c=l.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=l.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:l.sent(),l.label=9;case 9:t.push(a),l.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}})})},lh.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},lh.prototype.applyTargetState=function(e,t,n){return l(this,void 0,void 0,function(){var r,i,o,a,s;return f(this,function(u){switch(u.label){case 0:if(this.isPrimary)return Rr(ah,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return u.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=u.sent(),i=Ol.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return u.sent(),[3,11];case 4:return function(e){return e.code===zr.DATA_LOSS&&e.message===Hs}(o=u.sent())?(a=[],Yr(this.queryViewsByTarget,function(e){return a.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]):[3,6];case 5:return u.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return s=this.queryViewsByTarget[e],this.removeAndCleanupQuery(s),[4,this.localStore.releaseQuery(s.query,!0)];case 9:return u.sent(),this.syncEngineListener.onWatchError(s.query,n),[3,11];case 10:Fr("Unexpected target state: "+t),u.label=11;case 11:return[2]}})})},lh.prototype.applyActiveTargetsChange=function(e,t){return l(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h=this;return f(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(l=r[n],Ur(!this.queryViewsByTarget[l],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(l)]):[3,6];case 2:return Ur(!!(i=p.sent()),"Query data for active target "+l+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return f(this,function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then(function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)}).catch(fc)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},s=this,u=0,c=t,p.label=7;case 7:return u<c.length?(l=c[u],[5,a(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},lh.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},lh.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},lh.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?No().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:No()},lh);function lh(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Bs(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new uo(qi.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new bc,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Go.forSyncEngine(),this.isPrimary=void 0,this.onlineState=ul.Unknown}var fh=(hh.prototype.isAuthenticated=function(){return null!=this.uid},hh.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},hh.prototype.isEqual=function(e){return e.uid===this.uid},hh.UNAUTHENTICATED=new hh(null),hh.GOOGLE_CREDENTIALS=new hh("google-credentials-uid"),hh.FIRST_PARTY=new hh("first-party-uid"),hh);function hh(e){this.uid=e}var ph="SharedClientState",dh="firestore_clients",mh="firestore_mutations",yh="firestore_targets",vh=(gh.fromWebStorageEntry=function(e,t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Wr(r.error.code,r.error.message)),i?new gh(e,t,r.state,o):(Mr(ph,"Failed to parse mutation state for ID '"+t+"': "+n),null)},gh.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},gh);function gh(e,t,n,r){this.user=e,this.batchId=t,this.state=n,Ur(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var bh=(wh.fromWebStorageEntry=function(e,t){var n=JSON.parse(t),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Wr(n.error.code,n.error.message)),r?new wh(e,n.state,i):(Mr(ph,"Failed to parse target state for ID '"+e+"': "+t),null)},wh.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},wh);function wh(e,t,n){this.targetId=e,this.state=t,Ur(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var Eh=(Sh.fromWebStorageEntry=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Do(),o=0;r&&o<n.activeTargetIds.length;++o)r=Qc(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Sh(e,i):(Mr(ph,"Failed to parse client data for instance '"+e+"': "+t),null)},Sh);function Sh(e,t){this.clientId=e,this.activeTargetIds=t}var Th=(Ch.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&t.onlineState in ul&&"string"==typeof t.clientId?new Ch(t.clientId,ul[t.onlineState]):(Mr(ph,"Failed to parse online state: "+e),null)},Ch);function Ch(e,t){this.clientId=e,this.onlineState=t}var Ih=(kh.prototype.addQueryTarget=function(e){Ur(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},kh.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},kh.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},kh);function kh(){this.activeTargetIds=Do()}var _h=(Ah.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},Ah.prototype.start=function(){return l(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return f(this,function(f){switch(f.label){case 0:return Ur(!this.started,"WebStorageSharedClientState already started"),Ur(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Ur(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Eh.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,c=this.earlyEvents;u<c.length;u++)l=c[u],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},Ah.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},Ah.prototype.getAllActiveQueryTargets=function(){var e=Do();return Xr(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},Ah.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},Ah.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},Ah.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},Ah.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=bh.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},Ah.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},Ah.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},Ah.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},Ah.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},Ah.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},Ah.prototype.setOnlineState=function(e){this.persistOnlineState(e)},Ah.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},Ah.prototype.getItem=function(e){var t=this.storage.getItem(e);return Rr(ph,"READ",e,t),t},Ah.prototype.setItem=function(e,t){Rr(ph,"SET",e,t),this.storage.setItem(e,t)},Ah.prototype.removeItem=function(e){Rr(ph,"REMOVE",e),this.storage.removeItem(e)},Ah.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(Rr(ph,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return l(t,void 0,void 0,function(){var t,n,r,i,o,a;return f(this,function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(Ur(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=Ni.INVALID;if(null!=e)try{var n=JSON.parse(e);Ur("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){Mr(ph,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Ni.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(Ah.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),Ah.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},Ah.prototype.persistMutationState=function(e,t,n){var r=new vh(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},Ah.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},Ah.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:ul[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},Ah.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new bh(e,t,n);this.setItem(r,i.toWebStorageJSON())},Ah.prototype.toWebStorageClientStateKey=function(e){return Ur(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),dh+"_"+this.persistenceKey+"_"+e},Ah.prototype.toWebStorageQueryTargetMetadataKey=function(e){return yh+"_"+this.persistenceKey+"_"+e},Ah.prototype.toWebStorageMutationBatchKey=function(e){var t=mh+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},Ah.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},Ah.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return Ur(null!==n,"Cannot parse client state key '"+e+"'"),Eh.fromWebStorageEntry(n,t)},Ah.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);Ur(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vh.fromWebStorageEntry(new fh(i),r,t)},Ah.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);Ur(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return bh.fromWebStorageEntry(r,t)},Ah.prototype.fromWebStorageOnlineState=function(e){return Th.fromWebStorageEntry(e)},Ah.prototype.handleMutationBatchEvent=function(e){return l(this,void 0,void 0,function(){return f(this,function(t){return e.user.uid!==this.currentUser.uid?(Rr(ph,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},Ah.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},Ah.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(e){return l(n,void 0,void 0,function(){return f(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return l(n,void 0,void 0,function(){return f(this,function(t){return i.has(e)||a.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},Ah.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},Ah);function Ah(e,t,n,r,i){if(this.queue=e,this.platform=t,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!Ah.isAvailable(this.platform))throw new Wr(zr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Ih,this.clientStateKeyRe=new RegExp("^"+dh+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+mh+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+yh+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Nh=(Oh.prototype.addPendingMutation=function(e){},Oh.prototype.updateMutationState=function(e,t,n){},Oh.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},Oh.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},Oh.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},Oh.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Oh.prototype.clearQueryState=function(e){delete this.queryState[e]},Oh.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Oh.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Oh.prototype.start=function(){return this.localState=new Ih,Promise.resolve()},Oh.prototype.handleUserChange=function(e,t,n){},Oh.prototype.setOnlineState=function(e){},Oh.prototype.shutdown=function(){},Oh.prototype.writeSequenceNumber=function(e){},Oh);function Oh(){this.localState=new Ih,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var Dh="FirestoreClient",xh=(Ph.prototype.lruParams=function(){return $u.withCacheSize(this.cacheSizeBytes)},Ph);function Ph(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}var Rh=function(){},Mh=(Lh.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new Ki,r=new Ki,i=!1;return this.credentials.setChangeListener(function(o){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(o)}):(i=!0,t.initializePersistence(e,r,o).then(function(e){return t.initializeRest(o,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},Lh.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},Lh.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof xh?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},Lh.prototype.canFallback=function(e){return e instanceof Wr?e.code===zr.FAILED_PRECONDITION||e.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},Lh.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Wr(zr.FAILED_PRECONDITION,"The client has already been terminated.")},Lh.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=cc.buildStoragePrefix(this.databaseInfo),i=new Kf(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return l(n,void 0,void 0,function(){var n,o;return f(this,function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!_h.isAvailable(this.platform))throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new _h(this.asyncQueue,this.platform,r,this.clientId,e):new Nh,[4,cc.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}})})})},Lh.prototype.startMemoryPersistence=function(){return this.persistence=Rc.createEagerPersistence(this.clientId),this.sharedClientState=new Nh,Promise.resolve(null)},Lh.prototype.initializeRest=function(e,t){var n=this;return Rr(Dh,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return l(n,void 0,void 0,function(){var n,i,o,a,s,u=this;return f(this,function(c){switch(c.label){case 0:return this.localStore=new Cc(this.persistence,e),t&&(this.lruScheduler=new Zu(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new al(this.asyncQueue,r,this.credentials,i),a=function(e){return u.syncEngine.applyOnlineStateChange(e,ll.RemoteStore)},s=function(e){return u.syncEngine.applyOnlineStateChange(e,ll.SharedClientState)},this.remoteStore=new Ql(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new ch(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Gf(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return l(u,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return l(u,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}})})})];case 4:return c.sent(),[2]}})})})},Lh.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),Rr(Dh,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},Lh.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},Lh.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return l(e,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},Lh.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new Ki;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.registerPendingWritesCallback(t)}),t.promise},Lh.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new Xf(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},Lh.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},Lh.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof Rs)return e;if(e instanceof Fs)return null;throw new Wr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},Lh.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=No(),r=new nh(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},Lh.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new Ki;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},Lh.prototype.databaseId=function(){return this.databaseInfo.databaseId},Lh.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()})},Lh.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(Lh.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Lh.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new Ki;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()}),n.promise},Lh);function Lh(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=mi.newId()}var Fh=(Uh.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},Uh.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},Uh.prototype.mute=function(){this.muted=!0},Uh.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},Uh);function Uh(e){this.observer=e,this.muted=!1}var Vh=(jh.documentId=function(){return jh._DOCUMENT_ID},jh.prototype.isEqual=function(e){if(!(e instanceof jh))throw hi("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},jh._DOCUMENT_ID=new jh(Vi.keyField().canonicalString()),jh);function jh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new Wr(zr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+di(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(ni("FieldPath","string",n,e[n]),0===e[n].length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}var qh=new RegExp("[~\\*/\\[\\]]"),Bh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},zh=(Wh.prototype.getToken=function(){return Promise.resolve(null)},Wh.prototype.invalidateToken=function(){},Wh.prototype.setChangeListener=function(e){Ur(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(fh.UNAUTHENTICATED)},Wh.prototype.removeChangeListener=function(){Ur(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Wh);function Wh(){this.changeListener=null}var Kh=(Qh.prototype.getToken=function(){var e=this;Ur(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new Wr(zr.ABORTED,"getToken aborted due to token change.");return n?(Ur("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Bh(n.accessToken,e.currentUser)):null})},Qh.prototype.invalidateToken=function(){this.forceRefresh=!0},Qh.prototype.setChangeListener=function(e){Ur(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(this.currentUser)},Qh.prototype.removeChangeListener=function(){Ur(null!=this.tokenListener,"removeChangeListener() called twice"),Ur(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Qh.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return Ur(null===e||"string"==typeof e,"Received invalid UID: "+e),new fh(e)},Qh);function Qh(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=fh.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var Hh=(Object.defineProperty(Gh.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),Gh);function Gh(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=fh.FIRST_PARTY}var Yh=(Xh.prototype.getToken=function(){return Promise.resolve(new Hh(this.gapi,this.sessionIndex))},Xh.prototype.setChangeListener=function(e){e(fh.FIRST_PARTY)},Xh.prototype.removeChangeListener=function(){},Xh.prototype.invalidateToken=function(){},Xh);function Xh(e,t){this.gapi=e,this.sessionIndex=t}function $h(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Jh=(Zh.delete=function(){return Jr("FieldValue.delete",arguments),tp.instance},Zh.serverTimestamp=function(){return Jr("FieldValue.serverTimestamp",arguments),ip.instance},Zh.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ei("FieldValue.arrayUnion",arguments,1),new sp(e)},Zh.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ei("FieldValue.arrayRemove",arguments,1),new lp(e)},Zh.increment=function(e){return ni("FieldValue.increment","number",1,e),Zr("FieldValue.increment",arguments,1),new pp(e)},Zh.prototype.isEqual=function(e){return this===e},Zh);function Zh(e){this._methodName=e}var ep,tp=(c(np,ep=Jh),np.instance=new np,np);function np(){return ep.call(this,"FieldValue.delete")||this}var rp,ip=(c(op,rp=Jh),op.instance=new op,op);function op(){return rp.call(this,"FieldValue.serverTimestamp")||this}var ap,sp=(c(up,ap=Jh),up);function up(e){var t=ap.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}var cp,lp=(c(fp,cp=Jh),fp);function fp(e){var t=cp.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}var hp,pp=(c(dp,hp=Jh),dp);function dp(e){var t=hp.call(this,"FieldValue.increment")||this;return t._operand=e,t}var mp=Qr(Jh,"Use FieldValue.<field>() instead."),yp=/^__.*__$/,vp=(gp.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Na(e,this.data,this.fieldMask,t)):n.push(new ka(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new xa(e,this.fieldTransforms)),n},gp);function gp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}var bp,wp,Ep=(Sp.prototype.toMutations=function(e,t){var n=[new Na(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new xa(e,this.fieldTransforms)),n},Sp);function Sp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function Tp(e){switch(e){case bp.Set:case bp.MergeSet:case bp.Update:return!0;case bp.Argument:return!1;default:throw Fr("Unexpected case for UserDataSource: "+e)}}(wp=bp=bp||{})[wp.Set=0]="Set",wp[wp.Update=1]="Update",wp[wp.MergeSet=2]="MergeSet",wp[wp.Argument=3]="Argument";var Cp=(Ip.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),n=new Ip(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},Ip.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),n=new Ip(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Ip.prototype.childContextForArray=function(e){return new Ip(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Ip.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Wr(zr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},Ip.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},Ip.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},Ip.prototype.validatePathSegment=function(e){if(Tp(this.dataSource)&&yp.test(e))throw this.createError("Document fields cannot begin and end with __")},Ip);function Ip(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var kp=function(e,t){this.databaseId=e,this.key=t},_p=(Ap.prototype.parseSetData=function(e,t){var n=new Cp(bp.Set,e,Vi.EMPTY_PATH);Op("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new vp(r,null,n.fieldTransforms)},Ap.prototype.parseMergeData=function(e,t,n){var r=new Cp(bp.MergeSet,e,Vi.EMPTY_PATH);Op("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new vo(Vi.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Vh)f=l._internalPath;else{if("string"!=typeof l)throw Fr("Expected stringOrFieldPath to be a string or a FieldPath");f=xp(e,l)}if(!r.contains(f))throw new Wr(zr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=da.fromSet(s),o=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=da.fromArray(r.fieldMask),o=r.fieldTransforms;return new vp(a,i,o)},Ap.prototype.parseUpdateData=function(e,t){var n=this,r=new Cp(bp.Update,e,Vi.EMPTY_PATH);Op("Data must be an object, but it was:",r,t);var i=new vo(Vi.comparator),o=ks.EMPTY;Xr(t,function(t,a){var s=xp(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof tp)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=da.fromSet(i);return new Ep(o,a,r.fieldTransforms)},Ap.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new Cp(bp.Update,e,Vi.EMPTY_PATH),o=[Dp(e,t)],a=[n];if(r.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Dp(e,r[s])),a.push(r[s+1]);var u=new vo(Vi.comparator),c=ks.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof tp)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=da.fromSet(u);return new Ep(c,d,i.fieldTransforms)},Ap.prototype.parseQueryValue=function(e,t){var n=new Cp(bp.Argument,e,Vi.EMPTY_PATH),r=this.parseData(t,n);return Ur(null!=r,"Parsed data should not be null."),Ur(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},Ap.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Pp(e);throw t.createError(n)}},Ap.prototype.parseData=function(e,t){if(Np(e=this.runPreConverter(e,t)))return Op("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Jh)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},Ap.prototype.parseObject=function(e,t){var n=this,r=new uo(vi);return $r(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Xr(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new ks(r)},Ap.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Qa.INSTANCE),n.push(s),r++}return new Ns(n)},Ap.prototype.parseSentinelFieldValue=function(e,t){if(!Tp(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof tp){if(t.dataSource!==bp.MergeSet)throw t.dataSource===bp.Update?(Ur(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ip)t.fieldTransforms.push(new ya(t.path,_f.instance));else if(e instanceof sp){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new Nf(n);t.fieldTransforms.push(new ya(t.path,r))}else if(e instanceof lp){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new Df(n);t.fieldTransforms.push(new ya(t.path,i))}else if(e instanceof pp){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new Pf(o);t.fieldTransforms.push(new ya(t.path,a))}else Fr("Unknown FieldValue type: "+e)},Ap.prototype.parseScalarValue=function(e,t){if(null===e)return Qa.INSTANCE;if("number"==typeof e)return Qc(e)?new ns(e):new os(e);if("boolean"==typeof e)return Ya.of(e);if("string"==typeof e)return new us(e);if(e instanceof Date)return new fs(io.fromDate(e));if(e instanceof io)return new fs(new io(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Gl)return new Ts(e);if(e instanceof Si)return new vs(e);if(e instanceof kp)return new ws(e.databaseId,e.key);throw t.createError("Unsupported field value: "+ci(e))},Ap.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new Cp(bp.Argument,e,Vi.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},Ap);function Ap(e){this.preConverter=e}function Np(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof io||e instanceof Gl||e instanceof Si||e instanceof kp||e instanceof Jh)}function Op(e,t,n){if(!Np(n)||!ui(n)){var r=ci(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Dp(e,t){if(t instanceof Vh)return t._internalPath;if("string"==typeof t)return xp(e,t);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function xp(e,t){try{return function(e){if(0<=e.search(qh))throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Vh.bind.apply(Vh,[void 0].concat(e.split("."))))}catch(t){throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Pp(t);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Pp(e){return e instanceof Error?e.message:e.toString()}var Rp=$u.COLLECTION_DISABLED,Mp=(Lp.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},Lp);function Lp(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Wr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else ii("settings","non-empty string","host",e.host),this.host=e.host,oi("settings","boolean","ssl",e.ssl),this.ssl=Gr(e.ssl,!0);if(fi("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),oi("settings","object","credentials",e.credentials),this.credentials=e.credentials,oi("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?Mr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&Mr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Gr(e.timestampsInSnapshots,!0),oi("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=$u.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Rp&&e.cacheSizeBytes<$u.MINIMUM_CACHE_SIZE_BYTES)throw new Wr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+$u.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}oi("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}var Fp=(Up.prototype.settings=function(e){if(Zr("Firestore.settings",arguments,1),ni("Firestore.settings","object",1,e),Hr(e,"persistence"))throw new Wr(zr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Mp(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=t).credentials&&(this._credentials=function(e){if(!e)return new zh;switch(e.type){case"gapi":var t=e.client;return Ur(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Yh(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Wr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Up.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Up.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Up.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&Mr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=Gr(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new xh(this._settings.cacheSizeBytes,t))},Up.prototype.clearPersistence=function(){var e=this,t=cc.buildStoragePrefix(this.makeDatabaseInfo()),n=new Ki;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return l(e,void 0,void 0,function(){var e;return f(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Wr(zr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,cc.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},Up.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Up.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Up.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Up.prototype._onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),$h(e))return this.onSnapshotsInSyncInternal(e);ni("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},Up.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Fh({next:function(){e.next&&e.next()},error:function(e){throw Fr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},Up.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Rh),this._firestoreClient},Up.prototype.makeDatabaseInfo=function(){return new Ii(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Up.prototype.configureClient=function(e){Ur(!!this._settings.host,"FirestoreSettings.host is not set"),Ur(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Mh(Vr.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},Up.prototype.createDataConverter=function(e){return new _p(function(t){if(t instanceof zp){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new Wr(zr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new kp(e,t._key)}return t})},Up.databaseIdFromApp=function(e){var t=e.options;if(!Hr(t,"projectId"))throw new Wr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new Wr(zr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new _i(n)},Object.defineProperty(Up.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Wr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Up.prototype.collection=function(e){return Zr("Firestore.collection",arguments,1),ni("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new rd(Mi.fromString(e),this)},Up.prototype.doc=function(e){return Zr("Firestore.doc",arguments,1),ni("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),zp.forPath(Mi.fromString(e),this)},Up.prototype.collectionGroup=function(e){if(Zr("Firestore.collectionGroup",arguments,1),ni("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Jp(new Xl(Mi.EMPTY_PATH,e),this)},Up.prototype.runTransaction=function(e){var t=this;return Zr("Firestore.runTransaction",arguments,1),ni("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Vp(t,n))})},Up.prototype.batch=function(){return this.ensureClientConfigured(),new qp(this)},Object.defineProperty(Up,"logLevel",{get:function(){switch(xr()){case Sr.DEBUG:return"debug";case Sr.ERROR:return"error";case Sr.SILENT:return"silent";default:return Fr("Unknown log level: "+xr())}},enumerable:!0,configurable:!0}),Up.setLogLevel=function(e){switch(Zr("Firestore.setLogLevel",arguments,1),ni("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Pr(Sr.DEBUG);break;case"error":Pr(Sr.ERROR);break;case"silent":Pr(Sr.SILENT);break;default:throw new Wr(zr.INVALID_ARGUMENT,"Invalid log level: "+e)}},Up.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Up);function Up(e){var t=this;if(this._firebaseApp=null,this._queue=new Gi,this.INTERNAL={delete:function(){return l(t,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}})})}},"object"==typeof e.options){var n=e;this._firebaseApp=n,this._databaseId=Up.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Kh(n)}else{var r=e;if(!r.projectId)throw new Wr(zr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new _i(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new zh}this._settings=new Mp({}),this._dataConverter=this.createDataConverter(this._databaseId)}var Vp=(jp.prototype.get=function(e){var t=this;Zr("Transaction.get",arguments,1);var n=ud("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Fr("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Fs)return new Hp(t._firestore,n._key,null,!1,!1);if(r instanceof Rs)return new Hp(t._firestore,n._key,r,!1,!1);throw Fr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},jp.prototype.set=function(e,t,n){ti("Transaction.set",arguments,2,3);var r=ud("Transaction.set",e,this._firestore),i=(n=od("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},jp.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof t||t instanceof Vh?(ei("Transaction.update",arguments,3),r=ud("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(Zr("Transaction.update",arguments,2),r=ud("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},jp.prototype.delete=function(e){Zr("Transaction.delete",arguments,1);var t=ud("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},jp);function jp(e,t){this._firestore=e,this._transaction=t}var qp=(Bp.prototype.set=function(e,t,n){ti("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=ud("WriteBatch.set",e,this._firestore),i=(n=od("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,Ea.NONE)),this},Bp.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof t||t instanceof Vh?(ei("WriteBatch.update",arguments,3),r=ud("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(Zr("WriteBatch.update",arguments,2),r=ud("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,Ea.exists(!0))),this},Bp.prototype.delete=function(e){Zr("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=ud("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Va(t._key,Ea.NONE)),this},Bp.prototype.commit=function(){return l(this,void 0,void 0,function(){return f(this,function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},Bp.prototype.verifyNotCommitted=function(){if(this._committed)throw new Wr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Bp);function Bp(e){this._firestore=e,this._mutations=[],this._committed=!1}var zp=(Wp.forPath=function(e,t){if(e.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new Wp(new qi(e),t)},Object.defineProperty(Wp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"parent",{get:function(){return new rd(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Wp.prototype.collection=function(e){if(Zr("DocumentReference.collection",arguments,1),ni("DocumentReference.collection","non-empty string",1,e),!e)throw new Wr(zr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Mi.fromString(e);return new rd(this._key.path.child(t),this.firestore)},Wp.prototype.isEqual=function(e){if(!(e instanceof Wp))throw hi("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},Wp.prototype.set=function(e,t){ti("DocumentReference.set",arguments,1,2);var n=(t=od("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Ea.NONE))},Wp.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof e||e instanceof Vh?(ei("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(Zr("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Ea.exists(!0)))},Wp.prototype.delete=function(){return Zr("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Va(this._key,Ea.NONE)])},Wp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ti("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||$h(e[i])||(fi("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),oi("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=$h(e[i])?e[i]:(ni("DocumentReference.onSnapshot","function",i,e[i]),ri("DocumentReference.onSnapshot","function",i+1,e[i+1]),ri("DocumentReference.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},Wp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Fh({next:function(e){if(t.next){Ur(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Hp(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Xl.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},Wp.prototype.get=function(e){var t=this;return ti("DocumentReference.get",arguments,0,1),sd("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new Hp(t.firestore,t._key,e,!0,e instanceof Rs&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},Wp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new Wr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new Wr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},Wp);function Wp(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}var Kp=(Qp.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},Qp);function Qp(e,t){this.hasPendingWrites=e,this.fromCache=t}var Hp=(Gp.prototype.data=function(e){return ti("DocumentSnapshot.data",arguments,0,1),e=ad("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),qa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},Gp.prototype.get=function(e,t){if(ti("DocumentSnapshot.get",arguments,1,2),t=ad("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Dp("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,qa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(Gp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Gp.prototype,"ref",{get:function(){return new zp(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Gp.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(Gp.prototype,"metadata",{get:function(){return new Kp(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),Gp.prototype.isEqual=function(e){if(!(e instanceof Gp))throw hi("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},Gp.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},Gp.prototype.convertValue=function(e,t){if(e instanceof ks)return this.convertObject(e,t);if(e instanceof Ns)return this.convertArray(e,t);if(e instanceof ws){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||Mr("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new zp(n,this._firestore)}return e.value(t)},Gp.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},Gp);function Gp(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var Yp,Xp=(c($p,Yp=Hp),$p.prototype.data=function(e){var t=Yp.prototype.data.call(this,e);return Ur("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},$p);function $p(){return null!==Yp&&Yp.apply(this,arguments)||this}var Jp=(Zp.prototype.where=function(e,t,n){Zr("Query.where",arguments,3),li("Query.where",3,n),"in"!==t&&"array-contains-any"!==t&&function(e,t,n,r){if(!t.some(function(e){return e===r}))throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+ci(r)+" provided to function Query.where() for its "+pi(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var r,i=Dp("Query.where",e),o=Jl.fromString(t);if(i.isKeyField()){if(o===Jl.ARRAY_CONTAINS||o===Jl.ARRAY_CONTAINS_ANY)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===Jl.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Ns(a)}else r=this.parseDocumentIdValue(n)}else o!==Jl.IN&&o!==Jl.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var l=tf.create(i,o,r);return this.validateNewFilter(l),new Zp(this._query.addFilter(l),this.firestore)},Zp.prototype.orderBy=function(e,t){var n;if(ti("Query.orderBy",arguments,1,2),ri("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)n=bf.ASCENDING;else{if("desc"!==t)throw new Wr(zr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");n=bf.DESCENDING}if(null!==this._query.startAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Dp("Query.orderBy",e),i=new Tf(r,n);return this.validateNewOrderBy(i),new Zp(this._query.addOrderBy(i),this.firestore)},Zp.prototype.limit=function(e){if(Zr("Query.limit",arguments,1),ni("Query.limit","number",1,e),e<=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new Zp(this._query.withLimit(e),this.firestore)},Zp.prototype.startAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new Zp(this._query.withStartAt(r),this.firestore)},Zp.prototype.startAfter=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new Zp(this._query.withStartAt(r),this.firestore)},Zp.prototype.endBefore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new Zp(this._query.withEndAt(r),this.firestore)},Zp.prototype.endAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new Zp(this._query.withEndAt(r),this.firestore)},Zp.prototype.isEqual=function(e){if(!(e instanceof Zp))throw hi("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},Zp.prototype.boundFromDocOrFields=function(e,t,n,r){if(li(e,1,t),t instanceof Hp){if(0<n.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new Wr(zr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},Zp.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new ws(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof ds)throw new Wr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ef(r,n)},Zp.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Mi.fromString(a));if(!qi.isDocumentKey(s))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new qi(s);i.push(new ws(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new Ef(i,n)},Zp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ti("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||$h(e[i])||(fi("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),oi("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=$h(e[i])?e[i]:(ni("Query.onSnapshot","function",i,e[i]),ri("Query.onSnapshot","function",i+1,e[i+1]),ri("Query.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},Zp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Fh({next:function(e){t.next&&t.next(new ed(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},Zp.prototype.get=function(e){var t=this;return ti("Query.get",arguments,0,1),sd("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new ed(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},Zp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new Wr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},Zp.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Mi.fromString(e));if(!qi.isDocumentKey(t))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new ws(this.firestore._databaseId,new qi(t))}if(e instanceof zp){var n=e;return new ws(this.firestore._databaseId,n._key)}throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ci(e)+".")},Zp.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=e.indexOf(null))throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(0<e.filter(function(e){return Number.isNaN(e)}).length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},Zp.prototype.validateNewFilter=function(e){if(e instanceof tf){var t=[Jl.ARRAY_CONTAINS,Jl.ARRAY_CONTAINS_ANY],n=[Jl.IN,Jl.ARRAY_CONTAINS_ANY],r=0<=t.indexOf(e.op),i=0<=n.indexOf(e.op);if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},Zp.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},Zp.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},Zp);function Zp(e,t){this._query=e,this.firestore=t}var ed=(Object.defineProperty(td.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(td.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(td.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),td.prototype.forEach=function(e,t){var n=this;ti("QuerySnapshot.forEach",arguments,1,2),ni("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(td.prototype,"query",{get:function(){return new Jp(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),td.prototype.docChanges=function(e){e&&(fi("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),oi("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Wr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var o=new Xp(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return Ur(t.type===wl.Added,"Invalid event type for first snapshot"),Ur(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==wl.Metadata}).map(function(t){var r=new Xp(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==wl.Added&&(Ur(0<=(i=o.indexOf(t.doc.key)),"Index for document not found"),o=o.delete(t.doc.key)),t.type!==wl.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case wl.Added:return"added";case wl.Modified:case wl.Metadata:return"modified";case wl.Removed:return"removed";default:return Fr("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},td.prototype.isEqual=function(e){if(!(e instanceof td))throw hi("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},td.prototype.convertToDocumentImpl=function(e){return new Xp(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},td);function td(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Kp(n.hasPendingWrites,n.fromCache)}["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(ed.prototype.docChanges,e,{get:function(){return function(){throw new Wr(zr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var nd,rd=(c(id,nd=Jp),Object.defineProperty(id.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(id.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new zp(new qi(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(id.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),id.prototype.doc=function(e){if(ti("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=mi.newId()),ni("CollectionReference.doc","non-empty string",1,e),""===e)throw new Wr(zr.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Mi.fromString(e);return zp.forPath(this._query.path.child(t),this.firestore)},id.prototype.add=function(e){Zr("CollectionReference.add",arguments,1),ni("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},id);function id(e,t){var n=nd.call(this,Xl.atPath(e),t)||this;if(e.length%2!=1)throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}function od(e,t){if(void 0===t)return{merge:!1};if(fi(e,t,["merge","mergeFields"]),oi(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+ci(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+ci(r[o]))}(e,t,n,r,i)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"==typeof e||e instanceof Vh}),void 0!==t.mergeFields&&void 0!==t.merge)throw new Wr(zr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ad(e,t){return void 0===t?{}:(fi(e,t,["serverTimestamps"]),ai(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function sd(e,t){ri(e,"object",1,t),t&&(fi(e,t,["source"]),ai(e,0,"source",t.source,["default","server","cache"]))}function ud(e,t,n){if(t instanceof zp){if(t.firestore!==n)throw new Wr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw hi(e,"DocumentReference",1,t)}var cd=Qr(Fp,"Use firebase.firestore() instead."),ld=Qr(Vp,"Use firebase.firestore().runTransaction() instead."),fd=Qr(qp,"Use firebase.firestore().batch() instead."),hd=Qr(zp,"Use firebase.firestore().doc() instead."),pd=Qr(Hp),dd=Qr(Xp),md=Qr(Jp),yd=Qr(ed),vd=Qr(rd,"Use firebase.firestore().collection() instead."),gd={Firestore:cd,GeoPoint:Gl,Timestamp:io,Blob:Ci,Transaction:ld,WriteBatch:fd,DocumentReference:hd,DocumentSnapshot:pd,Query:md,QueryDocumentSnapshot:dd,QuerySnapshot:yd,CollectionReference:vd,FieldPath:Vh,FieldValue:mp,setLogLevel:Fp.setLogLevel,CACHE_SIZE_UNLIMITED:Rp},bd=(wd.prototype.addCallback=function(e){},wd.prototype.shutdown=function(){},wd);function wd(){}var Ed="ConnectivityMonitor",Sd=(Td.prototype.addCallback=function(e){this.callbacks.push(e)},Td.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},Td.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},Td.prototype.onNetworkAvailable=function(){Rr(Ed,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},Td.prototype.onNetworkUnavailable=function(){Rr(Ed,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},Td.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},Td);function Td(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var Cd=(Id.prototype.onOpen=function(e){Ur(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},Id.prototype.onClose=function(e){Ur(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},Id.prototype.onMessage=function(e){Ur(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},Id.prototype.close=function(){this.closeFn()},Id.prototype.send=function(e){this.sendFn(e)},Id.prototype.callOnOpen=function(){Ur(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Id.prototype.callOnClose=function(e){Ur(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},Id.prototype.callOnMessage=function(e){Ur(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},Id);function Id(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}var kd="Connection",_d={BatchGetDocuments:"batchGet",Commit:"commit"},Ad="gl-js/ fire/"+Or,Nd=(Od.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Ad},Od.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(o,a){var s=new Nr;s.listenOnce(_r.COMPLETE,function(){try{switch(s.getLastErrorCode()){case kr.NO_ERROR:var t=s.getResponseJson();Rr(kd,"XHR received:",JSON.stringify(t)),o(t);break;case kr.TIMEOUT:Rr(kd,'RPC "'+e+'" timed out'),a(new Wr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case kr.HTTP_ERROR:var n=s.getStatus();if(Rr(kd,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),0<n){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=r.status.toLowerCase().replace("_","-");return 0<=Object.values(zr).indexOf(t)?t:zr.UNKNOWN}();a(new Wr(i,r.message))}else a(new Wr(zr.UNKNOWN,"Server responded with status "+s.getStatus()))}else Rr(kd,'RPC "'+e+'" failed'),a(new Wr(zr.UNAVAILABLE,"Connection failed."));break;default:Fr('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{Rr(kd,'RPC "'+e+'" completed.')}});var u=JSON.stringify(t);Rr(kd,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),s.send(i,"POST",u,c,15)})},Od.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},Od.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ir(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(e,t){s.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})}Rr(kd,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,l=new Cd({sendFn:function(e){c?Rr(kd,"Not sending because WebChannel is closed:",e):(u||(Rr(kd,"Opening WebChannel transport."),s.open(),u=!0),Rr(kd,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}});return a(Ar.EventType.OPEN,function(){c||Rr(kd,"WebChannel transport opened.")}),a(Ar.EventType.CLOSE,function(){c||(c=!0,Rr(kd,"WebChannel transport closed"),l.callOnClose())}),a(Ar.EventType.ERROR,function(e){c||(c=!0,Rr(kd,"WebChannel transport errored:",e),l.callOnClose(new Wr(zr.UNAVAILABLE,"The operation could not be completed")))}),a(Ar.EventType.MESSAGE,function(e){if(!c){var t=e.data[0];Ur(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){Rr(kd,"WebChannel received error:",r);var i=r.status,o=function(e){var t=dl[i];if(void 0!==t)return bl(t)}(),a=r.message;void 0===o&&(o=zr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.callOnClose(new Wr(o,a)),s.close()}else Rr(kd,"WebChannel received:",t),l.callOnMessage(t)}}),setTimeout(function(){l.callOnOpen()},0),l},Od.prototype.makeUrl=function(e){var t=_d[e];Ur(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},Od);function Od(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}var Dd=(Object.defineProperty(xd.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(xd.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),xd.prototype.loadConnection=function(e){return Promise.resolve(new Nd(e))},xd.prototype.newConnectivityMonitor=function(){return Sd.isAvailable()?new Sd:new bd},xd.prototype.newSerializer=function(e){return new Kf(e,{useProto3Json:!0})},xd.prototype.formatJSON=function(e){return JSON.stringify(e)},xd.prototype.atob=function(e){return atob(e)},xd.prototype.btoa=function(e){return btoa(e)},xd);function xd(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}Vr.setPlatform(new Dd),function(e){e.INTERNAL.registerService("firestore",function(e){return new Fp(e)},function(e){Ur(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(gd))}(t)}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(2))}).call(this,n(21))}]]);
//# sourceMappingURL=2.f256f223.chunk.js.map